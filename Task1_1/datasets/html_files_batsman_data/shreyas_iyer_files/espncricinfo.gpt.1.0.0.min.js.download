(function(d){var cache={};d.publish=function(topic,args){cache[topic]&&d.each(cache[topic],function(){this.apply(d,args||[])})};d.subscribe=function(topic,callback){if(!cache[topic]){cache[topic]=[]}cache[topic].push(callback);return[topic,callback]};d.unsubscribe=function(handle){var t=handle[0];cache[t]&&d.each(cache[t],function(idx){if(this==handle[1]){cache[t].splice(idx,1)}})}})(jQuery);if(typeof espni==="undefined"){espni={},espni.ads={}}if(typeof $!=="undefined"){$window=$(window)}else if(typeof jQuery!=="undefined"){$window=jQuery(window)}if(espni.ads!=="undefined"){espni.ads=function(){var api={};api.version="0.0.1";api.slots=[];api.config={};api.config.selector=".espni-ad-slot";api.config.networkid=6444;api.config.kvpt="";api.config.refreshOnBreakpointChange=true;api.config.hasOutOfPageAdSlot=false;api.config.delayInPageAdSlots=true;api.config.supportDynamicPageLoad=true;api.config.path="/";api.config.breakpoints={xl:[1280],l:[1024,1279],m:[768,1023],s:[0,767]};api.config.sizes={overlay:{outofpage:true,defaultSize:[1,1],mappings:[{viewport:[1280,0],slot:[[1,1]]},{viewport:[1024,0],slot:[[1,1]]},{viewport:[768,0],slot:[[0,0]]},{viewport:[0,0],slot:[[0,0]]}]},wallpaper:{outofpage:false,defaultSize:[1680,1050],mappings:[{viewport:[1280,0],slot:[[1680,1050]]},{viewport:[1024,0],slot:[[0,0]]},{viewport:[768,0],slot:[[0,0]]},{viewport:[0,0],slot:[[0,0]]}]},banner:{outofpage:false,defaultSize:[728,90],mappings:[{viewport:[1280,0],slot:[[1280,100]]},{viewport:[1024,0],slot:[[970,66],[970,250]]},{viewport:[768,0],slot:[[728,90]]},{viewport:[0,0],slot:[320,50]}],"mappings-ukaus":[{viewport:[1280,0],slot:[[970,250],[1280,100]]},{viewport:[1024,0],slot:[[970,66],[970,250]]},{viewport:[768,0],slot:[[728,90]]},{viewport:[0,0],slot:[320,50]}],"mappings-tcm":[{viewport:[1280,0],slot:[[970,66],[970,250]]},{viewport:[1024,0],slot:[[970,66],[970,250]]},{viewport:[768,0],slot:[[728,90]]},{viewport:[0,0],slot:[320,50]}]},incontent:{outofpage:false,defaultSize:[300,250],mappings:[{viewport:[1280,0],slot:[[300,250],[300,600]]},{viewport:[1024,0],slot:[[300,250],[300,600]]},{viewport:[768,0],slot:[[300,250]]},{viewport:[0,0],slot:[[300,250]]}]},panel:{outofpage:false,defaultSize:[300,100],mappings:[{viewport:[1280,0],slot:[[300,100]]},{viewport:[1024,0],slot:[[300,100]]},{viewport:[768,0],slot:[[300,100]]},{viewport:[0,0],slot:[[300,100]]}]},storypanel:{outofpage:false,defaultSize:[640,480],mappings:[{viewport:[1280,0],slot:[[0,0]]},{viewport:[1024,0],slot:[[0,0]]},{viewport:[768,0],slot:[[0,0]]},{viewport:[0,0],slot:[[0,0]]}],"mappings-tcm":[{viewport:[1280,0],slot:[[640,480]]},{viewport:[1024,0],slot:[[640,480]]},{viewport:[768,0],slot:[[640,480]]},{viewport:[0,0],slot:[[320,180]]}]},instream:{outofpage:false,defaultSize:[1,3],mappings:[{viewport:[1280,0],slot:[[1,3]]},{viewport:[1024,0],slot:[[1,3]]},{viewport:[768,0],slot:[[1,3]]},{viewport:[0,0],slot:[[1,3]]}],"mappings-tcm":[{viewport:[1280,0],slot:[[1,3]]},{viewport:[1024,0],slot:[[1,3]]},{viewport:[768,0],slot:[[1,3]]},{viewport:[0,0],slot:[[1,3]]}]},longstrip:{outofpage:false,defaultSize:[615,40],mappings:[{viewport:[1280,0],slot:[[615,40]]},{viewport:[1024,0],slot:[[615,40]]},{viewport:[768,0],slot:[[615,40]]},{viewport:[0,0],slot:[[0,0]]}],"mappings-tcm":[{viewport:[1280,0],slot:[[615,40]]},{viewport:[1024,0],slot:[[615,40]]},{viewport:[768,0],slot:[[615,40]]},{viewport:[0,0],slot:[[0,0]]}]},incontentstrip:{outofpage:false,defaultSize:[298,50],mappings:[{viewport:[1280,0],slot:[[298,50]]},{viewport:[1024,0],slot:[[298,50]]},{viewport:[768,0],slot:[[298,50]]},{viewport:[0,0],slot:[[0,0]]}]}};api.config.nonresponsiveSizes={overlay:{outofpage:true,defaultSize:[1,1]},banner:{outofpage:false,defaultSize:[[728,90],[970,250],[970,66]]},incontent:{outofpage:false,defaultSize:[300,250]},longstrip:{outofpage:false,defaultSize:[615,40]},panel:{outofpage:false,defaultSize:[300,100]},incontentstrip:{outofpage:false,defaultSize:[298,50]}};api.config.livescorecardSizes={overlay:{outofpage:true,defaultSize:[1,1],mappings:[{viewport:[1280,0],slot:[[1,1]]},{viewport:[1024,0],slot:[[1,1]]},{viewport:[768,0],slot:[[0,0]]},{viewport:[0,0],slot:[[0,0]]}]},wallpaper:{outofpage:false,defaultSize:[1680,1050],mappings:[{viewport:[1280,0],slot:[[1680,1050]]},{viewport:[1024,0],slot:[[0,0]]},{viewport:[768,0],slot:[[0,0]]},{viewport:[0,0],slot:[[0,0]]}]},banner:{outofpage:false,defaultSize:[728,90],mappings:[{viewport:[1280,0],slot:[[970,66]]},{viewport:[1024,0],slot:[[970,66]]},{viewport:[768,0],slot:[[728,90]]},{viewport:[0,0],slot:[0,0]}],"mappings-usaukaus":[{viewport:[1280,0],slot:[[970,66],[970,250]]},{viewport:[1024,0],slot:[[970,66],[970,250]]},{viewport:[768,0],slot:[[728,90]]},{viewport:[0,0],slot:[0,0]}]},incontent:{outofpage:false,defaultSize:[300,250],mappings:[{viewport:[1280,0],slot:[[300,250]]},{viewport:[1024,0],slot:[[300,250]]},{viewport:[768,0],slot:[[300,250]]},{viewport:[0,0],slot:[[0,0]]}]},instream:{outofpage:false,defaultSize:[1,3],mappings:[{viewport:[1280,0],slot:[[1,3]]},{viewport:[1024,0],slot:[[1,3]]},{viewport:[768,0],slot:[[1,3]]},{viewport:[0,0],slot:[[1,3]]}]},longstrip:{outofpage:false,defaultSize:[615,40],mappings:[{viewport:[1280,0],slot:[[615,40]]},{viewport:[1024,0],slot:[[615,40]]},{viewport:[768,0],slot:[[615,40]]},{viewport:[0,0],slot:[[0,0]]}]}};function getSlotId(type){var slotId="ad-slot-"+type+"-"+Math.floor(999999*Math.random());return slotId}function slotStringToObject(a){var temp=a.split("x");$.each(temp,function(i,v){var c=parseInt(v,10);temp[i]=c});return temp}function _createConfig(elem_id){var config={};var temp_config=$("#"+elem_id).data();var id=elem_id;if(typeof temp_config!=="undefined"){if(temp_config.hasOwnProperty("slotType")===true){config.slotType=temp_config.slotType;config.defaultSize=api.config.sizes[config.slotType]["defaultSize"];config.outofpage=api.config.sizes[config.slotType]["outofpage"];config.mappings=api.config.sizes[config.slotType]["mappings"]}if(temp_config.hasOwnProperty("kvpos")===true){config.kvpos=temp_config.kvpos}if(temp_config.hasOwnProperty("excludeBp")===true){config.excludeBp=temp_config.excludeBp}if(temp_config.hasOwnProperty("collapseBeforeLoad")===true){config.collapseBeforeLoad=temp_config.collapseBeforeLoad}else{config.collapseBeforeLoad=false}config.id=elem_id}return config}function _updateConfig(){if(typeof ad_setting!=="undefined"){if(ad_setting.hasOwnProperty("template_type")===true){api.config.template_type=ad_setting.template_type}if(ad_setting.hasOwnProperty("template")===true){api.config.template=ad_setting.template}if(ad_setting.hasOwnProperty("path")===true){api.config.path=ad_setting.path}if(ad_setting.hasOwnProperty("kvpt")===true){api.config.kvpt=ad_setting.kvpt}if(ad_setting.hasOwnProperty("kvnavtype")===true){api.config.kvnavtype=ad_setting.kvnavtype}if(ad_setting.hasOwnProperty("kvsite")===true){api.config.kvsite=ad_setting.kvsite}if(ad_setting.hasOwnProperty("kvbrand")===true){api.config.kvbrand=ad_setting.kvbrand}if(ad_setting.hasOwnProperty("kvcluster")===true){api.config.kvcluster=ad_setting.kvcluster}if(ad_setting.hasOwnProperty("kvstoryid")===true){api.config.kvstoryid=ad_setting.kvstoryid}if(ad_setting.hasOwnProperty("kvauthorid")===true){api.config.kvauthorid=ad_setting.kvauthorid}if(ad_setting.hasOwnProperty("kvseriesid")===true){api.config.kvseriesid=ad_setting.kvseriesid}if(ad_setting.hasOwnProperty("kvgenreid")===true){api.config.kvgenreid=ad_setting.kvgenreid}if(ad_setting.hasOwnProperty("adtar")===true){api.config.adtar=ad_setting.adtar}if(ad_setting.hasOwnProperty("networkid")===true){api.config.networkid=ad_setting.networkid}if(ad_setting.hasOwnProperty("sp")===true){api.config.sp=ad_setting.sp}return api.config}}function defineBreakpoints(){if(api.config.breakpoints){api.config.profiles={};api.config.profiles.widths={};var min,max;for(var profile in api.config.breakpoints){if(api.config.breakpoints.hasOwnProperty(profile)){var sizes=api.config.breakpoints[profile];if(sizes.length===2){min=parseInt(sizes[0],10);max=parseInt(sizes[1],10);if(!isNaN(min)&&!isNaN(max)&&min<max){for(var i=min;i<=max;i++){api.config.profiles.widths[i]=profile}}}else if(sizes.length===1){max=parseInt(sizes[0],10);if(!isNaN(max)){api.config.profiles.maxProfile=profile;api.config.profiles.max=sizes[0]}}}}api.config.profiles.currentProfile=getCurrentBreakpoint();if(api.config.refreshOnBreakpointChange===true&&api.config.listeningForBreakpointChange!==true){$window.resize(function(){var bp=getCurrentBreakpoint();if(bp!==api.config.profiles.currentProfile){api.config.profiles.currentProfile=bp;refreshForBreakpointChange()}});api.config.listeningForBreakpointChange=true}}}function getCurrentBreakpoint(){var w=$window.width();if(w>=api.config.profiles.max){return api.config.profiles.maxProfile}return api.config.profiles.widths[w]}function shouldShowSlotForBreakpoint(slot){if(!slot||!api.config.profiles||!api.config.profiles.currentProfile){return true}var $slotObj=$("#"+slot);var include=$slotObj.attr("data-include-bp"),exclude=$slotObj.attr("data-exclude-bp"),shouldShow=true;if(typeof include!=="undefined"){if(include){if($.inArray(api.config.profiles.currentProfile,include.split(","))===-1){shouldShow=false}}}if(typeof exclude!=="undefined"){if(exclude){if($.inArray(api.config.profiles.currentProfile,exclude.split(","))!==-1){shouldShow=false}}}return shouldShow}function refreshForBreakpointChange(){clearTimeout(self.timeoutHook);self.timeoutHook=setTimeout(function(){_clear();api.reinit()},250)}function pickRandomAdSize(slot){var arr=[];var temp_arr=api.config.nonresponsiveSizes[slot.type]["defaultSize"];var rand_arr=temp_arr;if(typeof rand_arr==="number"){return temp_arr}else{return rand_arr}}function defineSlot(elem_id){if(elem_id){var c=_createConfig(elem_id);var shouldShow=shouldShowSlotForBreakpoint(elem_id);if(shouldShow&&c.slotType&&c.mappings&&c.defaultSize){var obj={id:c.id,type:c.slotType,defaultSize:c.defaultSize,mappings:c.mappings,kvpos:c.kvpos,isOutOfPage:c.outofpage,collapseBeforeLoad:c.collapseBeforeLoad};api.slots.push(obj);return obj}}}function defineGPTSlot(slot,config){if(api.config.template_type==="non_responsive"){var defaultSize=pickRandomAdSize(slot);slot.defaultSize=defaultSize;slot.mappings={viewport:[0,0],slot:[slot.defaultSize]}}if(api.config.template_type==="live_scorecard"){slot.mappings=api.config.livescorecardSizes[slot.type]["mappings"];if(typeof api.config.kvcluster!=="undefined"){if(api.config.kvcluster==="uk"||api.config.kvcluster==="usa"||api.config.kvcluster==="aus"||api.config.kvcluster==="eur"||api.config.kvcluster==="rsa"||api.config.kvcluster==="gulf"){if(slot.type==="banner"){slot.mappings=api.config.livescorecardSizes[slot.type]["mappings-usaukaus"]}}}}if(api.config.template_type!=="live_scorecard"&&api.config.template_type==="responsive"){if(typeof api.config.kvcluster!=="undefined"){if(api.config.kvcluster==="uk"||api.config.kvcluster==="aus"||api.config.kvcluster==="eur"||api.config.kvcluster==="rsa"||api.config.kvcluster==="gulf"||api.config.kvcluster==="usa"){if(slot.type==="banner"){slot.mappings=api.config.sizes[slot.type]["mappings-ukaus"]}}}}if(api.config.kvbrand==="tcm"){if(slot.type==="banner"){slot.mappings=api.config.sizes[slot.type]["mappings-tcm"]}if(slot.type==="storypanel"){slot.mappings=api.config.sizes[slot.type]["mappings-tcm"]}}var sizeMapping=getSizeMapping(slot);var gptSlot;var path=config.path;if(slot.isOutOfPage===true){gptSlot=googletag.defineOutOfPageSlot(path,slot.id).addService(googletag.pubads()).setTargeting("slotId",slot.id);api.config.hasOutOfPageAdSlot=true}else{gptSlot=googletag.defineSlot(path,slot.defaultSize,slot.id).addService(googletag.pubads()).defineSizeMapping(sizeMapping)}if(slot.collapseBeforeLoad===true){gptSlot.setCollapseEmptyDiv(true,true)}if(config.adtar){gptSlot.setTargeting("adtar",config.adtar)}gptSlot.setTargeting("prof",config.profiles.currentProfile);gptSlot.setTargeting("kvpos",slot.kvpos);gptSlot.setTargeting("kvpt",config.kvpt);gptSlot.setTargeting("kvsite",config.kvsite);gptSlot.setTargeting("kvbrand",config.kvbrand);gptSlot.setTargeting("kvstoryid",config.kvstoryid);gptSlot.setTargeting("kvauthorid",config.kvauthorid);gptSlot.setTargeting("kvseriesid",config.kvseriesid);gptSlot.setTargeting("kvgenreid",config.kvgenreid);gptSlot.setTargeting("sp",config.sp);gptSlot.type=slot.type;gptSlot.isOutOfPage=slot.isOutOfPage;api.gptadslots[slot.id]=gptSlot;return gptSlot}function clearTargeting(key){if(!key){googletag.pubads().clearTargeting("kvpos");googletag.pubads().clearTargeting("kvpt");googletag.pubads().clearTargeting("adtar")}}function getSizeMapping(slot){var sizeMapping=googletag.sizeMapping();$(slot.mappings).each(function(){sizeMapping.addSize(this.viewport,this.slot)});return sizeMapping.build()}function _init(config){if(!config){return}api.config=config;defineBreakpoints();api.slots=[];$(api.config.selector).empty().each(function(i,v){var type=$(this).attr("data-slot-type");var id=getSlotId(type);$(this).attr("id",id);defineSlot(id)});googletag.cmd.push(function(){var $slots=$(api.slots);api.gptadslots={};googletag.pubads().collapseEmptyDivs(true);$slots.each(function(){defineGPTSlot(this,api.config)});if(api.initialized!==true){googletag.pubads().addEventListener("slotRenderEnded",function(event){var slots=api.gptadslots;for(var key in slots){if(slots.hasOwnProperty(key)){if(slots[key]===event.slot){$.publish("ad.rendered",[key,event]);break}}}});googletag.pubads().setCentering(true);googletag.pubads().enableSingleRequest();googletag.pubads().disableInitialLoad();if(api.onSlotRenderEnded&&typeof api.onSlotRenderEnded==="function"){googletag.pubads().addEventListener("slotRenderEnded",api.onSlotRenderEnded)}googletag.enableServices();api.initialized=true}$slots.each(function(){googletag.display(this.id)});if(api.config.supportDynamicPageLoad===true){if(api.config.hasOutOfPageAdSlot===true&&api.config.delayInPageAdSlots===true){_refreshOutOfPageAdSlots()}else{_refreshAll()}}})}function _initSlot(elem_id,config,callback){if(elem_id){googletag.cmd.push(function(){var slot=defineSlot(elem_id),id=slot.id,gptSlot;if(!callback||typeof callback!=="function"){callback=function(){}}if(slot){untrackSlot(id);clearTargeting();gptSlot=defineGPTSlot(slot,config);addTargeting(config);googletag.pubads().updateCorrelator();googletag.display(slot.id);if(config.supportDynamicPageLoad===true&&config.disableInitialLoad!==true){_refresh([gptSlot])}self.config=config;callback(slot)}else{callback(undefined)}})}}function _registerSlot(elem_id,config){if(elem_id){googletag.cmd.push(function(){var slot=defineSlot(elem_id),gptSlot;if(slot){gptSlot=defineGPTSlot(slot,config);addTargeting(config);if(config.supportDynamicPageLoad===true){googletag.display(slot.id)}}})}}function getGPTslots(){return api.gptadslots}function _refreshOutOfPageAdSlots(){var arr=getGPTArray({outOfPage:true});googletag.cmd.push(function(){googletag.pubads().refresh(arr)})}function _refreshInPageAdSlots(){var arr=getGPTArray({inPage:true});googletag.cmd.push(function(){googletag.pubads().refresh(arr)})}function _refresh(arr){if(arr&&arr instanceof Array){googletag.cmd.push(function(){googletag.pubads().refresh(arr)})}}function _refreshAll(){var arr=getGPTArray();googletag.cmd.push(function(){googletag.pubads().refresh(arr)})}function _clear(){googletag.cmd.push(function(){googletag.pubads().clear()})}function untrackSlot(id){for(var i=0,l=api.slots.length;i<l;i++){if(api.slots[i].id===id){api.slots.splice(i,1);break}}if(api.gptadslots&&api.gptadslots[id]){delete api.gptadslots[id]}}function getGPTArray(obj){var slots=api.gptadslots||{};var slot;var arr=[];if(!obj){obj={}}for(var key in slots){if(slots.hasOwnProperty(key)){slot=slots[key];if(obj.inPage===true&&slot.isOutOfPage!==true){arr.push(slot)}else if(obj.outOfPage===true&&slot.isOutOfPage===true){arr.push(slot)}else if(obj.inPage!==true&&obj.outOfPage!==true){arr.push(slot)}}}return arr}function _debug(){console.log("version: ",api.version);console.log("networkid: ",api.config.networkid);console.log("path: ",api.config.path);console.log("kvbrand: ",api.config.kvbrand);console.log("selector: ",api.config.selector);console.log("current breakpoint: ",api.config.profiles.currentProfile);$(api.slots).each(function(i){window.console.log("slot "+(i+1)+": ");window.console.log("\tid: "+this.id);window.console.log("\ttype: "+this.type);window.console.log("\tdefaultSize: "+this.defaultSize);window.console.log("\toutOfPage: "+this.isOutOfPage);$(this.mappings).each(function(){window.console.log("\tviewport: "+this.viewport+" -> "+this.slot.join(" "))})})}api.clear=function(){_clear()};api.getGPTArray=function(){getGPTArray()};api.refreshInPageAdSlots=function(){_refreshInPageAdSlots()};api.refresh=function(arr){_refresh(arr)};api.refreshAll=function(){_refreshAll()};api.refreshOutOfPageAdSlots=function(){_refreshOutOfPageAdSlots()};api.untrackSlot=function(slotId){untrackSlot(slotId)};api.initSlot=function(elem_id,config,callback){_initSlot(elem_id,config,callback)};api.registerSlot=function(elem_id,config){var type=$("#"+elem_id).attr("data-slot-type");var id=getSlotId(type);$("#"+elem_id).attr("id",id);elem_id=id;_registerSlot(elem_id,config)};api.getSlots=function(){return api.slots};api.updateConfig=function(c){return _updateConfig(c)};api.reinit=function(){api.init(api.config)};api.init=function(config){_init(config)};api.debug=function(){_debug()};return api}()}espni.ads.helpers={};var lstimer_1,lstimer_2;espni.ads.helpers.refreshAllAfter=function(s){_refreshAllAfterSeconds(s)};function _refreshAllAfterSeconds(s){clearTimeout(lstimer_2);lstimer_2=setTimeout(function(){espni.ads.refreshInPageAdSlots();_refreshAllAfterSeconds(s)},s)}if(typeof ad_setting!=="undefined"){var __GPTconfig=espni.ads.updateConfig(ad_setting)}if(typeof $!=="undefined"){if(typeof $.subscribe==="undefined"){if(typeof jQuery.subscribe!=="undefined"){$=jQuery}}}$(function(){$.subscribe("ad.rendered",function(key,event){if(event.slot.type==="overlay"){if(event.isEmpty===true&&espni.ads.config.delayInPageAdSlots===true){espni.ads.refreshInPageAdSlots()}}});$.subscribe("ad.overlay.close",function(){if(espni.ads.config.delayInPageAdSlots===true){espni.ads.refreshInPageAdSlots()}})});if(typeof __GPTconfig!=="undefined"){if(__GPTconfig.kvnavtype!=="homepage"&&__GPTconfig.kvnavtype!=="serieshome"&&__GPTconfig.kvnavtype!=="teamhome"){$(function(){espni.ads.init(__GPTconfig)})}}
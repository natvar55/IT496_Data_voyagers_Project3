/*!
 * @preserve
 * espn-web-player-bundle v3.2.38
 * 2020-12-16T23:03:57.266Z
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).DTCIVideoPlayer=t()}(this,(function(){"use strict";var e=function(){function e(){this.interceptors={},this.listeners={}}return e.prototype.addEventListener=function(e,t){var n=this.listeners[e]||[];return n.push(t),this.listeners[e]=n,this},e.prototype.removeEventListener=function(e,t){return this.listeners[e]=(this.listeners[e]||[]).filter((function(e){return e!==t})),this},e.prototype.addEventInterceptor=function(e,t){return this.interceptors[e]=t,this},e.prototype.removeEventInterceptor=function(e){return delete this.interceptors[e],this},e.prototype.coordinate=function(e,t){var n=this.interceptors[e]||function(){return Promise.resolve(t)},i=this.listeners[e]||[];return Promise.resolve().then((function(){return n.call(null,t)})).then((function(e){return i.forEach((function(t){t.call(null,e)})),e}))},e}(),t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,n)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function n(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var i,r,o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function s(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}function l(e){switch(e){case i.abc:return"001";case i.freeform:return"002";case i.abcNews:return"003";case i.disney:return"004";case i.disneyJr:return"008";case i.disneyXD:return"009";case i.disneyNow:return"011";case i.oscar:return"005";case i.fxNow:return"025";case i.fx:return"020";case i.fxm:return"022";case i.fxx:return"021";case i.natGeoTV:return"026";case i.natGeo:case i.natGeoWild:return"023";case i.unknown:return i.unknown}}function d(e){switch(e){case i.abc:return"ABC";case i.freeform:return"ABCFamily";case i.abcNews:return"ABC";case i.disney:return"Disney";case i.disneyJr:return"DisneyJunior";case i.disneyXD:return"DisneyXD";case i.disneyNow:return"DisneyNow";case i.oscar:return"ABC";case i.fxNow:return"fxNow";case i.fx:return"fx";case i.fxm:return"fxm";case i.fxx:return"fxx";case i.natGeoTV:return"ngtv";case i.natGeo:return"ngc";case i.natGeoWild:return"ngw";case i.unknown:return i.unknown}}function h(e){switch(e){case"abc":case"001":return i.abc;case"abcf":case"002":case"abcfamily":case"ff":case"ABCFamily":return i.freeform;case"abcn":case"003":case"abcnews":return i.abcNews;case"dch":case"dc":case"dis":case"004":case"disney":return i.disney;case"djr":case"008":case"disneyjunior":return i.disneyJr;case"dxd":case"009":case"disneyxd":return i.disneyXD;case"005":case"oscar":return i.oscar;case"dnow":case"011":case"disneynow":case"dnw":case"Dnow":return i.disneyNow;case"fx":case"020":case"FX":return i.fx;case"fxm":case"022":case"FXM":return i.fxm;case"fxx":case"021":case"FXX":return i.fxx;case"fxnow":case"025":case"FXnow":case"FXNow":return i.fxNow;case"natgeo":case"023":case"NatGeo":case"ngc":return i.natGeo;case"natgeowild":case"024":case"NatGeoWild":case"ngw":return i.natGeoWild;case"natgeotv":case"026":case"NatGeoTV":return i.natGeoTV;default:return i.unknown}}!function(e){e.abc="abc",e.freeform="ff",e.abcNews="abcnews",e.disney="dch",e.disneyJr="djr",e.disneyXD="dxd",e.disneyNow="dnow",e.oscar="oscar",e.fxNow="fxnow",e.fx="fx",e.fxm="fxm",e.fxx="fxx",e.natGeoTV="natgeotv",e.natGeo="natgeo",e.natGeoWild="natgeowild",e.unknown="000"}(i||(i={})),function(e){e.localStorage="LOCAL_STORAGE",e.sessionStorage="SESSION_STORAGE"}(r||(r={}));var p,f=function(){function e(e,t,n,i){this.id=e,this.name=t,this.logoUrl=n,this.websiteUrl=i}return e.prototype.toString=function(){return"<AuthenticatedProvider id:"+this.id+", name:"+this.name+", logoUrl:"+this.logoUrl+", websiteUrl:"+this.websiteUrl+">"},e.fromObject=function(t){return new e(t.id,t.name,t.logoUrl,t.websiteUrl)},e}();!function(e){e.token="token",e.tokenType="tokenType",e.resource="resource",e.requestor="requestor"}(p||(p={}));var y,m,v=function(){function e(e,t,n,i){void 0===i&&(i={}),this.authenticationType=e,this.authenticatedProvider=t,this.authenticatedIdentity=n,this.customData=i}return e.CustomDataKey=p,e}(),g=function(e,t){this.success=e,this.payload=t};!function(e){e.standard="default",e.googleAdManager="gam"}(y||(y={})),function(e){e.standard="default",e.prod="prod",e.development="dev"}(m||(m={}));var A=function(e){return null===e?null:e?"1":"0"},b=function(e,t){return null!=e?e:t},w=function(){function e(e,t,n,i,r,o,a,s,c,u,l,d,h,p,f,v,g,A,b,w,T,S,_,E,P,I,C,k,D,M,O,L,U,R,N,j,x,F,B,V,H,z,G){void 0===e&&(e="espn"),void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=!1),void 0===s&&(s=null),void 0===c&&(c=null),void 0===u&&(u=!1),void 0===l&&(l=null),void 0===d&&(d=null),void 0===h&&(h=null),void 0===p&&(p=!1),void 0===f&&(f=null),void 0===v&&(v=null),void 0===g&&(g=null),void 0===A&&(A=null),void 0===b&&(b=null),void 0===w&&(w=null),void 0===T&&(T=null),void 0===S&&(S=null),void 0===_&&(_=null),void 0===E&&(E=null),void 0===P&&(P=null),void 0===I&&(I=null),void 0===C&&(C=null),void 0===k&&(k=null),void 0===D&&(D=null),void 0===M&&(M=null),void 0===O&&(O=null),void 0===L&&(L=null),void 0===U&&(U=null),void 0===R&&(R=null),void 0===N&&(N=null),void 0===j&&(j=null),void 0===x&&(x={}),void 0===F&&(F=null),void 0===B&&(B=null),void 0===V&&(V=null),void 0===H&&(H=null),void 0===z&&(z=m.standard),void 0===G&&(G=y.standard),this.an=e,this.descriptionUrl=t,this.edition=n,this.fcap=i,this.hl=r,this.idType=o,this.isLat=a,this.iu=s,this.msid=c,this.npa=u,this.ppid=l,this.rdid=d,this.tags=h,this.tfcd=p,this.url=f,this.vpa=v,this.vpmute=g,this.authenticationProvider=A,this.bundleId=b,this.deviceOS=w,this.deviceType=T,this.isAutoplay=S,this.isMute=_,this.language=E,this.nielsenAppId=P,this.nielsenDeviceGroup=I,this.noAds=C,this.objectId=k,this.pageType=D,this.platform=M,this.stitchingProvider=O,this.swid=L,this.testAdTargeting=U,this.unid=R,this.videoDeliveryMethod=N,this.videoPlayerSize=j,this.userInfo=x,this.isDoNotTrackEnabled=F,this.pp=B,this.cmsid=V,this.vid=H,this.adEnvironment=z,this.adProvider=G}return e.prototype.merge=function(e){return e?(this.an=e.an||this.an,this.descriptionUrl=e.descriptionUrl||this.descriptionUrl,this.fcap=e.fcap||this.fcap,this.hl=e.hl||this.hl,this.idType=e.idType||this.idType,this.isLat=b(e.isLat,this.isLat),this.iu=e.iu||this.iu,this.msid=e.msid||this.msid,this.npa=b(e.npa,this.npa),this.ppid=e.ppid||this.ppid,this.rdid=e.rdid||this.rdid,this.tfcd=b(e.tfcd,this.tfcd),this.url=e.url||this.url,this.vpa=b(e.vpa,this.vpa),this.vpmute=b(e.vpmute,this.vpmute),this.authenticationProvider=e.authenticationProvider||this.authenticationProvider,this.bundleId=e.bundleId||this.bundleId,this.deviceOS=e.deviceOS||this.deviceOS,this.deviceType=e.deviceType||this.deviceType,this.isAutoplay=b(e.isAutoplay,this.isAutoplay),this.isMute=b(e.isMute,this.isMute),this.language=e.language||this.language,this.nielsenAppId=e.nielsenAppId||this.nielsenAppId,this.nielsenDeviceGroup=e.nielsenDeviceGroup||this.nielsenDeviceGroup,this.noAds=b(e.noAds,this.noAds),this.objectId=e.objectId||this.objectId,this.platform=e.platform||this.platform,this.stitchingProvider=e.stitchingProvider||this.stitchingProvider,this.swid=e.swid||this.swid,this.tags=e.tags||this.tags,this.testAdTargeting=e.testAdTargeting||this.testAdTargeting,this.unid=e.unid||this.unid,this.videoDeliveryMethod=e.videoDeliveryMethod||this.videoDeliveryMethod,this.videoPlayerSize=e.videoPlayerSize||this.videoPlayerSize,this.isDoNotTrackEnabled=b(e.isDoNotTrackEnabled,this.isDoNotTrackEnabled),this.pp=e.pp||this.pp,this.cmsid=e.cmsid||this.cmsid,this.vid=e.vid||this.vid,this.userInfo?Object.assign(this.userInfo,e.userInfo):this.userInfo=e.userInfo,this.adEnvironment=e.adEnvironment!==m.standard?e.adEnvironment:this.adEnvironment,this.adProvider=e.adProvider!==y.standard?e.adProvider:this.adProvider,this):this},e.prototype.dictionaryForStartSession=function(){var e={};return e["ad.tfcd"]=A(this.tfcd),e["ad.is_lat"]=A(this.isLat),e["ad.idtype"]=this.idType,e["ad.rdid"]=this.rdid,e["ad.ppid"]=this.ppid||this.swid,e["ad.description_url"]=this.descriptionUrl,e["ad.hl"]=this.hl,e["ad.npa"]=A(this.npa),e["ad.msid"]=this.msid,e["ad.an"]=this.an,e["ad.url"]=this.url,e.authp=this.authenticationProvider,e.bundleId=this.bundleId,e.devOS=this.deviceOS,e.devType=this.deviceType,e.fcap=this.fcap,e.isAutoplay=A(this.isAutoplay),e.isMute=A(this.isMute),e.nlsnAppID=this.nielsenAppId,e.plt=this.platform,e.swid=this.swid,e.unid=this.unid,e.vps=this.videoPlayerSize,this.adEnvironment!==m.standard&&(e.adEnv=this.adEnvironment),this.adProvider!==y.standard&&(e.adProvider=this.adProvider),Object.assign(e,this.userInfo),Object.keys(e).forEach((function(t){return null===e[t]&&delete e[t]})),e},e.prototype.dictionaryForBrightcove=function(){var e={};e.bundleId=this.bundleId,e.devOS=this.deviceOS,e.devType=this.deviceType,e.isAutoplay=A(this.isAutoplay),e.isMute=A(this.isMute),e.plt=this.platform,e.swid=this.swid,e.vps=this.videoPlayerSize,e.d_id=this.rdid,e.vdm=this.videoDeliveryMethod||"vod",e.stp=this.stitchingProvider||"brightcove";var t=Object.keys(e).filter((function(t){return null!==e[t]})).map((function(t){return t+"="+e[t]})).join("&"),n={};return n.UMADPARAMiu=this.iu,n.UMADPARAMis_lat=A(this.isLat),n.UMADPARAMidtype=this.idType,n.UMADPARAMrdid=this.rdid,n.UMADPARAMppid=this.ppid||this.swid,n.UMADPARAMdescription_url=this.descriptionUrl,n.UMADPARAMhl=this.hl,n.UMADPARAMnpa=A(this.npa),n.UMADPARAMmsid=this.msid,n.UMADPARAMan=this.an,n.UMADPARAMurl=this.url,n.UMADPARAMvpa=A(this.vpa),n.UMADPARAMvpmute=A(this.vpmute),n.UMPTPARAMcust_params=t,Object.assign(n,this.userInfo),Object.keys(n).forEach((function(e){return null===n[e]&&delete n[e]})),n},e.prototype.dictionaryForAdEngine=function(){var e={};switch(e.sect=this.iu,e.npa=A(this.npa),e.lat=A(this.isLat),e.idtype=this.idType,e.devId=this.rdid,e.ppid=this.ppid||this.swid,e.app=this.an,e.tfcd=A(this.tfcd),e.devOS=this.deviceOS,e.devType=this.deviceType,e.isAutoplay=A(this.isAutoplay),e.isMute=A(this.isMute),e.plt=this.platform,e.swid=this.swid,e.unid=this.unid,e.vps=this.videoPlayerSize,e.bundle=this.msid,e.hl=this.hl,e.UID=this.swid,e.vdm=this.videoDeliveryMethod,e.url=this.url,this.adEnvironment){case m.development:e.env="qa";break;case m.prod:e.env="prod";break;case m.standard:}switch(this.adProvider){case y.googleAdManager:e.ads="google";break;case y.standard:}return Object.assign(e,this.userInfo),Object.keys(e).forEach((function(t){return null===e[t]&&delete e[t]})),e},e.prototype.dictionaryForImaSdk=function(){var e={};e.ed=this.edition,e.devOS=this.deviceOS,e.devType=this.deviceType,e.isAutoplay=A(this.isAutoplay),e.isDnt=A(this.isDoNotTrackEnabled),e.isMute=A(this.isMute),e.lang=this.language,e.nlsnAppID=this.nielsenAppId,e.nlsnDevGrp=this.nielsenDeviceGroup,e.noad=this.noAds,e.objid=this.objectId,e.plt=this.platform,e.swid=this.swid,e.tag=this.tags,e.tstAdTarg=this.testAdTargeting,e.unid=this.unid,e.vdm=this.videoDeliveryMethod||"vod",e.vps=this.videoPlayerSize;var t=Object.keys(e).filter((function(t){return null!==e[t]})).map((function(t){return t+"="+e[t]})).join("&"),n={};return n.cmsid=this.cmsid,n.description_url=this.descriptionUrl,n.hl=this.hl,n.iu=this.iu,n.npa=A(this.npa),n.pp=this.pp,n.ppid=this.ppid,n.tfcd=A(this.tfcd),n.vid=this.vid,n.vpa=A(this.vpa),n.cust_params=t,n.gdfp_req="1",n.env="vp",n.sz="640x480",Object.keys(n).forEach((function(e){return null===n[e]&&delete n[e]})),n},e.ppidForSwid=function(e){return e},e}(),T=Math.ceil,S=Math.floor,_=function(e){return isNaN(e=+e)?0:(e>0?S:T)(e)},E=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},P=function(e){return function(t,n){var i,r,o=String(E(t)),a=_(n),s=o.length;return a<0||a>=s?e?"":void 0:(i=o.charCodeAt(a))<55296||i>56319||a+1===s||(r=o.charCodeAt(a+1))<56320||r>57343?e?o.charAt(a):i:e?o.slice(a,a+2):r-56320+(i-55296<<10)+65536}},I={codeAt:P(!1),charAt:P(!0)},C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function k(e,t){return e(t={exports:{}},t.exports),t.exports}var D=function(e){return e&&e.Math==Math&&e},M=D("object"==typeof globalThis&&globalThis)||D("object"==typeof window&&window)||D("object"==typeof self&&self)||D("object"==typeof C&&C)||Function("return this")(),O=function(e){try{return!!e()}catch(e){return!0}},L=!O((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),U=function(e){return"object"==typeof e?null!==e:"function"==typeof e},R=M.document,N=U(R)&&U(R.createElement),j=function(e){return N?R.createElement(e):{}},x=!L&&!O((function(){return 7!=Object.defineProperty(j("div"),"a",{get:function(){return 7}}).a})),F=function(e){if(!U(e))throw TypeError(String(e)+" is not an object");return e},B=function(e,t){if(!U(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!U(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!U(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!U(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},V=Object.defineProperty,H={f:L?V:function(e,t,n){if(F(e),t=B(t,!0),F(n),x)try{return V(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},z=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},G=L?function(e,t,n){return H.f(e,t,z(1,n))}:function(e,t,n){return e[t]=n,e},W=M["__core-js_shared__"]||function(e,t){try{G(M,e,t)}catch(n){M[e]=t}return t}("__core-js_shared__",{}),q=Function.toString;"function"!=typeof W.inspectSource&&(W.inspectSource=function(e){return q.call(e)});var Y,K,X,Q=W.inspectSource,$=M.WeakMap,Z="function"==typeof $&&/native code/.test(Q($)),J={}.hasOwnProperty,ee=function(e,t){return J.call(e,t)},te=k((function(e){(e.exports=function(e,t){return W[e]||(W[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),ne=0,ie=Math.random(),re=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++ne+ie).toString(36)},oe=te("keys"),ae=function(e){return oe[e]||(oe[e]=re(e))},se={},ce=M.WeakMap;if(Z){var ue=new ce,le=ue.get,de=ue.has,he=ue.set;Y=function(e,t){return he.call(ue,e,t),t},K=function(e){return le.call(ue,e)||{}},X=function(e){return de.call(ue,e)}}else{var pe=ae("state");se[pe]=!0,Y=function(e,t){return G(e,pe,t),t},K=function(e){return ee(e,pe)?e[pe]:{}},X=function(e){return ee(e,pe)}}var fe,ye,me,ve={set:Y,get:K,has:X,enforce:function(e){return X(e)?K(e):Y(e,{})},getterFor:function(e){return function(t){var n;if(!U(t)||(n=K(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ge={}.propertyIsEnumerable,Ae=Object.getOwnPropertyDescriptor,be={f:Ae&&!ge.call({1:2},1)?function(e){var t=Ae(this,e);return!!t&&t.enumerable}:ge},we={}.toString,Te=function(e){return we.call(e).slice(8,-1)},Se="".split,_e=O((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==Te(e)?Se.call(e,""):Object(e)}:Object,Ee=function(e){return _e(E(e))},Pe=Object.getOwnPropertyDescriptor,Ie={f:L?Pe:function(e,t){if(e=Ee(e),t=B(t,!0),x)try{return Pe(e,t)}catch(e){}if(ee(e,t))return z(!be.f.call(e,t),e[t])}},Ce=/#|\.prototype\./,ke=function(e,t){var n=Me[De(e)];return n==Le||n!=Oe&&("function"==typeof t?O(t):!!t)},De=ke.normalize=function(e){return String(e).replace(Ce,".").toLowerCase()},Me=ke.data={},Oe=ke.NATIVE="N",Le=ke.POLYFILL="P",Ue=ke,Re={},Ne=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},je=function(e,t,n){if(Ne(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},xe=Ie.f,Fe=function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t},Be=function(e,t){var n,i,r,o,a,s,c,u,l=e.target,d=e.global,h=e.stat,p=e.proto,f=d?M:h?M[l]:(M[l]||{}).prototype,y=d?Re:Re[l]||(Re[l]={}),m=y.prototype;for(r in t)n=!Ue(d?r:l+(h?".":"#")+r,e.forced)&&f&&ee(f,r),a=y[r],n&&(s=e.noTargetGet?(u=xe(f,r))&&u.value:f[r]),o=n&&s?s:t[r],n&&typeof a==typeof o||(c=e.bind&&n?je(o,M):e.wrap&&n?Fe(o):p&&"function"==typeof o?je(Function.call,o):o,(e.sham||o&&o.sham||a&&a.sham)&&G(c,"sham",!0),y[r]=c,p&&(ee(Re,i=l+"Prototype")||G(Re,i,{}),Re[i][r]=o,e.real&&m&&!m[r]&&G(m,r,o)))},Ve=function(e){return Object(E(e))},He=!O((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),ze=ae("IE_PROTO"),Ge=Object.prototype,We=He?Object.getPrototypeOf:function(e){return e=Ve(e),ee(e,ze)?e[ze]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Ge:null},qe=!!Object.getOwnPropertySymbols&&!O((function(){return!String(Symbol())})),Ye=qe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ke=te("wks"),Xe=M.Symbol,Qe=Ye?Xe:Xe&&Xe.withoutSetter||re,$e=function(e){return ee(Ke,e)||(qe&&ee(Xe,e)?Ke[e]=Xe[e]:Ke[e]=Qe("Symbol."+e)),Ke[e]},Ze=($e("iterator"),!1);[].keys&&("next"in(me=[].keys())?(ye=We(We(me)))!==Object.prototype&&(fe=ye):Ze=!0),null==fe&&(fe={});var Je,et={IteratorPrototype:fe,BUGGY_SAFARI_ITERATORS:Ze},tt=Math.min,nt=function(e){return e>0?tt(_(e),9007199254740991):0},it=Math.max,rt=Math.min,ot=function(e,t){var n=_(e);return n<0?it(n+t,0):rt(n,t)},at=function(e){return function(t,n,i){var r,o=Ee(t),a=nt(o.length),s=ot(i,a);if(e&&n!=n){for(;a>s;)if((r=o[s++])!=r)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},st={includes:at(!0),indexOf:at(!1)},ct=st.indexOf,ut=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],lt=Object.keys||function(e){return function(e,t){var n,i=Ee(e),r=0,o=[];for(n in i)!ee(se,n)&&ee(i,n)&&o.push(n);for(;t.length>r;)ee(i,n=t[r++])&&(~ct(o,n)||o.push(n));return o}(e,ut)},dt=L?Object.defineProperties:function(e,t){F(e);for(var n,i=lt(t),r=i.length,o=0;r>o;)H.f(e,n=i[o++],t[n]);return e},ht=function(e){return"function"==typeof e?e:void 0},pt=function(e,t){return arguments.length<2?ht(Re[e])||ht(M[e]):Re[e]&&Re[e][t]||M[e]&&M[e][t]},ft=pt("document","documentElement"),yt=ae("IE_PROTO"),mt=function(){},vt=function(e){return"<script>"+e+"<\/script>"},gt=function(){try{Je=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;gt=Je?function(e){e.write(vt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Je):((t=j("iframe")).style.display="none",ft.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(vt("document.F=Object")),e.close(),e.F);for(var n=ut.length;n--;)delete gt.prototype[ut[n]];return gt()};se[yt]=!0;var At=Object.create||function(e,t){var n;return null!==e?(mt.prototype=F(e),n=new mt,mt.prototype=null,n[yt]=e):n=gt(),void 0===t?n:dt(n,t)},bt={};bt[$e("toStringTag")]="z";var wt="[object z]"===String(bt),Tt=$e("toStringTag"),St="Arguments"==Te(function(){return arguments}()),_t=wt?Te:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Tt))?n:St?Te(t):"Object"==(i=Te(t))&&"function"==typeof t.callee?"Arguments":i},Et=wt?{}.toString:function(){return"[object "+_t(this)+"]"},Pt=H.f,It=$e("toStringTag"),Ct=function(e,t,n,i){if(e){var r=n?e:e.prototype;ee(r,It)||Pt(r,It,{configurable:!0,value:t}),i&&!wt&&G(r,"toString",Et)}},kt={},Dt=et.IteratorPrototype,Mt=function(){return this},Ot=(Object.setPrototypeOf||"__proto__"in{}&&function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}}(),function(e,t,n,i){i&&i.enumerable?e[t]=n:G(e,t,n)}),Lt=et.IteratorPrototype,Ut=et.BUGGY_SAFARI_ITERATORS,Rt=$e("iterator"),Nt=function(){return this},jt=function(e,t,n,i,r,o,a){!function(e,t,n){var i=t+" Iterator";e.prototype=At(Dt,{next:z(1,n)}),Ct(e,i,!1,!0),kt[i]=Mt}(n,t,i);var s,c,u,l=function(e){if(e===r&&y)return y;if(!Ut&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",h=!1,p=e.prototype,f=p[Rt]||p["@@iterator"]||r&&p[r],y=!Ut&&f||l(r),m="Array"==t&&p.entries||f;if(m&&(s=We(m.call(new e)),Lt!==Object.prototype&&s.next&&(Ct(s,d,!0,!0),kt[d]=Nt)),"values"==r&&f&&"values"!==f.name&&(h=!0,y=function(){return f.call(this)}),a&&p[Rt]!==y&&G(p,Rt,y),kt[t]=y,r)if(c={values:l("values"),keys:o?y:l("keys"),entries:l("entries")},a)for(u in c)(Ut||h||!(u in p))&&Ot(p,u,c[u]);else Be({target:t,proto:!0,forced:Ut||h},c);return c},xt=I.charAt,Ft=ve.set,Bt=ve.getterFor("String Iterator");jt(String,"String",(function(e){Ft(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=Bt(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=xt(n,i),t.index+=e.length,{value:e,done:!1})}));var Vt=ve.set,Ht=ve.getterFor("Array Iterator");jt(Array,"Array",(function(e,t){Vt(this,{type:"Array Iterator",target:Ee(e),index:0,kind:t})}),(function(){var e=Ht(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values");kt.Arguments=kt.Array;var zt=$e("toStringTag");for(var Gt in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Wt=M[Gt],qt=Wt&&Wt.prototype;qt&&_t(qt)!==zt&&G(qt,zt,Gt),kt[Gt]=kt.Array}var Yt=M.Promise,Kt=$e("species"),Xt=$e("iterator"),Qt=Array.prototype,$t=$e("iterator"),Zt=function(e,t,n,i){try{return i?t(F(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&F(r.call(e)),t}},Jt=k((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,i,r,o){var a,s,c,u,l,d,h,p,f=je(n,i,r?2:1);if(o)a=e;else{if("function"!=typeof(s=function(e){if(null!=e)return e[$t]||e["@@iterator"]||kt[_t(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(p=s)&&(kt.Array===p||Qt[Xt]===p)){for(c=0,u=nt(e.length);u>c;c++)if((l=r?f(F(h=e[c])[0],h[1]):f(e[c]))&&l instanceof t)return l;return new t(!1)}a=s.call(e)}for(d=a.next;!(h=d.call(a)).done;)if("object"==typeof(l=Zt(a,f,h.value,r))&&l&&l instanceof t)return l;return new t(!1)}).stop=function(e){return new t(!0,e)}})),en=$e("iterator"),tn=!1;try{var nn=0,rn={next:function(){return{done:!!nn++}},return:function(){tn=!0}};rn[en]=function(){return this},Array.from(rn,(function(){throw 2}))}catch(e){}var on,an,sn,cn=$e("species"),un=function(e,t){var n,i=F(e).constructor;return void 0===i||null==(n=F(i)[cn])?t:Ne(n)},ln=pt("navigator","userAgent")||"",dn=/(iphone|ipod|ipad).*applewebkit/i.test(ln),hn=M.location,pn=M.setImmediate,fn=M.clearImmediate,yn=M.process,mn=M.MessageChannel,vn=M.Dispatch,gn=0,An={},bn=function(e){if(An.hasOwnProperty(e)){var t=An[e];delete An[e],t()}},wn=function(e){return function(){bn(e)}},Tn=function(e){bn(e.data)},Sn=function(e){M.postMessage(e+"",hn.protocol+"//"+hn.host)};pn&&fn||(pn=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return An[++gn]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},on(gn),gn},fn=function(e){delete An[e]},"process"==Te(yn)?on=function(e){yn.nextTick(wn(e))}:vn&&vn.now?on=function(e){vn.now(wn(e))}:mn&&!dn?(sn=(an=new mn).port2,an.port1.onmessage=Tn,on=je(sn.postMessage,sn,1)):!M.addEventListener||"function"!=typeof postMessage||M.importScripts||O(Sn)||"file:"===hn.protocol?on="onreadystatechange"in j("script")?function(e){ft.appendChild(j("script")).onreadystatechange=function(){ft.removeChild(this),bn(e)}}:function(e){setTimeout(wn(e),0)}:(on=Sn,M.addEventListener("message",Tn,!1)));var _n,En,Pn,In,Cn,kn,Dn,Mn,On={set:pn,clear:fn},Ln=Ie.f,Un=On.set,Rn=M.MutationObserver||M.WebKitMutationObserver,Nn=M.process,jn=M.Promise,xn="process"==Te(Nn),Fn=Ln(M,"queueMicrotask"),Bn=Fn&&Fn.value;Bn||(_n=function(){var e,t;for(xn&&(e=Nn.domain)&&e.exit();En;){t=En.fn,En=En.next;try{t()}catch(e){throw En?In():Pn=void 0,e}}Pn=void 0,e&&e.enter()},xn?In=function(){Nn.nextTick(_n)}:Rn&&!dn?(Cn=!0,kn=document.createTextNode(""),new Rn(_n).observe(kn,{characterData:!0}),In=function(){kn.data=Cn=!Cn}):jn&&jn.resolve?(Dn=jn.resolve(void 0),Mn=Dn.then,In=function(){Mn.call(Dn,_n)}):In=function(){Un.call(M,_n)});var Vn,Hn,zn=Bn||function(e){var t={fn:e,next:void 0};Pn&&(Pn.next=t),En||(En=t,In()),Pn=t},Gn=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=Ne(t),this.reject=Ne(n)},Wn={f:function(e){return new Gn(e)}},qn=function(e,t){if(F(e),U(t)&&t.constructor===e)return t;var n=Wn.f(e);return(0,n.resolve)(t),n.promise},Yn=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Kn=M.process,Xn=Kn&&Kn.versions,Qn=Xn&&Xn.v8;Qn?Hn=(Vn=Qn.split("."))[0]+Vn[1]:ln&&(!(Vn=ln.match(/Edge\/(\d+)/))||Vn[1]>=74)&&(Vn=ln.match(/Chrome\/(\d+)/))&&(Hn=Vn[1]);var $n,Zn,Jn,ei=Hn&&+Hn,ti=On.set,ni=$e("species"),ii="Promise",ri=ve.get,oi=ve.set,ai=ve.getterFor(ii),si=Yt,ci=M.TypeError,ui=M.document,li=M.process,di=(pt("fetch"),Wn.f),hi=di,pi="process"==Te(li),fi=!!(ui&&ui.createEvent&&M.dispatchEvent),yi=Ue(ii,(function(){if(!(Q(si)!==String(si))){if(66===ei)return!0;if(!pi&&"function"!=typeof PromiseRejectionEvent)return!0}if(!si.prototype.finally)return!0;if(ei>=51&&/native code/.test(si))return!1;var e=si.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[ni]=t,!(e.then((function(){}))instanceof t)})),mi=yi||!function(e,t){if(!t&&!tn)return!1;var n=!1;try{var i={};i[en]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}((function(e){si.all(e).catch((function(){}))})),vi=function(e){var t;return!(!U(e)||"function"!=typeof(t=e.then))&&t},gi=function(e,t,n){if(!t.notified){t.notified=!0;var i=t.reactions;zn((function(){for(var r=t.value,o=1==t.state,a=0;i.length>a;){var s,c,u,l=i[a++],d=o?l.ok:l.fail,h=l.resolve,p=l.reject,f=l.domain;try{d?(o||(2===t.rejection&&Ti(e,t),t.rejection=1),!0===d?s=r:(f&&f.enter(),s=d(r),f&&(f.exit(),u=!0)),s===l.promise?p(ci("Promise-chain cycle")):(c=vi(s))?c.call(s,h,p):h(s)):p(r)}catch(e){f&&!u&&f.exit(),p(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&bi(e,t)}))}},Ai=function(e,t,n){var i,r;fi?((i=ui.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),M.dispatchEvent(i)):i={promise:t,reason:n},(r=M["on"+e])?r(i):"unhandledrejection"===e&&function(e,t){var n=M.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},bi=function(e,t){ti.call(M,(function(){var n,i=t.value;if(wi(t)&&(n=Yn((function(){pi?li.emit("unhandledRejection",i,e):Ai("unhandledrejection",e,i)})),t.rejection=pi||wi(t)?2:1,n.error))throw n.value}))},wi=function(e){return 1!==e.rejection&&!e.parent},Ti=function(e,t){ti.call(M,(function(){pi?li.emit("rejectionHandled",e):Ai("rejectionhandled",e,t.value)}))},Si=function(e,t,n,i){return function(r){e(t,n,r,i)}},_i=function(e,t,n,i){t.done||(t.done=!0,i&&(t=i),t.value=n,t.state=2,gi(e,t,!0))},Ei=function(e,t,n,i){if(!t.done){t.done=!0,i&&(t=i);try{if(e===n)throw ci("Promise can't be resolved itself");var r=vi(n);r?zn((function(){var i={done:!1};try{r.call(n,Si(Ei,e,i,t),Si(_i,e,i,t))}catch(n){_i(e,i,n,t)}})):(t.value=n,t.state=1,gi(e,t,!1))}catch(n){_i(e,{done:!1},n,t)}}};yi&&(si=function(e){!function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,si,ii),Ne(e),$n.call(this);var t=ri(this);try{e(Si(Ei,this,t),Si(_i,this,t))}catch(e){_i(this,t,e)}},($n=function(e){oi(this,{type:ii,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:Ot(e,i,t[i],n);return e}(si.prototype,{then:function(e,t){var n=ai(this),i=di(un(this,si));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=pi?li.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&gi(this,n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),Zn=function(){var e=new $n,t=ri(e);this.promise=e,this.resolve=Si(Ei,e,t),this.reject=Si(_i,e,t)},Wn.f=di=function(e){return e===si||e===Jn?new Zn(e):hi(e)}),Be({global:!0,wrap:!0,forced:yi},{Promise:si}),Ct(si,ii,!1,!0),function(e){var t=pt(e),n=H.f;L&&t&&!t[Kt]&&n(t,Kt,{configurable:!0,get:function(){return this}})}(ii),Jn=pt(ii),Be({target:ii,stat:!0,forced:yi},{reject:function(e){var t=di(this);return t.reject.call(void 0,e),t.promise}}),Be({target:ii,stat:!0,forced:!0},{resolve:function(e){return qn(this===Jn?si:this,e)}}),Be({target:ii,stat:!0,forced:mi},{all:function(e){var t=this,n=di(t),i=n.resolve,r=n.reject,o=Yn((function(){var n=Ne(t.resolve),o=[],a=0,s=1;Jt(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(e){var t=this,n=di(t),i=n.reject,r=Yn((function(){var r=Ne(t.resolve);Jt(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}}),Be({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=Wn.f(t),i=n.resolve,r=n.reject,o=Yn((function(){var n=Ne(t.resolve),r=[],o=0,a=1;Jt(e,(function(e){var s=o++,c=!1;r.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,r[s]={status:"fulfilled",value:e},--a||i(r))}),(function(e){c||(c=!0,r[s]={status:"rejected",reason:e},--a||i(r))}))})),--a||i(r)}));return o.error&&r(o.value),n.promise}});var Pi=!!Yt&&O((function(){Yt.prototype.finally.call({then:function(){}},(function(){}))}));Be({target:"Promise",proto:!0,real:!0,forced:Pi},{finally:function(e){var t=un(this,pt("Promise")),n="function"==typeof e;return this.then(n?function(n){return qn(t,e()).then((function(){return n}))}:e,n?function(n){return qn(t,e()).then((function(){throw n}))}:e)}});var Ii=Re.Promise,Ci=Array.isArray||function(e){return"Array"==Te(e)},ki=$e("species"),Di=function(e,t){var n;return Ci(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Ci(n.prototype)?U(n)&&null===(n=n[ki])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Mi=[].push,Oi=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,o=6==e,a=5==e||o;return function(s,c,u,l){for(var d,h,p=Ve(s),f=_e(p),y=je(c,u,3),m=nt(f.length),v=0,g=l||Di,A=t?g(s,m):n?g(s,0):void 0;m>v;v++)if((a||v in f)&&(h=y(d=f[v],v,p),e))if(t)A[v]=h;else if(h)switch(e){case 3:return!0;case 5:return d;case 6:return v;case 2:Mi.call(A,d)}else if(r)return!1;return o?-1:i||r?r:A}},Li={forEach:Oi(0),map:Oi(1),filter:Oi(2),some:Oi(3),every:Oi(4),find:Oi(5),findIndex:Oi(6)},Ui=$e("species"),Ri=function(e){return ei>=51||!O((function(){var t=[];return(t.constructor={})[Ui]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Ni=Object.defineProperty,ji={},xi=function(e){throw e},Fi=function(e,t){if(ee(ji,e))return ji[e];t||(t={});var n=[][e],i=!!ee(t,"ACCESSORS")&&t.ACCESSORS,r=ee(t,0)?t[0]:xi,o=ee(t,1)?t[1]:void 0;return ji[e]=!!n&&!O((function(){if(i&&!L)return!0;var e={length:-1};i?Ni(e,1,{enumerable:!0,get:xi}):e[1]=1,n.call(e,r,o)}))},Bi=Li.map,Vi=Ri("map"),Hi=Fi("map");Be({target:"Array",proto:!0,forced:!Vi||!Hi},{map:function(e){return Bi(this,e,arguments.length>1?arguments[1]:void 0)}});var zi=function(e){return Re[e+"Prototype"]},Gi=zi("Array").map,Wi=Array.prototype,qi=function(e){var t=e.map;return e===Wi||e instanceof Array&&t===Wi.map?Gi:t};const Yi={url:e=>new Ii((t,n)=>{const i=document.createElement("script");i.type="text/javascript",i.src=e,i.addEventListener("load",()=>t(i),!1),i.addEventListener("error",()=>n(i),!1),document.body.appendChild(i)}),urls:e=>Ii.allSettled(qi(e).call(e,Yi.url))};var Ki=function(e,t){var n=[][e];return!!n&&O((function(){n.call(null,t||function(){throw 1},1)}))},Xi=st.indexOf,Qi=[].indexOf,$i=!!Qi&&1/[1].indexOf(1,-0)<0,Zi=Ki("indexOf"),Ji=Fi("indexOf",{ACCESSORS:!0,1:0});Be({target:"Array",proto:!0,forced:$i||!Zi||!Ji},{indexOf:function(e){return $i?Qi.apply(this,arguments)||0:Xi(this,e,arguments.length>1?arguments[1]:void 0)}});var er=zi("Array").indexOf,tr=Array.prototype,nr=function(e){var t=e.indexOf;return e===tr||e instanceof Array&&t===tr.indexOf?er:t};Be({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var ir=Re.Date.now,rr=[].slice,or=/MSIE .\./.test(ln),ar=function(e){return function(t,n){var i=arguments.length>2,r=i?rr.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};Be({global:!0,bind:!0,forced:or},{setTimeout:ar(M.setTimeout),setInterval:ar(M.setInterval)});var sr=Re.setTimeout,cr=[],ur=cr.sort,lr=O((function(){cr.sort(void 0)})),dr=O((function(){cr.sort(null)})),hr=Ki("sort");Be({target:"Array",proto:!0,forced:lr||!dr||!hr},{sort:function(e){return void 0===e?ur.call(Ve(this)):ur.call(Ve(this),Ne(e))}});var pr=zi("Array").sort,fr=Array.prototype,yr=function(e){var t=e.sort;return e===fr||e instanceof Array&&t===fr.sort?pr:t};Be({target:"Array",stat:!0},{isArray:Ci});var mr=Re.Array.isArray,vr=[].slice,gr={},Ar=function(e,t,n){if(!(t in gr)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";gr[t]=Function("C,a","return new C("+i.join(",")+")")}return gr[t](e,n)},br=Function.bind||function(e){var t=Ne(this),n=vr.call(arguments,1),i=function(){var r=n.concat(vr.call(arguments));return this instanceof i?Ar(t,r.length,r):t.apply(e,r)};return U(t.prototype)&&(i.prototype=t.prototype),i};Be({target:"Function",proto:!0},{bind:br});var wr=zi("Function").bind,Tr=Function.prototype,Sr=function(e){var t=e.bind;return e===Tr||e instanceof Function&&t===Tr.bind?wr:t};var _r=function(e,t,n){var i=B(t);i in e?H.f(e,i,z(0,n)):e[i]=n},Er=Ri("slice"),Pr=Fi("slice",{ACCESSORS:!0,0:0,1:2}),Ir=$e("species"),Cr=[].slice,kr=Math.max;Be({target:"Array",proto:!0,forced:!Er||!Pr},{slice:function(e,t){var n,i,r,o=Ee(this),a=nt(o.length),s=ot(e,a),c=ot(void 0===t?a:t,a);if(Ci(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Ci(n.prototype)?U(n)&&null===(n=n[Ir])&&(n=void 0):n=void 0,n===Array||void 0===n))return Cr.call(o,s,c);for(i=new(void 0===n?Array:n)(kr(c-s,0)),r=0;s<c;s++,r++)s in o&&_r(i,r,o[s]);return i.length=r,i}});var Dr,Mr=zi("Array").slice,Or=Array.prototype,Lr=function(e){var t=e.slice;return e===Or||e instanceof Array&&t===Or.slice?Mr:t};!function(e){e[e.all=0]="all",e[e.linearPlayback=1]="linearPlayback"}(Dr||(Dr={}));var Ur,Rr=Dr;!function(e){e.linear="linear",e.event="event"}(Ur||(Ur={}));var Nr,jr=Ur;!function(e){e.stitchedPreroll="stitchedPreroll"}(Nr||(Nr={}));var xr,Fr=Nr;!function(e){e.live="live",e.onDemand="onDemand"}(xr||(xr={}));var Br,Vr=xr;!function(e){e.nielsen="nielsen",e.comscore="comscore",e.conviva="conviva",e.heartbeats="heartbeats"}(Br||(Br={}));var Hr,zr=Br;!function(e){e.shortform="shortform",e.longform="longform"}(Hr||(Hr={}));var Gr,Wr=Hr;!function(e){e.audio="audio",e.video="video"}(Gr||(Gr={}));var qr,Yr=Gr;!function(e){e.pluto="pluto",e.graphQL="graphQL",e.cfa="cfa"}(qr||(qr={}));var Kr,Xr=qr;!function(e){e.open="OPEN",e.direct="DIRECT",e.mvpd="MVPD",e.isp="ISP",e.none="NONE"}(Kr||(Kr={}));var Qr,$r=Kr;!function(e){e.none="none",e.startSession="startSession",e.bam="bam",e.shield="shield",e.entitlement="entitlement"}(Qr||(Qr={}));var Zr=Qr,Jr=function(){function e(e,t,n,i,r,o,a){this.url=e,this.type=t,this.hasEspnId3Heartbeats=n,this.hasNielsenWatermarks=i,this.hasPassThroughAds=r,this.commercialReplacement=o,this.startSessionUrl=a,this.variant=null}return e.fromObject=function(t){if(!t)return null;var n=t.url,i=t.type,r=t.hasEspnId3Heartbeats,o=t.hasNielsenWatermarks,a=t.hasPassThroughAds,s=t.commercialReplacement,c=t.startSessionUrl;return new e(n,Zr[i],r,o,a,s,c)},e}(),eo=function(){function e(e,t,n,i){this.id=e,this.type=t,this.name=n,this.resource=i}return e.fromObject=function(t){if(!t)return null;var n=jr[t.type];return new e(t.id,n,t.name,t.resource)},e}(),to=function(){function e(e){this.url=e}return e.fromObject=function(t){return t&&t.url?new e(t.url):null},e}(),no=function(){function e(e){this.name=e}return Object.defineProperty(e.prototype,"logoUrl",{get:function(){return"https://secure.espncdn.com/watchespn/images/espnplus/packages/"+this.name+".png"},enumerable:!0,configurable:!0}),e.fromObject=function(t){return t?new e(t.name):null},e}(),io=function(){function e(e,t,n,i,r){this.id=e,this.title=t,this.duration=n,this.language=i||"en",this.source=r,this.description=null,this.authenticationTypes=[],this.mrss=null,this.seekInSeconds=null,this.tracking={},this.references={},this.network=null,this.streamType=null,this.supportedMediaCommands=Rr.all,this.images=[],this.type=Yr.video,this.packages=[],this.tier=null,this.entityType=null,this.isSyndicatable=null,this.brand=null,this.apiSource=null}return Object.defineProperty(e.prototype,"isLinear",{get:function(){return!!this.network&&this.network.type===jr.linear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLive",{get:function(){return this.streamType===Vr.live},enumerable:!0,configurable:!0}),e.fromObject=function(t){var n=Jr.fromObject(t.source),i=new e(t.id,t.title,t.duration,t.language,n);return i.authenticationTypes=t.authenticationTypes,i.description=t.description,i.images=(t.images||[]).map((function(e){return to.fromObject(e)})),i.mrss=t.mrss,i.network=eo.fromObject(t.network),i.seekInSeconds=t.seekInSeconds,i.streamType=Vr[t.streamType],i.supportedMediaCommands=t.supportedMediaCommands,i.tracking=t.tracking,i.references=t.references,i.packages=(t.packages||[]).map((function(e){return no.fromObject(e)})),i.type=Yr[t.type],i.entityType=Wr[t.entityType],i.isSyndicatable=t.isSyndicatable,i.brand=t.brand,i},e.prototype.toString=function(){return"<MediaItem id:"+this.id+", title:"+this.title+", streamType:"+this.streamType+">"},e}();var ro=function(){function e(e){var t=function(e){var t=e.split("?")[1],n={};if(t)for(var i=t.split("&"),r=0;r<i.length;r+=1){var o=i[r].split("=");n[o[0]]=o[1]}return n}(e);if(this.original=e,this.id=t.videoID||t.playID||t.clip||t.externalId,e.match("sportscenter")){this.gameId=t.playGameID,this.channel=t.playChannel,this.simulcastAiringId=t.simulcastAiringId;var n=parseInt(t.resumeTime,10);isNaN(n)||(this.resumeTime=n),this.eventId=t.eventId}this.source=t["x-source"],t.videoID?this.entityType=Wr.shortform:this.entityType=Wr.longform,this.type=Yr.video}return e.prototype.toString=function(e){return e==Xr.graphQL?"<MediaItemIdentifier id:"+this.id+", gameId:"+this.gameId+", channel:"+this.channel+", source:"+this.source+">":"<MediaItemIdentifier id:"+this.id+", source:"+this.source+">"},e.identifierStringForNetwork=function(e,t){return t==Xr.graphQL?"sportscenter://x-callback-url/showWatchStream?playChannel="+e:"natgeo://playVideo?videoID="+e},e}(),oo=k((function(e){var t,n;t=C,n=function(){var e=function(){},t="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function r(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(n){return"debug"===n&&(n="log"),"undefined"!=typeof console&&("trace"===n&&t?r:void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):e)}function a(t,i){for(var r=0;r<n.length;r++){var o=n[r];this[o]=r<t?e:this.methodFactory(o,t,i)}this.log=this.debug}function s(e,t,n){return function(){"undefined"!=typeof console&&(a.call(this,t,n),this[e].apply(this,arguments))}}function c(e,t,n){return o(e)||s.apply(this,arguments)}function u(e,t,i){var r,o=this,s="loglevel";function u(){var e;if("undefined"!=typeof window&&s){try{e=window.localStorage[s]}catch(e){}if(void 0===e)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(s)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}"string"==typeof e?s+=":"+e:"symbol"==typeof e&&(s=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=i||c,o.getLevel=function(){return r},o.setLevel=function(t,i){if("string"==typeof t&&void 0!==o.levels[t.toUpperCase()]&&(t=o.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(r=t,!1!==i&&function(e){var t=(n[e]||"silent").toUpperCase();if("undefined"!=typeof window&&s){try{return void(window.localStorage[s]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(s)+"="+t+";"}catch(e){}}}(t),a.call(o,t,e),"undefined"==typeof console&&t<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){u()||o.setLevel(e,!1)},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var l=u();null==l&&(l=null==t?"WARN":t),o.setLevel(l,!1)}var l=new u,d={};l.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new u(e,l.getLevel(),l.methodFactory)),t};var h="undefined"!=typeof window?window.log:void 0;return l.noConflict=function(){return"undefined"!=typeof window&&window.log===l&&(window.log=h),l},l.getLoggers=function(){return d},l.default=l,l},e.exports?e.exports=n():t.log=n()}));function ao(e,t,n,r){if(!t)return{};var o,a,s,c=null;e===i.natGeo?c=function(e){if(!e)return{};var t={},n=e.id,i=e.title,r=e.duration;return t.c_video_id_code=n,t.c_a_media_airdate="unknown",t.c_a_media_daypart="daytime",t.c_a_media_digitaldate="unknown",t.c_a_media_episode="none",t.c_a_media_feed="natgeo live",t.c_a_media_format="vod",t.c_a_media_genre="none",t.c_a_media_network="natgeo",t.c_a_media_originator="natgeo",t.c_a_media_pass_auth="none",t.c_a_media_pass_mvpd="none",t.c_a_media_rating="none",t.c_a_media_season="none",t.c_a_media_show=i,t.c_a_media_streamtype=Gr.video,t.c_a_media_length=r,t}(t):(o=function(e,t,n){if(!e)return{};var i=e.duration,r=e.id,o=e.league,a=e.name,s=e.network,c=e.program,u=e.sport,l=e.startDateTime,d=e.tracking,h="1";n&&!0===n.hasEspnId3Heartbeats&&!1===n.hasPassThroughAds&&"SHARED INV"!==n.commercialReplacement&&(h="2");var p={type:"content"};if(p.assetid=d&&d.trackingId||r,p.program=a,p.title=a,p.clientid="us-600140",t===Wr.longform){if(p.length=""+i,p.segB=o&&o.name||"No League",p.segC=""+(c&&c.code||"")+(u&&u.code||""),l){var f=new Date(l);p.airdate=f.getUTCFullYear().toString()+("0"+f.getUTCMonth()).slice(-2)+("0"+f.getUTCDate()).slice(-2)+" "+("0"+f.getUTCHours()).slice(-2)+":"+("0"+f.getUTCMinutes()).slice(-2)+":"+("0"+f.getUTCSeconds()).slice(-2)}p.isfullepisode="y",p.crossId1=d&&d.nielsenCrossId1||"",p.crossId2=s&&s.name||"",p.adloadtype=h,p.hasAds="1",p.progen="SE",p.vcid="b01"}return t===Wr.shortform&&(p.accmethod="1",p.length=""+i,p.segA=a,p.segB="No League",p.segC="VOD",p.isfullepisode="n",p.crossId1="",p.adloadtype="1",p.vcid="c17",p.adloadtype="2"),p}(t,n,r),a=function(e,t){if(!e)return{};var n=e.id,i=e.duration,r=e.name,o=e.league,a=e.startDateTime,s=e.network,c=e.sport,u=e.status,l=e.tracking,d={};if(t===Wr.longform)d.ns_st_cl=0,d.ns_st_ct="vc",!u||"live"!==u.toLowerCase()&&"over"!==u.toLowerCase()?(d.ns_st_cl=i,d.ns_st_ct="vc12",d.ns_st_pr="VOD",d.ns_st_ep=r):(d.ns_st_cl=0,d.ns_st_ct="vc13",d.ns_st_pr=r,d.ns_st_ep="*null"),d.c3="WATCHESPNLIVE",d.c6=o&&o.name?o||"No league":c&&c.code||"No Sport";else{d.ns_st_cl=i,d.ns_st_ct="vc11",d.ns_st_pr="VOD",d.ns_st_ep=r;var h=l||{},p=h.sportName,f=h.leagueName;d.c3="vod",d.c6=""+(f&&"no league"!==f.toLowerCase()?f:p||"No Sport")}if(d.ns_st_ti="*null",d.ns_st_ia="*null",d.ns_st_ce="*null",d.ns_st_ci=n,a){var y=new Date(a);d.ns_st_ddt=y.toDateString(),d.ns_st_tdt=y.toDateString()}return d.ns_st_st=s?s.id:"*null",d.ns_st_en="*null",d.ns_st_cn="1",d.ns_st_pn="1",d.ns_st_tp="1",d.ns_st_pu="ESPN",d.ns_st_cu="none",d.ns_st_ad="0",d.ns_st_ge="Sports",d}(t,n),s=function(e,t,n){if(!e)return{};var i=e.name,r=e.id,o=e.airingId,a=e.eventId,s=e.duration,c=e.network,u=e.status,l=i+" - "+r;c&&c.type===jr.linear&&(l=c.id);var d={};return d.contentId=r,o&&(d.airingId=o),a&&(d.eventId=""+a),c&&(d.network=c.id),t===Wr.shortform?d.assetType="clip":!u||"live"!==u.toLowerCase()&&"over"!==u.toLowerCase()?d.assetType="vod":d.assetType="live",{assetName:l,duration:s,streamUrl:n&&n.url,custom:d}}(t,n,r),c=function(e,t){if(!e)return{};var n=e.duration,i=e.airingId,r=e.network,o=e.status,a=e.sport,s=e.league,c=e.program,u=e.startDateTime,l=e.tracking,d=e.originalPublishDate,h=e.expirationDate,p=e.lastModifiedDate,f=e.ad,y=e.coverageType,m={};if(m.ContentDuration=n,t===Wr.longform){if(m.isFullEpisode="y",i&&(m.AiringID=i),r&&(m.NetworkName=r.id,m.Channel=r.id),o&&(m.VideoType="REPLAY"===o?"replay":"live"),m.Sport=a&&a.name||"Not Applicable",m.SportCode=a&&a.code||"Not Applicable",m.League=s&&s.name||"Not Applicable",c&&c.code&&c.categoryCode?m.ProgramCode=c.categoryCode+c.code:m.ProgramCode="Not Applicable",m.IsStudio=c&&c.isStudio||"Not Applicable",u){var v=new Date(u);m.AirDate=v.toDateString(),m.AirTime=v.toTimeString()}}else if(t===Wr.shortform){if(m.isFullEpisode="n",m.VideoType="vod",m.Sport=l&&l.sportName||"Not Applicable",m.League=l&&l.leagueName||"Not Applicable",m.ShowCode=f&&f.bundle||"Not Applicable",l&&l.name&&(m.CMSID=l.name),d){v=new Date(d);m.PublishDate=v.toISOString().substring(0,10),m.PublishTime=v.toISOString().substring(11)}if(h){v=new Date(h);m.ExpirationDate=v.toISOString()}if(p){v=new Date(p);m.DateLastModified=v.toISOString()}y&&(m.VideoTypeDetail=y)}return m}(t,n));var u={};return u[zr.nielsen]=o,u[zr.comscore]=a,u[zr.conviva]=s,u[zr.heartbeats]=c,u}function so(e,t,n){return e.sort((function(e,t){var n="PRIMARY"===e.tier?0:"SECONDARY"===e.tier?1:2,i="PRIMARY"===t.tier?0:"SECONDARY"===t.tier?1:2;return n<i?-1:n>i?1:0})).sort((function(e,n){var i=e.network&&e.network.id.toLowerCase()||"unknown",r=n.network&&n.network.id.toLowerCase()||"unknown",o=t.indexOf(i),a=t.indexOf(r);return-1===o&&(o=999),-1===a&&(a=999),o<a?-1:o>a?1:0})).sort((function(e,t){var i=e.language===n?0:1,r=t.language===n?0:1;return i<r?-1:i<r?1:0}))}var co=["espn_ppv","espn_dtc","espn1","espn2","espn3","espnu","sec","espnews","espndeportes","longhorn","goalline","buzzerbeater","secplus","acc","accextra","espn_free","bam_dtc"],uo=function(e,t,n,i){e==Xr.graphQL?(this.serviceUrl=t||"https://watch.graph.api.espn.com/api",this.apiKey=n||"d15c5790-7cb0-4fe1-8782-25f4698d0739",this.networkSortOrder=i||co):e==Xr.cfa&&(this.serviceUrl=t||"https://natgeo.entertainment.client.dtci.technology/v1/playback/video/id/mock")},lo=function(){function e(){this.configuration_=e.defaultConfiguration}return Object.defineProperty(e.prototype,"configuration",{get:function(){return this.configuration_},set:function(e){this.configuration_=e},enumerable:!0,configurable:!0}),e.prototype.getMediaItems=function(t,n){return a(this,void 0,void 0,(function(){return s(this,(function(i){switch(i.label){case 0:return[4,e.fetchMediaItems(t,n,this.configuration)];case 1:return[2,i.sent()]}}))}))},e.fetchMediaItems=function(t,n,i){return a(this,void 0,void 0,(function(){var r,o,a,c,u,l;return s(this,(function(s){switch(s.label){case 0:return r=t.map((function(e){return new ro(e)})),o=i.serviceUrl,a=i.apiKey,c=i.networkSortOrder,[4,Promise.all(r.map((function(t){return e.getPromiseMediaItems(t,o,a,n)})))];case 1:return u=s.sent(),(l=u.filter((function(e){return!(e instanceof Error)&&e instanceof io}))).length?[2,so(l,c,navigator.language)]:[2,null]}}))}))},e.getPromiseMediaItems=function(t,n,i,r){return a(this,void 0,void 0,(function(){var o,a,c,u,l,d,h,p,f,y,m,v;return s(this,(function(s){switch(s.label){case 0:o=function(e,t,n,i){var r="",o="",a="",s=i||"US";return e.entityType===Wr.shortform?(r="VOD",a="{id name description authTypes language duration originalPublishDate expirationDate requiresLinearPlayback lastModifiedDate source { url authorizationType } image { url } tracking { name sportName leagueName } coverageType prerollSource:source(variant:PREROLL) { url authorizationType }ad { sport bundle } links { web } cerebroId syndicatable}",o='id:"'+e.id+'"'):(r="airing",a="{ id name description mrss:adobeRSS authTypes requiresLinearPlayback status:type startDateTime endDateTime duration source(authorization: SHIELD) { url authorizationType hasEspnId3Heartbeats hasNielsenWatermarks hasPassThroughAds commercialReplacement startSessionUrl } network { id type name adobeResource } image { url } sport { name code uid } league { name uid } program { code categoryCode isStudio } seekInSeconds simulcastAiringId airingId tracking { nielsenCrossId1 trackingId } eventId packages { name } language tier feedName }",e.id?o='id:"'+e.id+'"':e.channel?(r="airings",o='networks:["'+e.channel+'"],type:LIVE'):e.gameId&&(r="airings",o='eventId:"'+(e.eventId||e.gameId)+'"')),t+"?apiKey="+n+"&query="+("airings"===r?encodeURIComponent("{ "+r+"("+o+',countryCode:"'+s+'",deviceType:SETTOP,tz:"Z") '+a+" }"):encodeURIComponent("{ "+r+"("+o+',deviceType:SETTOP,tz:"Z") '+a+" }"))}(t,n,i,r.countryCode),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(o)];case 2:return[4,s.sent().json()];case 3:if(a=s.sent(),c=a.data.airing,(u=a.data.airings)&&(l=t.simulcastAiringId?function(e){return e.simulcastAiringId===t.simulcastAiringId}:function(){return!0},c=u.filter(l)[0]),d=a.data.VOD,!(h=c||d))throw new Error("No results found.");if(p=function(e,t,n){var i=e.id,r=e.name,o=e.description,a=e.duration,s=e.image,c=e.eventId,u=e.requiresLinearPlayback,l=e.authTypes,d=e.source,h=e.prerollSource,p=e.packages,f=e.language,y=e.mrss,m=e.seekInSeconds,v=e.tracking,g=e.simulcastAiringId,A=e.network,b=e.status,w=e.cerebroId,T=e.syndicatable,S=b&&("LIVE"===b.toUpperCase()||"OVER"===b.toUpperCase())?Vr.live:Vr.onDemand,_=function(e){switch(e){case"NONE":return Zr.none;case"START_SESSION":return Zr.startSession;case"BAM":return Zr.bam;case"SHIELD":return Zr.shield}}(d.authorizationType),E=new Jr(d.url,_,d.hasEspnId3Heartbeats,d.hasNielsenWatermarks,d.hasPassThroughAds,d.commercialReplacement,d.startSessionUrl);n&&n.sourceVariant===Fr.stitchedPreroll&&h&&((E=new Jr(h.url,Zr.none)).variant=Fr.stitchedPreroll);var P=u?Rr.linearPlayback:Rr.all,I=v&&v.trackingId||i,C=new io(i,r,a,f,E);if(C.authenticationTypes=l.map((function(e){switch(e){case"DIRECT":return $r.direct;case"OPEN":return $r.open;case"MVPD":return $r.mvpd;case"ISP":return $r.isp;default:return $r.none}})),C.description=o,C.isSyndicatable=T,s&&s.url&&C.images.push(new to(s.url)),C.mrss=y,A){var k="linear"===A.type?jr.linear:jr.event;C.network=new eo(A.id,k,A.name,A.adobeResource)}return C.seekInSeconds=m,C.streamType=S,C.supportedMediaCommands=P,C.brand=C.brand?C.brand:"espn",C.tracking=ao(C.brand,e,t,E),C.references={eventId:c,simulcastAiringId:g,trackingId:I,cerebroId:w},C.type=Yr.video,C.entityType=t,C.apiSource=Xr.graphQL,C.packages=(p||[]).map((function(e){return new no(e.name)})),C}(h,t.entityType,r),t.resumeTime&&(p.seekInSeconds=t.resumeTime),!p.source.url){if(f="OVER"===h.status.toUpperCase(),y=h.network&&h.network.type===jr.linear,m=h.network&&h.network.id,f&&y&&m)return[2,e.retryGetMediaItems(m,n,i,r)];throw new Error("No playable url")}return[2,p];case 4:return v=s.sent(),oo.warn("Failed to retrieve MediaItem from GraphQL: "+v),[2,null];case 5:return[2]}}))}))},e.retryGetMediaItems=function(t,n,i,r){return a(this,void 0,void 0,(function(){var o,a,c,u;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),o=ro.identifierStringForNetwork(t,Xr.graphQL),a=new ro(o),[4,e.getPromiseMediaItems(a,n,i,r)];case 1:if((c=s.sent())&&c instanceof io==!0)return[2,c];throw new Error("Retry fetchMediaItems failed with "+t);case 2:return u=s.sent(),oo.warn("MediaItem is over and retry failed: "+u),[2,null];case 3:return[2]}}))}))},e.defaultConfiguration=new uo(Xr.graphQL),e}();var ho,po=function(){function e(){this.configuration_=e.defaultConfiguration}return Object.defineProperty(e.prototype,"configuration",{get:function(){return this.configuration_},set:function(e){this.configuration_=e},enumerable:!0,configurable:!0}),e.prototype.getMediaItems=function(t,n){return a(this,void 0,void 0,(function(){return s(this,(function(i){switch(i.label){case 0:return[4,e.fetchMediaItems(t,n,this.configuration)];case 1:return[2,i.sent()]}}))}))},e.fetchMediaItems=function(t,n,i){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(o){switch(o.label){case 0:return n=t.map((function(e){return new ro(e)})),r=i.serviceUrl,[4,Promise.all(n.map((function(t){return e.getPromiseMediaItem(t,r)})))];case 1:return[2,o.sent().filter((function(e){return!(e instanceof Error)&&e instanceof io}))]}}))}))},e.getPromiseMediaItem=function(e,t){return a(this,void 0,void 0,(function(){var n,i,r;return s(this,(function(o){switch(o.label){case 0:n=t.replace("videoID",e.id),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch(n)];case 2:return[4,o.sent().json()];case 3:return i=o.sent(),[2,function(e){var t=e.id,n=e.title,i=e.description,r=e.duration,o=e.source,a=e.type,s=e.entityType,c=e.streamType,u=e.authenticationTypes,l=e.language,d=e.network,h=e.brand,p=e.images,f=s,y=o.type,m=new Jr(o.url,y),v=new io(t,n,r,l,m);return v.authenticationTypes=u.map((function(e){switch(e){case"DIRECT":return $r.direct;case"OPEN":return $r.open;case"MVPD":return $r.mvpd;case"ISP":return $r.isp;default:return $r.none}})),v.description=i,d&&(v.network=new eo(d.id,d.type,d.name,d.resource)),v.streamType=c,v.brand=h,v.tracking=ao(v.brand,e,f,m),v.images=p,v.type=a,v.entityType=f,v.apiSource=Xr.cfa,v}(i)];case 4:return r=o.sent(),oo.warn("Failed to retrieve MediaItem from CFA: "+r),[2,null];case 5:return[2]}}))}))},e.defaultConfiguration=new uo(Xr.cfa),e}(),fo=function(){function e(){}return e.prototype.getMediaItems=function(e,t){return a(this,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=t||{sourceVariant:null},e[0].match("natgeo")?[4,(new po).getMediaItems(e,n)]:[3,2];case 1:return[2,i.sent()];case 2:return[4,(new lo).getMediaItems(e,n)];case 3:return[2,i.sent()]}}))}))},e}(),yo=new function(e,t){this.serviceUrl=e,this.appVersion=t}("https://prod.gatekeeper.us-abc.symphony.edgedatg.com/api/ws/pluto/v1/layout","1.0.0"),mo=function(){function e(e){void 0===e&&(e=yo),this.configuration_=e}return e.prototype.getMediaItems=function(e,t){return a(this,void 0,void 0,(function(){var n=this;return s(this,(function(i){return[2,Promise.all(e.map((function(e){return n.getMediaItem(e,t)})))]}))}))},e.prototype.getMediaItem=function(e,t){return a(this,void 0,void 0,(function(){var n,i,r,a;return s(this,(function(s){switch(s.label){case 0:return n=this.getLayoutURLFromParams(o(o({},t),{identifier:e})),[4,this.getLayout(n)];case 1:if(i=s.sent(),!(r=i.modules.filter((function(e){return"videoplayer"==e.type}))[0]))throw new Error("Layout is missing Video Player module");return"live_player"===t.type&&(r.resource=r.resource.replace("{affiliate}",e)),[4,this.getVideoPlayerModule(r.resource)];case 2:return a=s.sent(),[2,this.getMediaItemFromVideoPlayer(a)]}}))}))},e.prototype.getLayoutURLFromParams=function(e){if(!e.brand||!e.device||!e.type)throw new Error("Cannot create layout url, missing parameters");var t={brand:e.brand,device:e.device};if("vod_player"==e.type){if(!e.identifier)throw new Error("Cannot create layout url, missing video id");t.type="vod_player",t.video=e.identifier}"live_player"==e.type&&(t.type="live_player",t.authlevel="1",t.affiliate=e.identifier);var n=Object.keys(t).map((function(e){return e+"="+t[e]})).join("&"),i=-1===this.configuration_.serviceUrl.indexOf("?")?"?":"&";return""+this.configuration_.serviceUrl+i+n},e.prototype.getMediaItemFromVideoPlayer=function(e){return e.video?this.getMediaItemForVOD(e):e.channels?this.getMediaItemForChannel(e):void 0},e.prototype.getMediaItemForChannel=function(e){var t;if(0==e.channels.length)throw new Error("Live video player module has no channels");var n=e.channels[0],i=new io(n.id,n.title,0,"en",null);i.description=n.description,i.authenticationTypes="0"==n.accesslevel?[$r.none]:[$r.mvpd];var r=h(n.brand);return i.brand=r,i.mrss=this.getAdobeMRSS(i.id,i.title,d(r),n.tvrating),i.streamType=Vr.live,i.type=Yr.video,i.apiSource=Xr.pluto,i.network=new eo(n.aff,jr.linear,n.title,d(r)),i.images=null===(t=n.previews)||void 0===t?void 0:t.map((function(e){return new to(e.value)})),i},e.prototype.getMediaItemForVOD=function(e){var t=new io(e.video.id,e.video.title,e.video.duration,e.video.show.language,null);t.description=e.video.description,t.authenticationTypes="0"==e.video.accesslevel?[$r.none]:[$r.mvpd];var n=h(e.video.brand);return t.brand=n,t.mrss=this.getAdobeMRSS(t.id,t.title,d(n),e.video.rating.value),t.streamType=Vr.onDemand,t.type=Yr.video,t.apiSource=Xr.pluto,t.entityType="lf"==e.video.type?Wr.longform:Wr.shortform,t.images=e.images.map((function(e){return new to(e.value)})),t},e.prototype.getLayout=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(n){return t={appversion:this.configuration_.appVersion},[2,fetch(e,{headers:t}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){return e}))]}))}))},e.prototype.getVideoPlayerModule=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(n){return t={appversion:this.configuration_.appVersion},[2,fetch(e,{headers:t}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){return e}))]}))}))},e.prototype.getAdobeMRSS=function(e,t,n,i){var r="urn:mpaa";i&&0!==i.length||(i="TV-Y"),0===i.indexOf("TV-")&&(r="urn:v-chip");var o=this.xmlSanitize(e),a=this.xmlSanitize(t),s='<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel>';return s+="<title>"+this.xmlSanitize(n)+"</title>",s+="<item>",s+="<title><![CDATA["+a+"]]></title>",s+="<guid>"+o+"</guid>",s+='<media:rating scheme="'+this.xmlSanitize(r)+'">'+this.xmlSanitize(i)+"</media:rating>",s+="</item></channel></rss>"},e.prototype.xmlSanitize=function(e){var t=e.replace("&","&amp;");return t=(t=(t=(t=t.replace("<","&lt;")).replace(">","&gt;")).replace('"',"&quot;")).replace("'","&apos;")},e}(),vo=function(e,t,n){this.contentType=e,this.keySystem=t,this.licenseUrl=n},go=function(){function e(e){this.playbackUrl=e,this.textTracks=[]}return Object.defineProperty(e.prototype,"convivaContentMetadata",{get:function(){var e={authType:null,mvpd:null};this.authenticationType&&(e.authType=this.authenticationType&&this.authenticationType.toLowerCase()||"free",this.authenticatedProvider&&this.authenticationType===$r.mvpd&&(e.mvpd=this.authenticatedProvider.id));var t=this.mediaItem&&this.mediaItem.tracking[zr.conviva]||{},n={streamUrl:this.playbackUrl,custom:Object.assign(t.custom||{},e)};return Object.assign(t,n)},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"<PlaybackSession playbackUrl:"+this.playbackUrl+", authenticationType:"+this.authenticationType+", authenticatedProvider:"+this.authenticatedProvider+">"},e}();!function(e){e.none="none",e.fairPlay="fairplay",e.playReady="playready",e.widevine="widevine"}(ho||(ho={}));var Ao,bo=ho;!function(e){e.none="HLS",e.hlsFairplay="HLS_FAIRPLAY",e.dashPlayReady="DASH_PLAYREADY",e.dashWidevine="DASH_WIDEVINE"}(Ao||(Ao={}));var wo=Ao,To=function(e,t,n){var i=-1===n.indexOf("?")?"?":"&";return n+i+e+"="+encodeURIComponent(t)},So=function(){function e(){}return e.prototype.initPlaybackSession=function(e,t,n){var i=t&&t.swid,r=e.source.url;if(e.source.variant===Fr.stitchedPreroll){var o=t.dictionaryForBrightcove();Object.keys(o).forEach((function(e){r=To(e,o[e].toString(),r)}))}else r=To("SWID",i,r);oo.debug(r,e);var a=new go(r);return a.mediaItem=e,a.seekToTime=e.seekInSeconds,a.authenticationType=n.authenticationType,a.authenticatedProvider=n.authenticatedProvider,a.authenticatedIdentity=n.authenticatedIdentity,Promise.resolve(a)},e}(),_o=k((function(e,t){var n;e.exports=(n=n||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},r=i.lib={},o=r.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=a<<24-(i+o)%4*8}else for(o=0;o<r;o+=4)t[i+o>>>2]=n[o>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,i=[],r=function(t){t=t;var n=987654321,i=4294967295;return function(){var r=((n=36969*(65535&n)+(n>>16)&i)<<16)+(t=18e3*(65535&t)+(t>>16)&i)&i;return r/=4294967296,(r+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=r(4294967296*(n||e.random()));n=987654071*s(),i.push(4294967296*s()|0)}return new a.init(i,t)}}),s=i.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,u=e.min(4*c,r);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(i,l);var d=i.splice(0,c);n.sigBytes-=u}return new a.init(d,u)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(r.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),i.algo={});return i}(Math),n)})),Eo=k((function(e,t){var n,i,r;e.exports=(i=(n=r=_o).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var r=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)r.push(i.charAt(a>>>6*(3-s)&63));var c=i.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var r=[],o=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,c=n[e.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=(s|c)<<24-o%4*8,o++}return i.create(r,o)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)})),Po=k((function(e,t){e.exports=_o.enc.Utf8})),Io="live",Co="vod",ko="accountId",Do="applicationId",Mo="applicationPlatform",Oo="channel",Lo="contentType",Uo="contractType",Ro="deviceModel",No="hba",jo="mobileDevice",xo="programmerName",Fo="ship",Bo="region",Vo=function(e){var t=e+":";return{Authorization:"Basic "+Eo.stringify(Po.parse(t)),Accept:"application/json"}},Ho=function(){function e(e,t,n,i,r){t&&n&&i&&(this.programmer=e,this.applicationId=t,this.identityProvider=encodeURIComponent(n),this.subject=encodeURIComponent(i),this.metadata=r||{},this.serviceUrl="https://streams.adobeprimetime.com/v2",this.requestHeaders=Vo(t),this.heartbeatIntervalId=null,this.messages={})}return e.fetchMetadataKeys=function(e,t){return a(this,void 0,void 0,(function(){var n,i,r,o;return s(this,(function(a){switch(a.label){case 0:n=t+"/metadata",i=Vo(e),r={method:"GET",headers:i},a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(n,r)];case 2:return[4,a.sent().json()];case 3:return function(e,t){var n="AdobeCM.metadata."+t;localStorage.setItem(n,JSON.stringify(e))}(a.sent(),e),[2,!0];case 4:return o=a.sent(),console.error("fetchMetadataKeys error: "+o),[2,!1];case 5:return[2]}}))}))},Object.defineProperty(e.prototype,"metadataKeys",{get:function(){return function(e){var t="AdobeCM.metadata."+e,n=[];try{n=JSON.parse(localStorage.getItem(t))||[]}catch(e){}return n}(this.applicationId)},enumerable:!0,configurable:!0}),e.prototype.start=function(){return a(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,this.createSession()];case 1:return(e=t.sent())?(this.scheduleHeartbeat(),[2,e]):[2,null]}}))}))},e.prototype.startWithSession=function(e){this.sessionId=e,this.scheduleHeartbeat()},e.prototype.stop=function(){this.heartbeatIntervalId&&(clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=null),this.terminateSession()},e.prototype.createSession=function(e){return void 0===e&&(e=[]),a(this,void 0,void 0,(function(){var t,n,i,r,a,c,u,l,d;return s(this,(function(s){switch(s.label){case 0:oo.debug("AdobeConcurrencyMonitorV2.createSession"),t=this.serviceUrl+"/sessions/"+this.identityProvider+"/"+this.subject,n=o({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},this.requestHeaders),e.length>0&&(n["X-Terminate"]=e.join(",")),i=this.getMetadata(),r=Object.keys(i).map((function(e){return e+"="+encodeURIComponent(i[e])})).join("&"),a={method:"POST",headers:n,body:r},s.label=1;case 1:return s.trys.push([1,3,,5]),[4,fetch(t,a)];case 2:if(c=s.sent(),!((u=c.status)>=200&&u<300))throw c;return l=c.headers.get("location").trim(),this.sessionId=l,oo.debug("AdobeConcurrencyMonitorV2.createSession sessionId:",l),[2,l];case 3:return d=s.sent(),oo.error("AdobeConcurrencyMonitorV2.createSession error: "+d),[4,this.handleError(d,null)];case 4:return[2,s.sent()];case 5:return[2]}}))}))},e.prototype.scheduleHeartbeat=function(){var e=this;oo.debug("AdobeConcurrencyMonitorV2.scheduleHeartbeat"),this.heartbeatIntervalId=window.setTimeout((function(){e.heartbeat()}),45e3)},e.prototype.heartbeat=function(){var e=this,t=this.sessionId;if(t){oo.debug("AdobeConcurrencyMonitorV2.heartbeat",t);var n=this.serviceUrl+"/sessions/"+this.identityProvider+"/"+this.subject+"/"+t;fetch(n,{method:"POST",headers:this.requestHeaders}).then((function(t){var n=t.status;if(!(n>=200&&n<300))throw t;e.scheduleHeartbeat()})).catch((function(t){return e.handleError(t,e.onError)}))}},e.prototype.terminateSession=function(){var e=this.sessionId;if(e){var t=this.serviceUrl+"/sessions/"+this.identityProvider+"/"+this.subject+"/"+e;fetch(t,{method:"DELETE",headers:this.requestHeaders}).then((function(e){var t=e.status;if(!(t>=200&&t<300))throw e}))}},e.prototype.handleError=function(t,n){var i=this;switch(oo.debug("AdobeConcurrencyMonitorV2.handleError",t),t.status){case 400:return t.json().then((function(t){if(!!(t.obligations||[]).find((function(e){return"logout"===e.action||"refresh"===e.action})))return e.fetchMetadataKeys(i.applicationId,i.serviceUrl).then((function(){var e=i.metadata;if(Object.keys(e).length>=i.metadataKeys.length)return i.start()}))}));case 409:return t.json().then((function(e){var r=(e.associatedAdvice||[]).find((function(e){return"rule-violation"===e.type}));if(r){var o=r.message,a=i.messages[o]||o,s=new Error(a),c=!!(e.obligations||[]).find((function(e){return"logout"===e.action}));if(oo.debug("AdobeConcurrencyMonitorV2.handleError",t.status,s,c),!n)throw s;n(s,c)}}));case 410:return t.json().then((function(e){if(!e)return i.start();var r=(e.associatedAdvice||[]).find((function(e){return"remote-termination"===e.type}));if(r){var o=r.message,a=i.messages[o]||o,s=new Error(a),c=!!e.obligations.find((function(e){return"logout"===e.action}));if(oo.debug("AdobeConcurrencyMonitorV2.handleError",t.status,s,c),!n)throw s;n(s,c)}}))}},e.prototype.getMetadata=function(){var e=this;return this.metadataKeys.reduce((function(t,n){return t[n]=e.metadata[n],t}),{})},e.prototype.onError=function(e,t){oo.debug("AdobeConcurrencyMonitor.onError"),oo.debug("error: "+e),oo.debug("shouldLogout: "+t)},e}(),zo=k((function(e,t){var n;e.exports=(n=_o,function(e){var t=n,i=t.lib,r=i.WordArray,o=i.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;r<64;)t(i)&&(r<8&&(s[r]=n(e.pow(i,.5))),c[r]=n(e.pow(i,1/3)),r++),i++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],d=n[6],h=n[7],p=0;p<64;p++){if(p<16)u[p]=0|e[t+p];else{var f=u[p-15],y=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=u[p-2],v=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[p]=y+u[p-7]+v+u[p-16]}var g=i&r^i&o^r&o,A=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&d)+c[p]+u[p];h=d,d=l,l=s,s=a+b|0,a=o,o=r,r=i,i=b+(A+g)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),n.SHA256)})),Go=function(){function e(e,t,n){void 0===n&&(n={}),this.programmer=e,this.applicationId=t,this.metadata=n}return e.prototype.withSession=function(e){var t=e.authenticationType,n=e.authenticatedIdentity,i=e.authenticatedProvider,r=e.mediaItem;if(t!==$r.mvpd)return this;var o=n,a=i&&i.id;return this.metadata[ko]=o,this.metadata[Oo]=r.network&&r.network.id,this.metadata[Lo]=r.streamType===Vr.live?Io:Co,this.metadata[Uo]="",this.metadata[No]=!!e.authenticatedProvider&&e.authenticatedProvider.isHomeBasedAuth,this.subject=o,this.identityProvider=a,this},e.prototype.withLocationProvider=function(e){var t=e.getPublicIPAddress();return this.metadata[Fo]=t?zo("m!ck3ym0u$3"+t):null,this.metadata[Bo]=e.getRegion()?e.getRegion():null,this},e.prototype.withServiceUrl=function(e){return this.serviceUrl=e,this},e.prototype.withMessages=function(e){return this.messages=e,this},e.prototype.build=function(){if(!this.subject||!this.identityProvider)return null;var e=new Ho(this.programmer,this.applicationId,this.identityProvider,this.subject,this.metadata);return this.serviceUrl&&(e.serviceUrl=this.serviceUrl),this.messages&&(e.messages=this.messages||{}),e},e}(),Wo=function(){function e(e,t){this.partner=e,this.platform=t}return e.prototype.startSession=function(e,t,n,i,r,o){var a=["partner="+this.partner,"platform="+this.platform,"token="+encodeURIComponent(n),"tokenType="+i,"v=2.0.0","ttl=21600"];if(r){var s=Eo.stringify(Po.parse(r));a.push("resource="+encodeURIComponent(s))}o&&Object.keys(o).forEach((function(e){a.push(e+"="+encodeURIComponent(o[e]))}));var c=/swid=*/g;a.some((function(e){return c.test(e)}))||a.push("swid="+encodeURIComponent(t));var u=a.join("&");return fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},credentials:"include",body:u}).then((function(e){return e.json()})).then((function(e){if(!e.session)throw new Error(e.message||"An unexpected error occurred. ["+e.abbreviation+"]");return e})).catch((function(e){if(e.message)throw new Error(e.message);return e.json().then((function(e){throw new Error(e.message||"An unexpected error occurred. ["+e.abbreviation+"]")}))}))},e}(),qo=function(){function e(e){this.authButler=e}return e.prototype.initPlaybackSession=function(e,t,n){var i=e.source.url;e.source.startSessionUrl&&e.source.type===Zr.shield&&(i=e.source.startSessionUrl);try{var r=window&&window.location.protocol;r&&"https:"===r&&(i=i.replace(/^http(s?):/,r))}catch(e){}var o=n.customData,a=o.token,s=o.tokenType,c=o.resource,u=void 0===c?e.mrss:c,l=t&&t.swid,d=this.authButler;if(!d)throw new Error("startSession support not configured");return d.startSession(i,l,a,s,u,t.dictionaryForStartSession()).then((function(t){var i=function(e,t){var n=e.playbackUrl,i=new go(n);return i.token=t,i}(t,a);return i.mediaItem=e,i.seekToTime=e.seekInSeconds,i.authenticationType=n.authenticationType,i.authenticatedProvider=n.authenticatedProvider,i.authenticatedIdentity=n.authenticatedIdentity,i}))},e}(),Yo=function(){function e(){}return e.prototype.initPlaybackSession=function(e,t,n){var i=new go(e.source.url);return i.mediaItem=e,i.seekToTime=e.seekInSeconds,i.authenticationType=null==n?void 0:n.authenticationType,i.authenticatedProvider=null==n?void 0:n.authenticatedProvider,i.authenticatedIdentity=null==n?void 0:n.authenticatedIdentity,Promise.resolve(i)},e}(),Ko="ADOBEPASS",Xo=function(e){if(e instanceof Error)throw e;return e.json&&e.json().then((function(e){var t=e.message||"An unexpected error occurred. ["+e.exception+"]";throw"com.espn.watch.api.AccessDeniedException"===e.exception&&(t="This content is not available for your package or region."),new Error(t)}))},Qo=function(){function e(e){this.drmSupport=wo.none,this.serviceUrl="https://watch.auth.api.espn.com",this.apiKey=e}return e.prototype.getAsset=function(e,t,n,i,r){var o=this.serviceUrl+"/video/auth/media/"+e+"/asset";return this.getAssetForUrl(o,t,n,i,r)},e.prototype.getAssetForUrl=function(e,t,n,i,r){var o=r||{};if(t)if(n===Ko){if(o.adobeToken=Eo.stringify(Po.parse(t)),i){var a=Eo.stringify(Po.parse(i));o.adobeResource=a}}else o.token=t;o.drmSupport=this.drmSupport;var s={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},credentials:"include",body:Object.keys(o).map((function(e){return e+"="+encodeURIComponent(o[e])})).join("&")},c=-1===e.indexOf("?")?"?":"&",u=""+e+c+"apikey="+this.apiKey;return fetch(u,s).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){if(!e.stream){var t=e.message||"An unexpected error occurred.";throw new Error(t)}return e})).catch(Xo)},e.defaultServiceUrl="https://watch.auth.api.espn.com",e}(),$o=function(){function e(e){this.shieldAPI=e}return e.prototype.initPlaybackSession=function(e,t,n){var i=n.customData.token,r=n.customData,o=void 0===r?{}:r,a=o.tokenType,s=o.resource,c=void 0===s?e.mrss:s,u=t.dictionaryForStartSession(),l=this.shieldAPI;if(!l)throw new Error("shield support not configured");var d=e.source.url;return l.getAssetForUrl(d,i,a,c,u).then((function(t){var i=t.stream,r=t.captions,o=t.streamInfo,a=t.gatekeeperToken,s=new go(i);return s.mediaItem=e,s.seekToTime=e.seekInSeconds,s.authenticationType=n.authenticationType,s.authenticatedProvider=n.authenticatedProvider,s.authenticatedIdentity=n.authenticatedIdentity,s.token=a,s.playbackConfig=function(e){if(!e)return null;var t=e.streamType,n=e.licenseAcquisitionUrl,i=e.certificateUrl;switch(t){case"DASH_PLAYREADY":return new vo("application/dash+xml",ho.playReady,n);case"DASH_WIDEVINE":return new vo("application/dash+xml",ho.widevine,n);case"HLS_FAIRPLAY":return new vo("application/x-mpegURL",ho.fairPlay,i);case"HLS":return new vo("application/x-mpegURL",ho.none);default:return null}}(o),s.textTracks=function(e){if(!e)return[];var t={source:e};return e.endsWith(".vtt")&&(t.contentType="text/vtt"),[t]}(r),s}))},e}(),Zo=function(){function e(){this.partner=null,this.platform=null,this.apiKey=null,this.deviceId=null,this.authenticators={},this.authorizers={},this.playbackSessionFactories={},this.playbackSessionFactories[Zr.none]=new Yo}return e.prototype.getAuthenticator=function(e){return this.authenticators[e]},e.prototype.setAuthenticator=function(e,t){var n=this;this.convertToArray(t).forEach((function(t){n.authenticators[t.toString()]=e}))},e.prototype.getAuthorizer=function(e){return this.authorizers[e]},e.prototype.setAuthorizer=function(e,t){var n=this;this.convertToArray(t).forEach((function(t){n.authorizers[t.toString()]=e}))},e.prototype.getPlaybackSessionFactory=function(e){return this.playbackSessionFactories[e]},e.prototype.setPlaybackSessionFactory=function(e,t){this.playbackSessionFactories[t]=e},e.prototype.checkAuthentication=function(){var e=this,t=Object.keys(this.authenticators).map((function(t){var n=e.authenticators[t];return n.checkAuthentication().then((function(e){return oo.debug(t+" authenticator","isAuthenticated: "+e,"authenticatedProvider: "+n.authenticatedProvider),e})).catch((function(){return!1}))}));return Promise.all(t).then((function(e){return e.every((function(e){return!0===e}))}))},e.prototype.isAuthenticatedForMediaItem=function(e){var t=this;return e.authenticationTypes.length<1||-1!==e.authenticationTypes.indexOf($r.none)||e.authenticationTypes.map((function(e){return t.authenticators[e]})).filter((function(e){return e})).some((function(e){return e.isAuthenticated}))},e.prototype.isAuthenticatedWithAuthType=function(e){var t=this.authenticators[e];return!!t&&t.isAuthenticated},e.prototype.authenticateWithAuthType=function(e,t){var n=this.authenticators[e];if(n)return n.authenticate(t)},e.prototype.checkAuthorization=function(e,t){var n=this;if(e.authenticationTypes&&e.authenticationTypes.length<1||-1!==e.authenticationTypes.indexOf($r.none)){var i=new f(e.id,e.title,e.images[0].url,e.source.url),r=new v($r.none,i,e.id,{}),o=new g(!0,r);return Promise.resolve(o)}var a=[$r.open,$r.mvpd,$r.direct,$r.isp].filter((function(t){return-1!==e.authenticationTypes.indexOf(t)})),s=a.map((function(e){return n.authorizers[e]})).filter((function(e){return e&&e.checkAuthorization}));return oo.debug("mediaItem.authTypes:",a),0===s.length?Promise.reject(new Error("no authorizer configured to support authTypes: "+e.authenticationTypes)):function e(t,n,i,r){return void 0===r&&(r=[]),i.shift().checkAuthorization(t,n).then((function(o){return o.success?o:i.length<1?r.length>0?Promise.reject(null):o:e(t,n,i,r)})).catch((function(o){if(i.length>0)return o&&r.push(o),e(t,n,i,r);var a=r[0]||o;if(a)throw a}))}(e,t,s)},e.prototype.initPlaybackSession=function(e,t){var n=this;return!e.source.type&&e.authenticationTypes.length>0?Promise.reject(new Error("This event is not currently available.")):this.checkAuthorization(e,t).then((function(i){var r,o,a;oo.debug("AuthenticationManager.initPlaybackSession.checkAuthorization result:",i.success);var s=i.success,c=i.payload;if(!s)throw new Error("Not authorized.");if(!(null===(r=null==e?void 0:e.source)||void 0===r?void 0:r.type))throw new Error("Media Item source type is missing.");var u=n.playbackSessionFactories[null===(o=null==e?void 0:e.source)||void 0===o?void 0:o.type];if(!u)throw new Error("SessionFactory for source type '"+(null===(a=null==e?void 0:e.source)||void 0===a?void 0:a.type)+"' is missing.");var l=new w;return l.authenticationProvider=i.payload.authenticatedProvider&&i.payload.authenticatedProvider.id,l.merge(t),u.initPlaybackSession(e,l,c).then((function(e){oo.debug("AuthenticationManager.initPlaybackSession",e);var t=n.concurrencyMonitorBuilder&&n.concurrencyMonitorBuilder.withSession(e).build();return t?t.createSession().then((function(t){return e.concurrencyMonitorSessionId=t,e})):e}))}))},Object.defineProperty(e.prototype,"authStates",{get:function(){var e=this.authenticators[$r.mvpd],t=[];return this.authenticators[$r.isp].isAuthenticated&&t.push("isp"),!0===e.isAuthenticated?t.push("mvpd_login"):!0===e.wasPreviouslyAuthenticated&&t.push("mvpd_previous"),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preauthorizedResources",{get:function(){var e=this;return Object.keys(this.authenticators).map((function(t){return e.authenticators[t].preauthorizedResources})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e,t,n){return n.indexOf(e)===t}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryAuthenticatedProvider",{get:function(){var e=this;return[$r.mvpd,$r.isp].map((function(t){return e.getAuthenticator(t)})).filter((function(e){return e.isAuthenticated})).map((function(e){return e.authenticatedProvider}))[0]},enumerable:!0,configurable:!0}),e.prototype.convertToArray=function(e){if(!e)return[];var t=[];return Array.isArray(e)?t=e:"string"==typeof e&&t.push(e),t},e}();Zo.AuthenticateOptionsKey={redirectUrl:"redirectUrl"};var Jo=function(){function e(){this.isAuthenticated=!!this.authorizationPayload,this.authenticatedIdentity=this.authorizationPayload&&this.authorizationPayload.authenticatedIdentity,this.authenticatedProvider=this.authorizationPayload&&this.authorizationPayload.authenticatedProvider,this.preauthorizedResources=[]}return e.prototype.checkAuthentication=function(){return Promise.resolve(this.isAuthenticated)},e.prototype.authenticate=function(){return this.checkAuthentication()},e.prototype.deauthenticate=function(){return this.authorizationPayload=null,Promise.resolve(!0)},e.prototype.checkAuthorization=function(e){var t=new g(!0,this.authorizationPayload);return!e||0!=e.authenticationTypes.length&&-1===e.authenticationTypes.indexOf($r.none)?this.authorizationPayload&&this.mediaItem&&this.mediaItem.id===e.id&&-1!==e.authenticationTypes.indexOf(this.authorizationPayload.authenticationType)?Promise.resolve(t):Promise.resolve(new g(!1,this.authorizationPayload)):Promise.resolve(t)},e}(),ea=function(e,t,n,i){this.serviceUrl=e,this.appVersion=t,this.appName=n,this.deviceID=i},ta=new ea("https://prod.gatekeeper.us-abc.symphony.edgedatg.go.com/vp2/ws-secure/entitlement/2020/playmanifest_secure.json","1.0.0","","001"),na=function(){function e(e){void 0===e&&(e=ta),this.configuration_=e}return e.prototype.initPlaybackSession=function(e,t,n){var i,r=this,o={brand:l(h(e.brand)),device:this.configuration_.deviceID},a=this.videoTypeFromMedia_(e);if(o.app_name=this.configuration_.appName,o.video_type=a,o.video_id=e.id,"abc"===e.brand&&"live"==a&&(o.affiliate=e.network.id),n.authenticationType==$r.mvpd){o.resource_id=e.mrss,o.adobe_requestor_id=(null==n?void 0:n.customData[v.CustomDataKey.requestor])||(null===(i=e.brand)||void 0===i?void 0:i.toUpperCase()),o.mvpd=null==n?void 0:n.authenticatedProvider.id;var s=null==n?void 0:n.customData[v.CustomDataKey.tokenType];o.token_type="ADOBEPASS"==s?"ap":s,o.token=null==n?void 0:n.customData[v.CustomDataKey.token]}var c={appversion:this.configuration_.appVersion,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},u=new URLSearchParams;Object.keys(o).forEach((function(e){null!=o[e]&&u.append(e,o[e])}));var d={method:"POST",headers:c,body:u};return fetch(this.configuration_.serviceUrl,d).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(t){var i=r.entitlementPlaybackSessionFromResponse_(t);return i.mediaItem=e,i.authenticationType=null==n?void 0:n.authenticationType,i.authenticatedProvider=null==n?void 0:n.authenticatedProvider,i.authenticatedIdentity=null==n?void 0:n.authenticatedIdentity,i}))},e.prototype.entitlementPlaybackSessionFromResponse_=function(e){var t,n,i,r,o,a,s,c,u,l,d=(null===(i=null===(n=null===(t=e.video)||void 0===t?void 0:t.assets)||void 0===n?void 0:n.asset[0])||void 0===i?void 0:i.value)||(null===(s=null===(a=null===(o=null===(r=e.channels)||void 0===r?void 0:r.channel[0])||void 0===o?void 0:o.assets)||void 0===a?void 0:a.asset[0])||void 0===s?void 0:s.value),h=new go(d);if(null===(c=e.entitlement)||void 0===c?void 0:c.drmData){var p=null===(u=e.entitlement)||void 0===u?void 0:u.drmData;switch(p.drmEncoding){case"WIDEVINE":l=new vo("application/dash+xml",bo.widevine,p.licenseUrl);break;case"FAIRPLAY":l=new vo("application/x-mpegURL",bo.fairPlay,p.licenseUrl);break;case"PLAYREADY":l=new vo("application/dash+xml",bo.playReady,p.licenseUrl)}}else l=new vo("application/x-mpegURL",bo.none,null);return h.playbackConfig=l,h},e.prototype.videoTypeFromMedia_=function(e){return e.streamType==Vr.live?"live":e.streamType==Vr.onDemand&&e.entityType==Wr.shortform?"sf":e.streamType==Vr.onDemand&&e.entityType==Wr.longform?"lf":void 0},e}(),ia=function(){function e(e,t){this.mediaItem=e,this.mediaItemDataSource=t}return e.prototype.start=function(){var e=this;this.mediaItem.isLinear&&this.mediaItem.isLive&&(this.intervalId=setInterval((function(){e.checkProgramChange()}),6e4))},e.prototype.stop=function(){this.intervalId&&clearInterval(this.intervalId)},e.prototype.checkProgramChange=function(){var e=this;if(this.mediaItem&&this.mediaItemDataSource){var t=this.mediaItem.network&&this.mediaItem.network.id;if(t){var n=this.mediaItem.apiSource==Xr.graphQL?Xr.graphQL:Xr.cfa,i=ro.identifierStringForNetwork(t,n);this.mediaItemDataSource.getMediaItems([i],{}).then((function(t){var n=t[0];n&&(e.mediaItem.id!==n.id&&e.mediaItem.references.simulcastAiringId!==n.references.simulcastAiringId&&(e.mediaItem=n,e.onProgramChange(n)))}))}}},e.prototype.onProgramChange=function(e){},e}();function ra(){}ra.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function r(){i.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,a=i.length;o<a;o++)i[o].fn!==t&&i[o].fn._!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}};var oa,aa=ra;ra.TinyEmitter=aa,function(e){e.willStartPlaying="atv.player.willStartPlaying",e.didStopPlaying="atv.player.didStopPlaying",e.onTimedMetadataChanged="atv.player.onTimedMetadataChanged",e.playerStateChanged="atv.player.playerStateChanged",e.playerTimeDidChange="atv.player.playerTimeDidChange"}(oa||(oa={}));var sa,ca,ua,la=oa;!function(e){e.priv="PRIV",e.txxx="TXXX"}(sa||(sa={})),function(e){e.heartbeat="com.espn.authnet.heartbeat",e.transition="com.espn.authnet.transition",e.nielsenWatermark="www.nielsen.com"}(ca||(ca={})),function(e){e.program="PROGRAM",e.commercial="COMMERCIAL",e.slate="SLATE"}(ua||(ua={}));var da,ha=function(e,t,n){this.tag=e,this.owner=t,this.dataValue=n};!function(e){e.start="start",e.playing="playing",e.pause="pause",e.seeking="seeking",e.stalled="stalled",e.stop="stop",e.timedMetadata="timedMetadata",e.currentTime="currentTime"}(da||(da={}));var pa,fa=da,ya=function(){function e(e,t){this.certificateUrl=t,this.requests=[],this.bindSecureKeyDelivery(e||atv.secureKeyDelivery||{})}return e.prototype.bindSecureKeyDelivery=function(e){e.fetchCertificate=this.fetchCertificate.bind(this),e.fetchAssetID=this.fetchAssetID.bind(this),e.fetchKeys=this.fetchKeys.bind(this),e.cancelAllRequests=this.cancelAllRequests.bind(this)},e.prototype.fetchCertificate=function(e,t){var n=this;oo.debug("AtvlVdmsSecureKeyDelivery.fetchCertificate",e);var i=this.certificateUrl;if(i){var r=new XMLHttpRequest;r.open("GET",i),r.onreadystatechange=function(){if(4===r.readyState){if(200===r.status){var e=r.responseDataAsBase64;oo.debug("AtvlVdmsSecureKeyDelivery.fetchCertificate responseDataAsBase64:",e),t.success(e)}else t.failure(r.status);n.requests.splice(n.requests.indexOf(r),1)}},this.requests.push(r),r.send(null)}else t.failure("invalid certificate url")},e.prototype.fetchAssetID=function(e,t){var n=/[?&]c=([^&]+)&*/.exec(e);if(!n||n.length<2)t.failure("Error parsing assetId "+e);else{var i=n[1];oo.debug("AtvlVdmsSecureKeyDelivery.fetchAssetID",e,i),t.success(i,!1)}},e.prototype.fetchKeys=function(e,t,n){var i=this,r=e.replace("skd://","https://"),o=JSON.stringify({spc:t});oo.debug("AtvlVdmsSecureKeyDelivery.fetchKeys",r);var a=new XMLHttpRequest;a.open("POST",r),a.setRequestHeader("Content-Type","application/json"),a.onreadystatechange=function(){if(4===a.readyState){if(200===a.status)try{var e=JSON.parse(a.responseText).ckc;n.success(e)}catch(e){n.failure("invalid JSON")}else n.failure(a.status);i.requests.splice(i.requests.indexOf(a),1)}},this.requests.push(a),a.send(o)},e.prototype.cancelAllRequests=function(){oo.debug("AtvlVdmsSecureKeyDelivery.cancelAllRequests",this.requests.length),this.requests.forEach((function(e){e.abort&&e.abort()})),this.requests=[]},e}();(function(e){function t(t,n,i){var r=e.call(this)||this;if(!n)throw new Error("bus must be supplied");return r.bus=n,r.secureKeyDelivery=new ya(i),r.bindEventListeners(),r}n(t,e),t.prototype.bindEventListeners=function(){var e=this;this.bus.on(la.willStartPlaying,(function(){atv.player.observeTimedMetadataKeys(),e.emit(fa.start)})),this.bus.on(la.playerStateChanged,(function(t,n){switch(oo.debug("AtvlPlayerAdaptor AtvlPlayerEvent.playerStateChanged",t,n),t){case atv.player.states.FastForwarding:e.emit(fa.seeking,n);break;case atv.player.states.Loading:e.emit(fa.stalled,n);break;case atv.player.states.Paused:e.emit(fa.pause,n);break;case atv.player.states.Playing:e.emit(fa.playing,n);break;case atv.player.states.Rewinding:e.emit(fa.seeking,n)}})),this.bus.on(la.onTimedMetadataChanged,(function(t){var n=t.key,i=t.extraAttributes.info,r=t.dataValue,o=r&&Po.stringify(Eo.parse(r))||"";o.replace("\0",""),e.emit(fa.timedMetadata,new ha(n,i,o))})),this.bus.on(la.didStopPlaying,(function(){e.emit(fa.stop),e.cleanup()})),this.bus.on(la.playerTimeDidChange,(function(t){e.emit(fa.currentTime,t)}))},Object.defineProperty(t.prototype,"playbackConfig",{set:function(e){if(e){var t=e.licenseUrl;oo.debug("AtvlPlayerAdaptor setPlaybackConfig",t,e.protectionSystem),t&&(this.secureKeyDelivery.certificateUrl=t)}},enumerable:!0,configurable:!0}),t.prototype.stop=function(e){var t=e.message;atv.player.stopWithReason("Video Playback Has Stopped",t)},t.prototype.cleanup=function(){this.bus.off(la.willStartPlaying),this.bus.off(la.onTimedMetadataChanged),this.bus.off(la.didStopPlaying)}})(aa),function(e){function t(t,n){var i=e.call(this)||this;return t?(i.nativePlayer=t,i.bus=t.getEventBus(),i.constants=n,i.bindEventListeners(),i):i}n(t,e),t.prototype.bindEventListeners=function(){var e=this;this.bus.subscribe(this.constants.Events.Player.ID3,(function(t){void 0===t&&(t={});var n=t.sample?t.sample.data:t,i=n instanceof Uint8Array?String.fromCharCode.apply(String,u(n)):n,r=["PRIV","TXXX"].find((function(e){return i.includes(e)}))||null,o=Object.keys(ca).map((function(e){return ca[e]})).find((function(e){return i.includes(e)}))||null,a=o?i.substring(i.lastIndexOf(o)+o.length).trim().replace(/\0/g,""):null,s=new ha(r,o,a);e.emit(fa.timedMetadata,s)})),this.alreadyStarted=!1,this.bus.subscribe(this.constants.Events.Player.PLAYING,(function(){oo.trace("BAMTizenPlayerAdaptor Events.Player.PLAYING"),e.alreadyStarted?e.emit(fa.playing):(e.emit(fa.start),e.emit(fa.playing),e.alreadyStarted=!0)})),this.bus.subscribe(this.constants.Events.Player.TIME_UPDATE,(function(t){var n=t/1e3;e.emit(fa.currentTime,n)})),this.bus.subscribe(this.constants.Events.Player.PAUSE,(function(){oo.trace("BAMTizenPlayerAdaptor Events.Player.PAUSE"),e.emit(fa.pause)})),this.bus.subscribe(this.constants.Events.Player.SEEKING,(function(){oo.trace("BAMTizenPlayerAdaptor Events.Player.SEEKING"),e.emit(fa.seeking)})),this.bus.subscribe(this.constants.Events.Player.BUFFERING_START,(function(){oo.trace("BAMTizenPlayerAdaptor Events.Player.BUFFERING_START"),e.emit(fa.stalled)})),this.bus.subscribe(this.constants.Events.Player.BUFFERING_END,(function(){oo.trace("BAMTizenPlayerAdaptor Events.Player.BUFFERING_END"),e.emit(fa.playing)})),this.bus.subscribe(this.constants.Events.Player.COMPLETE,(function(){oo.trace("BAMTizenPlayerAdaptor Events.Player.COMPLETE"),e.emit(fa.stop),e.cleanup()}))},t.prototype.stop=function(e){e&&oo.warn("BAMTizenPlayerAdaptor.stop",e.message),this.nativePlayer.stop(),this.cleanup()},t.prototype.cleanup=function(){this.alreadyStarted=!1,this.bus.unsubscribe(this.constants.Events.Player.ID3,this),this.bus.unsubscribe(this.constants.Events.Player.PLAYING,this),this.bus.unsubscribe(this.constants.Events.Player.TIME_UPDATE,this),this.bus.unsubscribe(this.constants.Events.Player.PAUSE,this),this.bus.unsubscribe(this.constants.Events.Player.SEEKING,this),this.bus.unsubscribe(this.constants.Events.Player.BUFFERING_START,this),this.bus.unsubscribe(this.constants.Events.Player.COMPLETE,this)}}(aa),function(e){function t(t){var n=e.call(this)||this;return t?(n.nativePlayer=t,n.bindEventListeners(),n):n}n(t,e),t.prototype.bindEventListeners=function(){this.loadCompleteHandler=this.loadCompleteHandler.bind(this),this.nativePlayer.addEventListener(cast.framework.events.EventType.PLAYER_LOAD_COMPLETE,this.loadCompleteHandler),this.id3Handler=this.id3Handler.bind(this),this.nativePlayer.addEventListener(cast.framework.events.EventType.ID3,this.id3Handler),this.mediaFinishedHandler=this.mediaFinishedHandler.bind(this),this.nativePlayer.addEventListener(cast.framework.events.EventType.MEDIA_FINISHED,this.mediaFinishedHandler),this.timeUpdateHandler=this.timeUpdateHandler.bind(this),this.nativePlayer.addEventListener(cast.framework.events.EventType.TIME_UPDATE,this.timeUpdateHandler),this.playingHandler=this.playingHandler.bind(this),this.nativePlayer.addEventListener(cast.framework.events.EventType.PLAYING,this.playingHandler),this.pauseHandler=this.pauseHandler.bind(this),this.nativePlayer.addEventListener(cast.framework.events.EventType.PAUSE,this.pauseHandler),this.stop=this.stop.bind(this)},t.prototype.loadCompleteHandler=function(e){oo.debug("ChromecastPlayerAdaptor: PLAYER_LOAD_COMPLETE",e),this.emit(fa.start)},t.prototype.id3Handler=function(e){if(oo.debug("ChromecastPlayerAdaptor._id3Handler",e),e.detail&&(e.segmentData=e.detail),e.segmentData){var t=String.fromCharCode.apply(String,u(e.segmentData));oo.trace("ChromecastPlayerAdaptor._id3Handler",t);var n=["PRIV","TXXX"].find((function(e){return t.includes(e)}))||null,i=Object.keys(ca).map((function(e){return ca[e]})).find((function(e){return t.includes(e)}))||null,r=i?t.substring(t.lastIndexOf(i)+i.length).trim().replace(/\0/g,""):null,o=new ha(n,i,r);oo.trace("ChromecastPlayerAdaptor._id3Handler","tag:",n,"owner:",i,"dataValue:",r),this.emit(fa.timedMetadata,o)}},t.prototype.timeUpdateHandler=function(e){var t=e.currentMediaTime;this.emit(fa.currentTime,t)},t.prototype.playingHandler=function(e){var t=e.currentMediaTime;this.emit(fa.playing,t)},t.prototype.pauseHandler=function(e){var t=e.currentMediaTime;this.emit(fa.pause,t)},t.prototype.mediaFinishedHandler=function(e){oo.debug("ChromecastPlayerAdaptor: MEDIA_FINISHED",e),this.emit(fa.stop),this.cleanup()},t.prototype.stop=function(e){e&&oo.warn("ChromecastPlayerAdaptor.stop",e.message)},t.prototype.cleanup=function(){this.nativePlayer&&(this.nativePlayer.removeEventListener(cast.framework.events.EventType.PLAYER_LOAD_COMPLETE,this.loadCompleteHandler),this.nativePlayer.removeEventListener(cast.framework.events.EventType.ID3,this.id3Handler),this.nativePlayer.removeEventListener(cast.framework.events.EventType.MEDIA_FINISHED,this.mediaFinishedHandler),this.nativePlayer.removeEventListener(cast.framework.events.EventType.TIME_UPDATE,this.timeUpdateHandler),this.nativePlayer.removeEventListener(cast.framework.events.EventType.PAUSE,this.pauseHandler))}}(aa),function(e){function t(t){var n=e.call(this)||this;return n.nativePlayer=t,n.bindEventListeners(),n}n(t,e),t.prototype.bindEventListeners=function(){var e=this;this.nativePlayer?(this.onPlay=this.onPlay.bind(this),this.onPause=this.onPause.bind(this),this.onSeek=this.onSeek.bind(this),this.onCurrentTime=this.onCurrentTime.bind(this),this.onStalled=this.onStalled.bind(this),this.stop=this.stop.bind(this),this.onError=this.onError.bind(this),this.cleanup=this.cleanup.bind(this),this.nativePlayer.addEventListener("play",this.onPlay),this.nativePlayer.addEventListener("pause",this.onPause),this.nativePlayer.addEventListener("seeking",this.onSeek),this.nativePlayer.addEventListener("ended",this.stop),this.nativePlayer.addEventListener("error",this.onError),this.nativePlayer.addEventListener("timeUpdate",this.onCurrentTime),this.nativePlayer.addEventListener("stalled",this.onStalled),this.nativePlayer.textTracks.onaddtrack=function(t){var n=t.track;n&&"metadata"===n.kind&&n.addEventListener("cuechange",(function(t){var n=t.target;if(n&&"metadata"===n.kind){for(var i=[],r=0;r<n.activeCues.length;r++){var o=n.activeCues[r];i.push(o.value)}i.map((function(t){var n=t.key,i=t.info,r=t.data;r instanceof ArrayBuffer&&(r=String.fromCharCode.apply(null,new Uint8Array(r)));var o=new ha(n,i,r);oo.trace("HTML5PlayerAdaptor timedMetadata",o),e.emit(fa.timedMetadata,o)}))}}))}):oo.error("Native Player wasn't passed to HTML5PlayerAdaptor")},t.prototype.onPlay=function(e){this.emit(fa.start,e.timeStamp)},t.prototype.onPause=function(){this.emit(fa.pause)},t.prototype.onSeek=function(){this.emit(fa.seeking)},t.prototype.onError=function(){this.emit(fa.stop),this.cleanup()},t.prototype.onCurrentTime=function(e){this.emit(fa.currentTime,e.timeStamp)},t.prototype.onStalled=function(e){this.emit(fa.stalled,e.timeStamp)},t.prototype.stop=function(){this.nativePlayer.pause(),this.nativePlayer.setAttribute("src",""),this.nativePlayer.removeAttribute("src"),this.nativePlayer.currentTime=0,this.emit(fa.stop),this.cleanup()},t.prototype.cleanup=function(){this.nativePlayer.removeEventListener("play",this.onPlay),this.nativePlayer.removeEventListener("pause",this.onPause),this.nativePlayer.removeEventListener("error",this.onError),this.nativePlayer.removeEventListener("seeking",this.onSeek),this.nativePlayer.removeEventListener("stalled",this.onStalled),this.nativePlayer.removeEventListener("timeupdate",this.onCurrentTime),this.nativePlayer.removeEventListener("ended",this.stop)}}(aa);!function(e){e.opened="opened",e.playing="playing",e.ended="ended",e.timedMetadata="timedMetadata",e.error="error",e.timeUpdate="timeUpdate",e.stalled="stalled",e.paused="paused",e.seeking="seeking"}(pa||(pa={}));var ma=pa;!function(e){function t(t,n){var i=e.call(this)||this;if(!t)throw new Error("nativePlayer must be supplied");return i.nativePlayer=t,i.bus=n,i.bindEventListeners(),i}n(t,e),t.prototype.bindEventListeners=function(){this.onSeeking=this.onSeeking.bind(this),this.onStalled=this.onStalled.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onPlaying=this.onPlaying.bind(this),this.onPaused=this.onPaused.bind(this),this.onError=this.onError.bind(this),this.onEnded=this.onEnded.bind(this),this.onTimedMetadata=this.onTimedMetadata.bind(this),this.onOpened=this.onOpened.bind(this),this.bus?(this.bus.on(ma.opened,this.onOpened),this.bus.on(ma.playing,this.onPlaying),this.bus.on(ma.paused,this.onPaused),this.bus.on(ma.timedMetadata,this.onTimedMetadata),this.bus.on(ma.ended,this.onEnded),this.bus.on(ma.error,this.onError),this.bus.on(ma.timeUpdate,this.onTimeUpdate),this.bus.on(ma.stalled,this.onStalled),this.bus.on(ma.seeking,this.onSeeking)):(this.nativePlayer.onOpened=this.onOpened,this.nativePlayer.onPlaying=this.onPlaying,this.nativePlayer.onTimedMetadata=this.onTimedMetadata,this.nativePlayer.onEnded=this.onEnded,this.nativePlayer.onError=this.onError,this.nativePlayer.onTimeUpdate=this.onTimeUpdate,this.nativePlayer.onStalled=this.onStalled,this.nativePlayer.onSeeking=this.onSeeking)},t.prototype.onSeeking=function(){var e=this.nativePlayer.currentTime;oo.debug("TrilithiumPlayerAdaptor.onSeeking",e),this.emit(fa.seeking,e)},t.prototype.onStalled=function(){var e=this.nativePlayer.currentTime;oo.debug("TrilithiumPlayerAdaptor.onStalled",e),this.emit(fa.stalled,e)},t.prototype.onTimeUpdate=function(){var e=this.nativePlayer.currentTime;oo.debug("TrilithiumPlayerAdaptor.onTimeUpdate",e),this.emit(fa.currentTime,e)},t.prototype.onError=function(e){oo.debug("TrilithiumPlayerAdaptor.onError",e),this.emit(fa.stop),this.cleanup()},t.prototype.onEnded=function(){this.emit(fa.stop),this.cleanup()},t.prototype.onTimedMetadata=function(e,t,n){var i=t,r=n.toString(),o=Po.stringify(Eo.parse(n.toString("base64"))),a=r?o.substring(o.lastIndexOf(r)+r.length).trim().replace(/\0/g,""):o;oo.debug("TrilithiumPlayerAdaptor.onTimedMetadata "+i+" "+r+" "+a);var s=new ha(i,r,a);this.emit(fa.timedMetadata,s)},t.prototype.onOpened=function(e){e&&(oo.debug("TrilithiumPlayerAdaptor.onOpened"),this.emit(fa.start))},t.prototype.onPlaying=function(){var e=this.nativePlayer.currentTime;oo.debug("TrilithiumPlayerAdaptor.onPlaying",e),this.emit(fa.playing,e)},t.prototype.onPaused=function(){var e=this.nativePlayer.currentTime;oo.debug("TrilithiumPlayerAdaptor.onPaused",e),this.emit(fa.pause,e)},t.prototype.stop=function(e){e&&oo.warn("TrilithiumPlayerAdaptor.stop",e.message)},t.prototype.cleanup=function(){this.bus&&(this.bus.off(ma.opened),this.bus.off(ma.playing),this.bus.off(ma.timedMetadata),this.bus.off(ma.ended),this.bus.off(ma.error),this.bus.off(ma.timeUpdate),this.bus.off(ma.stalled))}}(aa);async function va(e){try{const t=new fo,n=await t.getMediaItems([e],{});if(n&&mr(n))return n.shift();throw new Error("mediaItem return null")}catch(e){return console.error("Get media items error: "+e),null}}var ga=k((function(e,t){var n=/^\[object .+?Constructor\]$/,i=/^(?:0|[1-9]\d*)$/,r={};r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1;var o="object"==typeof C&&C&&C.Object===Object&&C,a="object"==typeof self&&self&&self.Object===Object&&self,s=o||a||Function("return this")(),c=t&&!t.nodeType&&t,u=c&&e&&!e.nodeType&&e,l=u&&u.exports===c,d=l&&o.process,h=function(){try{var e=u&&u.require&&u.require("util").types;return e||d&&d.binding&&d.binding("util")}catch(e){}}(),p=h&&h.isTypedArray;function f(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var y,m,v=Array.prototype,g=Function.prototype,A=Object.prototype,b=s["__core-js_shared__"],w=g.toString,T=A.hasOwnProperty,S=function(){var e=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_=A.toString,E=w.call(Object),P=RegExp("^"+w.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=l?s.Buffer:void 0,k=s.Symbol,D=s.Uint8Array,M=I?I.allocUnsafe:void 0,O=(y=Object.getPrototypeOf,m=Object,function(e){return y(m(e))}),L=Object.create,U=A.propertyIsEnumerable,R=v.splice,N=k?k.toStringTag:void 0,j=function(){try{var e=ce(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),x=I?I.isBuffer:void 0,F=Math.max,B=Date.now,V=ce(s,"Map"),H=ce(Object,"create"),z=function(){function e(){}return function(t){if(!be(t))return{};if(L)return L(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function W(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Y(e){var t=this.__data__=new W(e);this.size=t.size}function K(e,t){var n=ye(e),i=!n&&fe(e),r=!n&&!i&&ve(e),o=!n&&!i&&!r&&Te(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],c=s.length;for(var u in e)!t&&!T.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ue(u,c))||s.push(u);return s}function X(e,t,n){(void 0!==n&&!pe(e[t],n)||void 0===n&&!(t in e))&&Z(e,t,n)}function Q(e,t,n){var i=e[t];T.call(e,t)&&pe(i,n)&&(void 0!==n||t in e)||Z(e,t,n)}function $(e,t){for(var n=e.length;n--;)if(pe(e[n][0],t))return n;return-1}function Z(e,t,n){"__proto__"==t&&j?j(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}G.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},G.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G.prototype.get=function(e){var t=this.__data__;if(H){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return T.call(t,e)?t[e]:void 0},G.prototype.has=function(e){var t=this.__data__;return H?void 0!==t[e]:T.call(t,e)},G.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H&&void 0===t?"__lodash_hash_undefined__":t,this},W.prototype.clear=function(){this.__data__=[],this.size=0},W.prototype.delete=function(e){var t=this.__data__,n=$(t,e);return!(n<0)&&(n==t.length-1?t.pop():R.call(t,n,1),--this.size,!0)},W.prototype.get=function(e){var t=this.__data__,n=$(t,e);return n<0?void 0:t[n][1]},W.prototype.has=function(e){return $(this.__data__,e)>-1},W.prototype.set=function(e,t){var n=this.__data__,i=$(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},q.prototype.clear=function(){this.size=0,this.__data__={hash:new G,map:new(V||W),string:new G}},q.prototype.delete=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t},q.prototype.get=function(e){return se(this,e).get(e)},q.prototype.has=function(e){return se(this,e).has(e)},q.prototype.set=function(e,t){var n=se(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Y.prototype.clear=function(){this.__data__=new W,this.size=0},Y.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Y.prototype.get=function(e){return this.__data__.get(e)},Y.prototype.has=function(e){return this.__data__.has(e)},Y.prototype.set=function(e,t){var n=this.__data__;if(n instanceof W){var i=n.__data__;if(!V||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new q(i)}return n.set(e,t),this.size=n.size,this};var J,ee=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),a=o.length;a--;){var s=o[J?a:++i];if(!1===t(r[s],s,r))break}return e};function te(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":N&&N in Object(e)?function(e){var t=T.call(e,N),n=e[N];try{e[N]=void 0;var i=!0}catch(e){}var r=_.call(e);i&&(t?e[N]=n:delete e[N]);return r}(e):function(e){return _.call(e)}(e)}function ne(e){return we(e)&&"[object Arguments]"==te(e)}function ie(e){return!(!be(e)||function(e){return!!S&&S in e}(e))&&(ge(e)?P:n).test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function re(e){if(!be(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=le(e),n=[];for(var i in e)("constructor"!=i||!t&&T.call(e,i))&&n.push(i);return n}function oe(e,t,n,i,r){e!==t&&ee(t,(function(o,a){if(r||(r=new Y),be(o))!function(e,t,n,i,r,o,a){var s=de(e,n),c=de(t,n),u=a.get(c);if(u)return void X(e,n,u);var l=o?o(s,c,n+"",e,t,a):void 0,d=void 0===l;if(d){var h=ye(c),p=!h&&ve(c),f=!h&&!p&&Te(c);l=c,h||p||f?ye(s)?l=s:we(A=s)&&me(A)?l=function(e,t){var n=-1,i=e.length;t||(t=Array(i));for(;++n<i;)t[n]=e[n];return t}(s):p?(d=!1,l=function(e,t){if(t)return e.slice();var n=e.length,i=M?M(n):new e.constructor(n);return e.copy(i),i}(c,!0)):f?(d=!1,y=c,m=!0?(v=y.buffer,g=new v.constructor(v.byteLength),new D(g).set(new D(v)),g):y.buffer,l=new y.constructor(m,y.byteOffset,y.length)):l=[]:function(e){if(!we(e)||"[object Object]"!=te(e))return!1;var t=O(e);if(null===t)return!0;var n=T.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&w.call(n)==E}(c)||fe(c)?(l=s,fe(s)?l=function(e){return function(e,t,n,i){var r=!n;n||(n={});var o=-1,a=t.length;for(;++o<a;){var s=t[o],c=i?i(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),r?Z(n,s,c):Q(n,s,c)}return n}(e,Se(e))}(s):be(s)&&!ge(s)||(l=function(e){return"function"!=typeof e.constructor||le(e)?{}:z(O(e))}(c))):d=!1}var y,m,v,g;var A;d&&(a.set(c,l),r(l,c,i,o,a),a.delete(c));X(e,n,l)}(e,t,a,n,oe,i,r);else{var s=i?i(de(e,a),o,a+"",e,t,r):void 0;void 0===s&&(s=o),X(e,a,s)}}),Se)}function ae(e,t){return he(function(e,t,n){return t=F(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=F(i.length-t,0),a=Array(o);++r<o;)a[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(a),f(e,this,s)}}(e,t,Pe),e+"")}function se(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function ce(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ie(n)?n:void 0}function ue(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}function le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}function de(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var he=function(e){var t=0,n=0;return function(){var i=B(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(j?function(e,t){return j(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Pe);function pe(e,t){return e===t||e!=e&&t!=t}var fe=ne(function(){return arguments}())?ne:function(e){return we(e)&&T.call(e,"callee")&&!U.call(e,"callee")},ye=Array.isArray;function me(e){return null!=e&&Ae(e.length)&&!ge(e)}var ve=x||function(){return!1};function ge(e){if(!be(e))return!1;var t=te(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ae(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function be(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function we(e){return null!=e&&"object"==typeof e}var Te=p?function(e){return function(t){return e(t)}}(p):function(e){return we(e)&&Ae(e.length)&&!!r[te(e)]};function Se(e){return me(e)?K(e,!0):re(e)}var _e,Ee=(_e=function(e,t,n,i){oe(e,t,n,i)},ae((function(e,t){var n=-1,i=t.length,r=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(r=_e.length>3&&"function"==typeof r?(i--,r):void 0,o&&function(e,t,n){if(!be(n))return!1;var i=typeof t;return!!("number"==i?me(n)&&ue(t,n.length):"string"==i&&t in n)&&pe(n[t],e)}(t[0],t[1],o)&&(r=i<3?void 0:r,i=1),e=Object(e);++n<i;){var a=t[n];a&&_e(e,a,n,r)}return e})));function Pe(e){return e}e.exports=Ee})),Aa={mailToLink:"mailto:?subject={{subject}}&body={{body}}",sendMailUrl:"http://proxy.espn.com/videohub/player/sendMail?id={{id}}&clipName={{clipName}}&youremail={{youremail}}&friendemail={{friendemail}}&message={{message}}&videoImage={{videoImage}}",embedCode:'<iframe width="640" height="360" src="http://www.espn.com/core/video/iframe?id={{ID}}&endcard=false" allowfullscreen frameborder="0"></iframe>',deeplinking:!0,services:{facebook:!0,google:!1,twitter:!0,tumblr:!1,pinterest:!1,linkedin:!1,email:!0,directlink:!0,embed:!0}};function ba(e,t){if(null===t)return e}const wa=function(e,t,n){const i=ga({},Aa,ba);if(n&&"object"==typeof n)ga(i,n,ba);else if(!1===n)return void t(n);i.id=i.id||e.id,i.title=e.headline||e.pageTitle,i.description=e.description,i.url=i.url&&i.url.replace(/{{ID}}/g,e.id)||i.url||e.web||e.webHref,i.poster=e.poster,i.syndicatable=!!e.syndicatable,i.embedCode=i.embedCode&&i.embedCode.replace(/{{ID}}/g,e.id),i.pauseOnOpen=!0,i.showOffset=!0,i.services&&i.services.embed&&(i.services.embed=i.syndicatable),"live"===e.type&&(i.pauseOnOpen=!1,i.showOffset=!1),t(i)};var Ta=be.f,Sa=function(e){return function(t){for(var n,i=Ee(t),r=lt(i),o=r.length,a=0,s=[];o>a;)n=r[a++],L&&!Ta.call(i,n)||s.push(e?[n,i[n]]:i[n]);return s}},_a={entries:Sa(!0),values:Sa(!1)}.entries;Be({target:"Object",stat:!0},{entries:function(e){return _a(e)}});var Ea=Re.Object.entries,Pa=Li.forEach,Ia=Ki("forEach"),Ca=Fi("forEach"),ka=Ia&&Ca?[].forEach:function(e){return Pa(this,e,arguments.length>1?arguments[1]:void 0)};Be({target:"Array",proto:!0,forced:[].forEach!=ka},{forEach:ka});var Da=zi("Array").forEach,Ma=Array.prototype,Oa={DOMTokenList:!0,NodeList:!0},La=function(e){var t=e.forEach;return e===Ma||e instanceof Array&&t===Ma.forEach||Oa.hasOwnProperty(_t(e))?Da:t},Ua="\t\n\v\f\r                　\u2028\u2029\ufeff",Ra="["+Ua+"]",Na=RegExp("^"+Ra+Ra+"*"),ja=RegExp(Ra+Ra+"*$"),xa=function(e){return function(t){var n=String(E(t));return 1&e&&(n=n.replace(Na,"")),2&e&&(n=n.replace(ja,"")),n}},Fa={start:xa(1),end:xa(2),trim:xa(3)},Ba=Fa.trim,Va=M.parseInt,Ha=/^[+-]?0[Xx]/,za=8!==Va(Ua+"08")||22!==Va(Ua+"0x16")?function(e,t){var n=Ba(String(e));return Va(n,t>>>0||(Ha.test(n)?16:10))}:Va;Be({global:!0,forced:parseInt!=za},{parseInt:za});var Ga=Re.parseInt;class Wa{constructor(e){this._hasDocumentCookie=!1,this._hasDocumentCookie=e}get(e){if(this._hasDocumentCookie){const t=document.cookie.split(/;\s*/);for(let n=0;n<t.length;n+=1){const i=t[n].split("=");if(decodeURIComponent(i[0])===e)return decodeURIComponent(i[1])}}return null}set(e,t,n={}){if(this._hasDocumentCookie){const{domain:i,expires:r,path:o,secure:a}=n;let s=`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;return r&&(s+="; expires="+r),o&&(s+="; path="+encodeURIComponent(o)),i&&(s+="; domain="+encodeURIComponent(i)),a&&(s+="; secure"),document.cookie=s,s}return null}}var qa=O((function(){lt(1)}));Be({target:"Object",stat:!0,forced:qa},{keys:function(e){return lt(Ve(e))}});var Ya=Re.Object.keys,Ka=pt("JSON","stringify"),Xa=/[\uD800-\uDFFF]/g,Qa=/^[\uD800-\uDBFF]$/,$a=/^[\uDC00-\uDFFF]$/,Za=function(e,t,n){var i=n.charAt(t-1),r=n.charAt(t+1);return Qa.test(e)&&!$a.test(r)||$a.test(e)&&!Qa.test(i)?"\\u"+e.charCodeAt(0).toString(16):e},Ja=O((function(){return'"\\udf06\\ud834"'!==Ka("\udf06\ud834")||'"\\udead"'!==Ka("\udead")}));Ka&&Be({target:"JSON",stat:!0,forced:Ja},{stringify:function(e,t,n){var i=Ka.apply(null,arguments);return"string"==typeof i?i.replace(Xa,Za):i}}),Re.JSON||(Re.JSON={stringify:JSON.stringify});var es=function(e,t,n){return Re.JSON.stringify.apply(null,arguments)};class ts{constructor(e,t){this._key=null,this.storage=e,this._key=t}getFan(){const e=this.storage&&this.storage.getItem(this._key);return e?Ii.resolve(JSON.parse(e)):Ii.reject(new Error("getFan from localstorage failed"))}setFan(e){if(this.storage){const t={item:e.item,id:e.id,timestamp:ir()};this.storage.setItem(this._key,es(t))}}}const ns="espn-video-player",is=10,rs="https://fan.api.espn.com",os="https://fan.core.api.espn.com",as="fanapi_fan";class ss{get storage(){return this._storage}constructor(e=ns,t=is,n=new ts(window.localStorage,as)){this._sourceHeader=null,this._cacheDuration=0,this._storage=null,this._sourceHeader=e,this._cacheDuration=t,this._storage=n}async fetchFan(e){const t={method:"GET",headers:{"X-Personalization-Source":this._sourceHeader},credentials:"include"};let n=null;try{const i=await fetch(e,t),r=await i.json();r.id&&(n=r,this.storage.setFan({item:r,id:r.id,timestamp:ir()}))}catch(e){console.error("fetchFan error: "+e)}return n}async getFanForId(e){let t=null;try{const n=await this.storage.getFan();t=n&&n.item;const i=ir()-n.timestamp>60*this._cacheDuration*1e3;if(null===t||t.id!==e||i){const n=`${rs}/apis/v2/fans/${e}`;t=this.fetchFan(n)}}catch(n){console.error("getFanForId error: "+n);const i=`${rs}/apis/v2/fans/${e}`;t=this.fetchFan(i)}return t}getAutoPlayOnCatch(){const e=["local.espn.com","www.espnqa.com","www.espn.com"];let t=!1;const n="1"===window.localStorage.getItem("isGamepackageAutoPlay");return window&&window.location&&window.location.hostname&&(t=nr(e).call(e,window.location.hostname)>-1),!(t&&!n)}async getAutoStartForFanId(e,t){let n=null;try{const t=await this.getFanForId(e);if(null!==t){const{profile:e}=t,i=e&&e.settings;n="2"!==(i&&i.videoAutoStart&&i.videoAutoStart.value)}}catch(e){console.error("getAutoStartForFanId failed: "+e),n=this.getAutoPlayOnCatch()}null!==n&&"function"==typeof t&&t(n)}async updateSettingsForFanId(e,t){const n={method:"POST",headers:{"Content-Type":"application/json","X-Personalization-Source":this._sourceHeader},credentials:"include",body:es(t)};return await fetch(e,n)}async updateAutoStartForFanId(e,t){const n={settings:{videoAutoStart:{value:(t?"1":"2").toString(),lastUpdateSource:this._sourceHeader,lastUpdateDate:ir()}}};try{const t=`${os}/apis/v2/fans/${e}/profile/`;await this.updateSettingsForFanId(t,n)}catch(e){console.error("Update autoStart settings for fan failed: "+e)}finally{this.updateAutoStartCache(n.settings)}}async updateAutoStartCache(e){const{videoAutoStart:t}=e;try{const e=await this.storage.getFan(),i=e&&e.item;var n;if(i)La(n=Ya(t)).call(n,e=>{i.profile.settings.videoAutoStart[e]=t[e]}),this.storage.setFan({item:i,id:i.id,timestamp:ir()})}catch(e){console.error("updateAutoStartCache failed: "+e)}}}class cs{set SWID(e){this._SWID=e}get SWID(){return this._SWID}get UNID(){return this._UNID}constructor(e=new ss,t=new Wa(function(){return"object"==typeof document&&"string"==typeof document.cookie}())){this._SWID=null,this._UNID=null,this.fanApi=e,this.cookie=t,this._SWID=this.cookie.get("SWID"),this._UNID=this.cookie.get("UNID")}isValidSwid(e){return/^{[\w-]+}/.test(e)}async getAutoStart(){let e=!0;const t=this.cookie.get("VAS");return t&&(e=1===Ga(t,10)),this.isValidSwid(this.SWID)&&await this.fanApi.getAutoStartForFanId(this.SWID,t=>(e=!0===t||!1===t?t:e,e)),e}setAutoStart(e){let t;t=void 0!==window.location.hostname?window.location.hostname.replace("www.",""):"espn.com",!0!==e&&!1!==e||(this.cookie.set("VAS",e?1:2,{domain:t,expires:365,path:"/"}),this.isValidSwid(this.SWID)&&this.fanApi.updateAutoStartForFanId(this.SWID,e))}}var us={chartbeat:{uid:"22222",domain:"espn.com",sections:null,authors:null},comscore:{clientId:"3000005",labels:{c3:'"*null"',c4:"MediaInfo.site",c6:"MediaInfo.comscoreC6",c8:"MediaInfo.pageTitle",ns_st_pu:"MediaInfo.publisher",ns_st_pr:'"*null"',ns_st_ep:"MediaInfo.name",ns_st_sn:'"*null"',ns_st_en:'"*null"',ns_st_st:'"*null"',ns_st_ge:'"sports"',ns_st_ti:'"*null"',ns_st_ia:'"*null"',ns_st_ce:'"*null"',ns_st_ddt:'"*null"',ns_st_tdt:'"*null"',ns_st_ct:"MediaInfo.comscoreContentType"}},conviva:{customerKey:"fc8dbfdc5da519f576628f619306a357f31bd006",playerName:"Brightcove Web Player",DEBUG:!1},adobeDCR:{VISITOR_API:{MARKETING_CLOUD_ORG_ID:"EE0201AC512D2BE80A490D4C@AdobeOrg",NAMESPACE:"espn",TRACKING_SERVER:"sw88.espn.com",TRACKING_SERVER_SECURE:"sw88.espn.com"},APP_MEASUREMENT:{RSID:"wdgespredesign",TRACKING_SERVER:"sw88.espn.com",TRACKING_SERVER_SECURE:"sw88.espn.com"},HEARTBEAT:{DISABLE:!1,TRACKING_SERVER:"espn.hb.omtrdc.net",PUBLISHER:"EE0201AC512D2BE80A490D4C@AdobeOrg",OVP:"Brightcove",SDK:"2.2.0",DEBUG_LOGGING:!1},QUALITY:{TIME_TO_START:0},CUSTOM_EVENT:{disable:!0,bc_data_mapping:{name:"eVar106,prop2",segment:"eVar203",contentType:"eVar201",timePlayed:"event203",view:"event201",segmentView:"event202",complete:"event207",milestones:{25:"event204",50:"event205",75:"event206"}},bc_volumechange:{event:"event208",evar:"prop1"},bc_ad_pause:{event:"event209",evar:"eVar205"},bc_fullscreen_enter:{event:"event212"},bc_fullscreen_exit:{event:"event213"},bc_social_opened:{event:"event214"},bc_social_closed:{event:"event215"}},NIELSEN_DATA:{APP_INFO:{clientId:"us-600140-test",vcid:"b01",apid:"T31187EE2-AC6E-46CB-BB54-D07591BED067",appName:"BasicPlayerSample",sfcode:"dcr",nol_sdkDebug:"console",nsdkv:"511"},CONFIG_KEY:"922e1d53d3e10abdde5cbea1b55459f5bacc65d4/55ba372b3336330017000bbf",CONTENT_METADATA:{type:"content",program:"",segB:"",segC:"Sport/Program Code",isfullepisode:"",adloadtype:2,airdate:"",dataSrc:"CMS",tv:!1,crossId2:"ESPN",assetid:"",category:""},AD_METADATA:[]},ESPN_CUSTOM_METADATA:{},MEDIAINFO:{},DEBUG:!1},nativeOmniture:{trackingServer:"sw88.espn.com",reportSuites:"wdgespcom,wdgespge",secure:!0,site:"espn"}};function ls(e,t){if(null===t)return e}class ds{constructor(){this.config_=null,this.defaultConfig_=us,this.config_=us}set config(e){return this.config_=ga(us,e,ls),this.config_}get config(){return this.config_}chartbeat(e){return e?ga(this.config.chartbeat,e,ls):this.config.chartbeat}comscore(e){var t;e&&((e.c2||e.clientId)&&(this.config.comscore.clientId=e.c2||e.clientId),e.labels&&(this.config.comscore.labels=ga(this.config.comscore.labels,e.labels)));const n=[],i=this.config.comscore.labels;return La(t=Ea(i)).call(t,e=>{n.push(`${e[0]}=${e[1]}`)}),{c2:this.config.comscore.clientId,labelmapping:n.join(",")}}conviva(e){return e&&ga(this.config.conviva,e,ls),this.config.conviva.fanSWID=(new cs).SWID,this.config.conviva.bundleVersion="3.2.38",this.config.conviva}adobeDCR(e){return e&&ga(this.config.adobeDCR,e,ls),this.config.adobeDCR}nativeOmniture(e){return e&&ga(this.config.nativeOmniture,e,ls),this.config.nativeOmniture}}function hs(e,t,n){e.one("adsready",()=>{const i={partnerCode:t,zMoatAdUnitPath:n,viewMode:e.isFullscreen()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL,slicer1:null,slicer2:null},{ima:r,ima3:o}=e;let a,s;r?(a=r.getAdsManager(),s=r.controller.getAdContainerDiv()):o&&(a=o.adsManager,s=o.el),function(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var i=document.createElement("script");n=n||e&&(void 0!==e.O?e.O.parentNode:document.body)||document.body;var r,o,a=[],s={adsManager:e,ids:t,imaSDK:!0,events:[],dispatchEvent:function(e){var t=this.sendEvent,n=this.events;t?(n&&(n.push(e),e=n),t(e)):n.push(e)}},c={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"};if(google&&google.ima&&e){var u,l="_moatApi"+Math.floor(1e8*Math.random());for(u in google.ima.AdEvent.Type){var d=function(t){if(s.sendEvent){for(t=a.length-1;0<=t;t--)e.removeEventListener(a[t].type,a[t].func);s.sendEvent(s.events)}else s.events.push({type:c[t.type]||t.type,adVolume:e.getVolume()})};e.addEventListener(google.ima.AdEvent.Type[u],d),a.push({type:google.ima.AdEvent.Type[u],func:d})}}l=void 0!==l?l:"";try{o=(r=n.ownerDocument).defaultView||r.parentWindow}catch(e){r=document,o=window}o[l]=s,i.type="text/javascript",n&&n.appendChild(i),i.src="https://z.moatads.com/"+t.partnerCode+"/moatvideo.js#"+l}(a,i,s)})}const ps={validate:e=>!!e.ima3||(console.warn("DTCIVideoPlayer: AdProvider: ima3 plugin is not available in this player"),!1),initialize(){},async initAds(e,t,n,i){if(!n.ima3)return;const r=await i.coordinate("dtci.adProvider.shouldRequestAds",!0);if("function"==typeof n.ima3||r||(n.mediainfo.economics="FREE"),r){var o;await i.coordinate("dtci.adProvider.getAdvertisingInfo",e);const r=e.dictionaryForImaSdk(),a=qi(o=Ya(r)).call(o,e=>"cust_params"!==e?`${e}=${r[e]}`:"cust_params="+encodeURIComponent(r.cust_params));let s="https://pubads.g.doubleclick.net/gampad/ads";"live"===e.vdm&&(s=s.replace(/gampad\/ads$/,"gampad/live/ads"));const{debug:c=!1,disableCustomPlaybackForIOS10Plus:u,requestMode:l="onload",showVpaidControls:d=!0,timeout:h=4e3}=t,p={serverUrl:`${s}?${a.join("&")}`,debug:c,requestMode:l,showVpaidControls:d,timeout:Ga(h,10),ima3SdkSettings:{disableCustomPlaybackForIOS10Plus:u}};hs(n,e.moatPartnerCode,r.iu),"function"==typeof n.ima3?n.ima3(p):n.ima3&&(n.ima3.settings=p)}}};var fs=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),ys=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function ms(e){return Object.assign({muted:!1,timeout:250,inline:!1},e)}function vs(e,t){var n=e.muted,i=e.timeout,r=e.inline,o=t(),a=o.element,s=o.source,c=void 0,u=void 0,l=void 0;return a.muted=n,!0===n&&a.setAttribute("muted","muted"),!0===r&&a.setAttribute("playsinline","playsinline"),a.src=s,new Promise((function(e){c=a.play(),u=setTimeout((function(){l(!1,new Error("Timeout "+i+" ms has been reached"))}),i),l=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;clearTimeout(u),e({result:t,error:n})},void 0!==c?c.then((function(){return l(!0)})).catch((function(e){return l(!1,e)})):l(!0)}))}var gs={audio:function(e){return vs(e=ms(e),(function(){return{element:document.createElement("audio"),source:URL.createObjectURL(fs)}}))},video:function(e){return vs(e=ms(e),(function(){return{element:document.createElement("video"),source:URL.createObjectURL(ys)}}))}};function As(e){return function(){var t;const n={"ads-ad-ended":google.ima.AdEvent.Type.COMPLETE,"ads-ad-skipped":google.ima.AdEvent.Type.SKIPPED,"ads-click":google.ima.AdEvent.Type.CLICK,"ads-first-quartile":google.ima.AdEvent.Type.FIRST_QUARTILE,"ads-midpoint":google.ima.AdEvent.Type.MIDPOINT,"ads-mute":google.ima.AdEvent.Type.VOLUME_MUTED,"ads-pause":google.ima.AdEvent.Type.PAUSED,"ads-play":google.ima.AdEvent.Type.RESUMED,"ads-third-quartile":google.ima.AdEvent.Type.THIRD_QUARTILE,"ads-volumechange":google.ima.AdEvent.Type.VOLUME_CHANGED,"ads-all-ads-completed":google.ima.AdEvent.Type.ALL_ADS_COMPLETED};La(t=Ea(n)).call(t,([t,n])=>{e.ima.addEventListener(n,()=>e.trigger(t))})}}let bs=!1;const ws={Google:ps,GoogleForVideoJS:{validate:e=>!!e.ima||(console.warn("DTCIVideoPlayer: AdProvider: ima plugin is not available in this player"),!1),initialize:()=>new Ii(e=>{const t=()=>{gs.video({timeout:100,muted:!1}).then(t=>{if(!1!==t.result)return bs=!1,e();gs.video({timeout:100,muted:!0}).then(t=>(bs=!1!==t.result,e()))})};if(window.google&&window.google.ima)return e();Yi.url("//imasdk.googleapis.com/js/sdkloader/ima3.js").then(()=>{t()})}),async initAds(e,t,n,i){if(!n.ima)return;bs&&n.muted(bs);if(await i.coordinate("dtci.adProvider.shouldRequestAds",!0)){var r;await i.coordinate("dtci.adProvider.getAdvertisingInfo",e);const o=e.dictionaryForImaSdk(),a=qi(r=Ya(o)).call(r,e=>"cust_params"!==e?`${e}=${o[e]}`:"cust_params="+encodeURIComponent(o.cust_params));let s="https://pubads.g.doubleclick.net/gampad/ads";"live"===e.vdm&&(s=s.replace(/gampad\/ads$/,"gampad/live/ads"));const{debug:c=!1,disableCustomPlaybackForIOS10Plus:u,requestMode:l="onLoad",showControlsForJSAds:d=!0,timeout:h=4e3}=t,p=n.currentDimensions(),f={adsRequest:{linearAdSlotWidth:Ga(p.width,10),linearAdSlotHeight:Ga(p.height,10),nonLinearAdSlotWidth:Ga(p.width,10),nonLinearAdSlotHeight:Ga(p.height,10),videoPlayMuted:n.muted(),videoPlayActivation:!!n.autoplay()},adTagUrl:`${s}?${a.join("&")}`,debug:c,disableCustomPlaybackForIOS10Plus:u,requestMode:l,showControlsForJSAds:d,timeout:Ga(h,10),adsManagerLoadedCallback:As(n)};hs(n,e.moatPartnerCode,o.iu),"onload"===f.requestMode&&(f.requestMode="onLoad"),"onplay"===f.requestMode&&(f.requestMode="onPlay"),"function"==typeof n.ima?n.ima(f):n.ima&&(n.ima.controller.settings=f,n.ima.requestAds()),bs=null}}}};class Ts{constructor(e,t,n,i){this.player=e,this.mediaItem=t,this.coordinator=i,this.provider=null;const{options:r={},provider:o="Google"}=n||{};return this.options=r,this.setProvider(o),new Ii(e=>{this.initialize().then(()=>e(this))})}setProvider(e="Google"){if(ws[e]){const t=ws[e];t.validate(this.player)&&(this.provider=t)}}async initialize(){this.provider&&await this.provider.initialize(this)}initAds(e){this.provider&&this.provider.initAds(e,this.options,this.player,this.coordinator)}}var Ss=k((function(e){!function(t){e.exports?e.exports=t():this.tz=t()}((function(){function e(e,t,n){var i,r=t.day[1];do{i=new Date(Date.UTC(n,t.month,Math.abs(r++)))}while(t.day[0]<7&&i.getUTCDay()!=t.day[0]);return(i={clock:t.clock,sort:i.getTime(),rule:t,save:6e4*t.save,offset:e.offset})[i.clock]=i.sort+6e4*t.time,i.posix?i.wallclock=i[i.clock]+(e.offset+t.saved):i.posix=i[i.clock]-(e.offset+t.saved),i}function t(t,n,i){var r,o,a,s,c,u,l,d=t[t.zone],h=[],p=new Date(i).getUTCFullYear(),f=1;for(r=1,o=d.length;r<o&&!(d[r][n]<=i);r++);if((a=d[r]).rules){for(u=t[a.rules],l=p+1;l>=p-f;--l)for(r=0,o=u.length;r<o;r++)u[r].from<=l&&l<=u[r].to?h.push(e(a,u[r],l)):u[r].to<l&&1==f&&(f=l-u[r].to);for(h.sort((function(e,t){return e.sort-t.sort})),r=0,o=h.length;r<o;r++)i>=h[r][n]&&h[r][h[r].clock]>a[h[r].clock]&&(s=h[r])}return s&&((c=/^(.*)\/(.*)$/.exec(a.format))?s.abbrev=c[s.save?2:1]:s.abbrev=a.format.replace(/%s/,s.rule.letter)),s||a}function n(e,n){return"UTC"==e.zone?n:(e.entry=t(e,"posix",n),n+e.entry.offset+e.entry.save)}function i(e,n){return"UTC"==e.zone?n:(e.entry=i=t(e,"wallclock",n),0<(r=n-i.wallclock)&&r<i.save?null:n-i.offset-i.save);var i,r}function r(e,t,r){var o,s=+(r[1]+1),u=r[2]*s,l=a.indexOf(r[3].toLowerCase());if(l>9)t+=u*c[l-10];else{if(o=new Date(n(e,t)),l<7)for(;u;)o.setUTCDate(o.getUTCDate()+s),o.getUTCDay()==l&&(u-=s);else 7==l?o.setUTCFullYear(o.getUTCFullYear()+u):8==l?o.setUTCMonth(o.getUTCMonth()+u):o.setUTCDate(o.getUTCDate()+u);null==(t=i(e,o.getTime()))&&(t=i(e,o.getTime()+864e5*s)-864e5*s)}return t}var o={clock:function(){return+new Date},zone:"UTC",entry:{abbrev:"UTC",offset:0,save:0},UTC:1,z:function(e,t,n,i){var r,o,a=this.entry.offset+this.entry.save,s=Math.abs(a/1e3),c=[],u=3600;for(r=0;r<3;r++)c.push(("0"+Math.floor(s/u)).slice(-2)),s%=u,u/=60;return"^"!=n||a?("^"==n&&(i=3),3==i?(o=(o=c.join(":")).replace(/:00$/,""),"^"!=n&&(o=o.replace(/:00$/,""))):i?(o=c.slice(0,i+1).join(":"),"^"==n&&(o=o.replace(/:00$/,""))):o=c.slice(0,2).join(""),o=(o=(a<0?"-":"+")+o).replace(/([-+])(0)/,{_:" $1","-":"$1"}[n]||"$1$2")):"Z"},"%":function(e){return"%"},n:function(e){return"\n"},t:function(e){return"\t"},U:function(e){return u(e,0)},W:function(e){return u(e,1)},V:function(e){return l(e)[0]},G:function(e){return l(e)[1]},g:function(e){return l(e)[1]%100},j:function(e){return Math.floor((e.getTime()-Date.UTC(e.getUTCFullYear(),0))/864e5)+1},s:function(e){return Math.floor(e.getTime()/1e3)},C:function(e){return Math.floor(e.getUTCFullYear()/100)},N:function(e){return e.getTime()%1e3*1e6},m:function(e){return e.getUTCMonth()+1},Y:function(e){return e.getUTCFullYear()},y:function(e){return e.getUTCFullYear()%100},H:function(e){return e.getUTCHours()},M:function(e){return e.getUTCMinutes()},S:function(e){return e.getUTCSeconds()},e:function(e){return e.getUTCDate()},d:function(e){return e.getUTCDate()},u:function(e){return e.getUTCDay()||7},w:function(e){return e.getUTCDay()},l:function(e){return e.getUTCHours()%12||12},I:function(e){return e.getUTCHours()%12||12},k:function(e){return e.getUTCHours()},Z:function(e){return this.entry.abbrev},a:function(e){return this[this.locale].day.abbrev[e.getUTCDay()]},A:function(e){return this[this.locale].day.full[e.getUTCDay()]},h:function(e){return this[this.locale].month.abbrev[e.getUTCMonth()]},b:function(e){return this[this.locale].month.abbrev[e.getUTCMonth()]},B:function(e){return this[this.locale].month.full[e.getUTCMonth()]},P:function(e){return this[this.locale].meridiem[Math.floor(e.getUTCHours()/12)].toLowerCase()},p:function(e){return this[this.locale].meridiem[Math.floor(e.getUTCHours()/12)]},R:function(e,t){return this.convert([t,"%H:%M"])},T:function(e,t){return this.convert([t,"%H:%M:%S"])},D:function(e,t){return this.convert([t,"%m/%d/%y"])},F:function(e,t){return this.convert([t,"%Y-%m-%d"])},x:function(e,t){return this.convert([t,this[this.locale].date])},r:function(e,t){return this.convert([t,this[this.locale].time12||"%I:%M:%S"])},X:function(e,t){return this.convert([t,this[this.locale].time24])},c:function(e,t){return this.convert([t,this[this.locale].dateTime])},convert:function(e){if(!e.length)return"1.0.23";var t,o,a,c,u,l=Object.create(this),d=[];for(t=0;t<e.length;t++)if(c=e[t],Array.isArray(c))t||isNaN(c[1])?c.splice.apply(e,[t--,1].concat(c)):u=c;else if(isNaN(c)){if("string"==(a=typeof c))~c.indexOf("%")?l.format=c:t||"*"!=c?!t&&(a=/^(\d{4})-(\d{2})-(\d{2})(?:[T\s](\d{2}):(\d{2})(?::(\d{2})(?:\.(\d+))?)?(Z|(([+-])(\d{2}(:\d{2}){0,2})))?)?$/.exec(c))?((u=[]).push.apply(u,a.slice(1,8)),a[9]?(u.push(a[10]+1),u.push.apply(u,a[11].split(/:/))):a[8]&&u.push(1)):/^\w{2,3}_\w{2}$/.test(c)?l.locale=c:(a=s.exec(c))?d.push(a):l.zone=c:u=c;else if("function"==a){if(a=c.call(l))return a}else if(/^\w{2,3}_\w{2}$/.test(c.name))l[c.name]=c;else if(c.zones){for(a in c.zones)l[a]=c.zones[a];for(a in c.rules)l[a]=c.rules[a]}}else t||(u=c);if(l[l.locale]||delete l.locale,l[l.zone]||delete l.zone,null!=u){if("*"==u)u=l.clock();else if(Array.isArray(u)){for(a=[],o=!u[7],t=0;t<11;t++)a[t]=+(u[t]||0);--a[1],u=Date.UTC.apply(Date.UTC,a)+-a[7]*(36e5*a[8]+6e4*a[9]+1e3*a[10])}else u=Math.floor(u);if(!isNaN(u)){if(o&&(u=i(l,u)),null==u)return u;for(t=0,o=d.length;t<o;t++)u=r(l,u,d[t]);return l.format?(a=new Date(n(l,u)),l.format.replace(/%([-0_^]?)(:{0,3})(\d*)(.)/g,(function(e,t,n,i,r){var o,s,c="0";if(o=l[r]){for(e=String(o.call(l,a,u,t,n.length)),"_"==(t||o.style)&&(c=" "),s="-"==t?0:o.pad||0;e.length<s;)e=c+e;for(s="-"==t?0:i||o.pad;e.length<s;)e=c+e;"N"==r&&s<e.length&&(e=e.slice(0,s)),"^"==t&&(e=e.toUpperCase())}return e}))):u}}return function(){return l.convert(arguments)}},locale:"en_US",en_US:{date:"%m/%d/%Y",time24:"%I:%M:%S %p",time12:"%I:%M:%S %p",dateTime:"%a %d %b %Y %I:%M:%S %p %Z",meridiem:["AM","PM"],month:{abbrev:"Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec".split("|"),full:"January|February|March|April|May|June|July|August|September|October|November|December".split("|")},day:{abbrev:"Sun|Mon|Tue|Wed|Thu|Fri|Sat".split("|"),full:"Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday".split("|")}}},a="Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|year|month|day|hour|minute|second|millisecond",s=new RegExp("^\\s*([+-])(\\d+)\\s+("+a+")s?\\s*$","i"),c=[36e5,6e4,1e3,1];function u(e,t){var n,i,r;return i=new Date(Date.UTC(e.getUTCFullYear(),0)),n=Math.floor((e.getTime()-i.getTime())/864e5),i.getUTCDay()==t?r=0:8==(r=7-i.getUTCDay()+t)&&(r=1),n>=r?Math.floor((n-r)/7)+1:0}function l(e){var t,n,i;return n=e.getUTCFullYear(),t=new Date(Date.UTC(n,0)).getUTCDay(),(i=u(e,1)+(t>1&&t<=4?1:0))?53!=i||4==t||3==t&&29==new Date(n,1,29).getDate()?[i,e.getUTCFullYear()]:[1,e.getUTCFullYear()+1]:(n=e.getUTCFullYear()-1,[i=4==(t=new Date(Date.UTC(n,0)).getUTCDay())||3==t&&29==new Date(n,1,29).getDate()?53:52,e.getUTCFullYear()-1])}return a=a.toLowerCase().split("|"),"delmHMSUWVgCIky".replace(/./g,(function(e){o[e].pad=2})),o.N.pad=9,o.j.pad=3,o.k.style="_",o.l.style="_",o.e.style="_",function(){return o.convert(arguments)}}))})),_s={zones:{"America/New_York":["z",{wallclock:-946944e5,format:"E%sT",abbrev:"EST",offset:-18e6,posix:-946764e5,save:0,rules:"US"},{wallclock:-7573824e5,format:"E%sT",abbrev:"EST",offset:-18e6,posix:-7573644e5,save:0,rules:"NYC"},{wallclock:-8836128e5,format:"E%sT",abbrev:"EST",offset:-18e6,posix:-8835948e5,save:0,rules:"US"},{wallclock:-15779232e5,format:"E%sT",abbrev:"EST",offset:-18e6,posix:-15779052e5,save:0,rules:"NYC"},{wallclock:-2717668562e3,format:"E%sT",abbrev:"EST",offset:-18e6,posix:-27176508e5,save:0,rules:"US"},{wallclock:-17976931348623157e292,format:"LMT",abbrev:"LMT",offset:-17762e3,posix:-17976931348623157e292,save:0}]},rules:{US:[{from:2007,to:17976931348623157e292,month:2,day:[0,8],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:2007,to:17976931348623157e292,month:10,day:[0,1],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5},{from:1967,to:2006,month:9,day:[0,-31],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5},{from:1987,to:2006,month:3,day:[0,1],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1976,to:1986,month:3,day:[0,-30],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1975,to:1975,month:1,day:[7,23],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1974,to:1974,month:0,day:[7,6],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1967,to:1973,month:3,day:[0,-30],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1945,to:1945,month:7,day:[7,14],time:1380,clock:"posix",save:60,letter:"P",saved:36e5},{from:1945,to:1945,month:8,day:[0,-30],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5},{from:1942,to:1942,month:1,day:[7,9],time:120,clock:"wallclock",save:60,letter:"W",saved:0},{from:1918,to:1919,month:2,day:[0,-31],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1918,to:1919,month:9,day:[0,-31],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5}],NYC:[{from:1921,to:1966,month:3,day:[0,-30],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1955,to:1966,month:9,day:[0,-31],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5},{from:1921,to:1954,month:8,day:[0,-30],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5},{from:1920,to:1920,month:2,day:[0,-31],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1920,to:1920,month:9,day:[0,-31],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5}]}};function Es(e,t){if(null===t)return e}function Ps(e,t,n,i){let r,o,a;const s="function"==typeof t.trackAdStart&&"function"==typeof t.trackAdComplete;function c(e){o&&(t.trackAdComplete(),n.trackAdComplete(),i.coordinate("dtci.ads.adEnded",{type:"midroll",id:e})),o=!1}function u(){r=!0,t.trackAdBreakStart("midroll",e.currentTime()),n.trackAdBreakStart()}function l(e){clearTimeout(a),r||u(),t.trackAdStart(e),n.trackAdStart(e),o=ir(),i.coordinate("dtci.ads.adStarted",{type:"midroll",id:e})}function d(){a=sr(l,2e4)}function h(){t.trackAdBreakComplete(),n.trackAdBreakComplete(),r=!1}function p(){e.mediainfo.hasEspnId3Heartbeats&&(clearTimeout(a),e.one("play",()=>{d()}))}function f(r,p){let f;try{f=JSON.parse(p.text)}catch(e){f=p.text}const y="function"==typeof t.sendID3&&p.owner&&null!==p.owner.match(/^www\.nielsen\.com/i)&&e.mediainfo.hasNielsenWatermarks,m=s&&"com.espn.authnet.transition"===p.owner,v=s&&e.mediainfo.hasEspnId3Heartbeats&&"com.espn.authnet.heartbeat"===p.owner&&"PROGRAM"===f[0].type&&!(f[1]&&"COMMERCIAL"===f[1].type);y&&n.sendID3(p.owner),m&&("PROGRAM"===f.from.type&&"COMMERCIAL"===f.to.type?(i.coordinate("dtci.ads.podStarted",{type:"midroll"}),u(),l(f.to.id)):"COMMERCIAL"===f.from.type&&"COMMERCIAL"===f.to.type?(c(f.from.id),l(f.to.id)):f[1]&&"COMMERCIAL"===f[1].type?l(f[1].id):"COMMERCIAL"===f.from.type&&"PROGRAM"===f.to.type&&(c(f.from.id),h(),i.coordinate("dtci.ads.podEnded",{type:"midroll"}))),v&&(clearTimeout(a),o&&o+2e4<ir()&&(c(),h()),d())}e.on("pause",p),e.on("dtci.id3.cueChange",f),e.one("dispose",()=>{e.off("pause",p),e.off("dtci.id3.cueChange",f),clearTimeout(a)})}class Is{constructor(e,t,n){"undefined"!=typeof ADB?(this.player=e,t=function(e,t){let n={};const i={NIELSEN_DATA:{CONTENT_METADATA:{}},ESPN_CUSTOM_METADATA:{Showcode:e.mediainfo.showcode}};return e.mediainfo.originalPublishDate&&(i.NIELSEN_DATA.CONTENT_METADATA.airdate=Ss(e.mediainfo.originalPublishDate,"%Y%m%d%k%M%S",_s,"America/New_York")),e.mediainfo.live&&(i.MEDIAINFO={live:!0}),e.mediainfo.airingId||e.mediainfo.live?i.ESPN_CUSTOM_METADATA[ADB.va.plugins.aa.VideoMetadataKeys.SHOW_TYPE]="0":i.ESPN_CUSTOM_METADATA[ADB.va.plugins.aa.VideoMetadataKeys.SHOW_TYPE]="2",e.mediainfo.hasNielsenWatermarks&&(n={adloadtype:1,dataSrc:"ID3",tv:!0}),"SHARED INV"===e.mediainfo.commercialReplacement&&(n.adloadtype=1),e.mediainfo.nielsenCrossId1&&(n.crossId1=e.mediainfo.nielsenCrossId1),e.mediainfo.nielsenCrossId2&&(n.crossId2=e.mediainfo.nielsenCrossId2.toLowerCase()),ga(i.NIELSEN_DATA.CONTENT_METADATA,n,Es),ga(t,i,Es),t}(this.player,t),"function"==typeof this.player.BCGSAdobeDCRPlugin?(this.plugin=this.player.BCGSAdobeDCRPlugin({options:t,debug:t.DEBUG}),"function"==typeof this.player.nielsen&&(this.nielsenPlugin=e.nielsen(t.NIELSEN_DATA)),function(e,t){if(e.mediainfo&&"function"==typeof t.setPlayheadOffset&&e.mediainfo.live&&e.mediainfo.startDateTime){const n=Math.round((ir()-e.mediainfo.startDateTime)/1e3);e.on("omnitureReady",()=>{t.setPlayheadOffset(n)})}}(this.player,this.plugin),Ps(this.player,this.plugin,this.nielsenPlugin,n)):console.error("DTCIVideoPlayer: No Adobe/Nielsen plugin found")):console.warn("DTCIVideoPlayer: Adobe Analytics SDK is not available")}loadNewOptions(e){"function"==typeof this.plugin?this.plugin({options:e}):"function"==typeof this.plugin.loadNewOptions&&this.plugin.loadNewOptions(e)}completeLiveProgram(){"function"==typeof this.plugin.completeLiveProgram&&this.plugin.completeLiveProgram()}}var Cs=Fa.trim,ks=M.parseFloat,Ds=1/ks(Ua+"-0")!=-1/0?function(e){var t=Cs(String(e)),n=ks(t);return 0===n&&"-"==t.charAt(0)?-0:n}:ks;Be({global:!0,forced:parseFloat!=Ds},{parseFloat:Ds});var Ms=Re.parseFloat;const Os="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent||"",Ls="undefined"!=typeof window&&window.navigator&&window.navigator.appVersion||"",Us=/Edge/i.test(Os),Rs=/edg/i.test(Os),Ns=!Us&&/Chrome/i.test(Os),js=/Android/i.test(Os),xs=/Safari/i.test(Os)&&!Ns&&!js&&!Us,Fs=(xs&&/Version\/11/i.test(Os),/iPad/i.test(Os)),Bs=/Win/i.test(Ls),Vs=/iPhone/i.test(Os)&&!Fs,Hs=/iPod/i.test(Os),zs=Vs||Fs||Hs,Gs=function(){const e=Os.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Ws=/Firefox/i.test(Os),qs=/Opera/i.test(Os),Ys=Fs||js&&!/mobile/i.test(Os),Ks=!Ys&&(zs||js),Xs=function(){const e=/MSIE\s(\d+)\.\d/.exec(Os);let t=e&&Ms(e[1]);return!t&&/Trident\/7.0/i.test(Os)&&/rv:11.0/.test(Os)&&(t=11),t}(),Qs="undefined"!=typeof window&&("MediaKeys"in window||"WebKitMediaKeys"in window||"MSMediaKeys"in window),$s=zs&&!xs,Zs=js&&/wv/i.test(Os),Js=/WebView/i.test(Os)||$s||Zs;var ec,tc=Fa.trim;Be({target:"String",proto:!0,forced:(ec="trim",O((function(){return!!Ua[ec]()||"​᠎"!="​᠎"[ec]()||Ua[ec].name!==ec})))},{trim:function(){return tc(this)}});var nc=zi("String").trim,ic=String.prototype,rc=function(e){var t=e.trim;return"string"==typeof e||e===ic||e instanceof String&&t===ic.trim?nc:t};let oc;function ac(e,t){const n=e.keySystems["com.apple.fps.1_0"].certificateUri;videojs.xhr({uri:n,responseType:"arraybuffer"},(e,n)=>{if(e)return void t(e);const i=new Uint8Array(n.body);t(null,i)})}function sc(e,t){let n=function(e){const t=new Uint16Array(e.buffer);return String.fromCharCode.apply(null,t)}(t).replace("skd://","https://");n=n.substring(1,n.length);let i=n.split("?")[1];return i.length>100&&(i=i.substring(0,100)),oc=n,i}function cc(e,t,n,i){const r=function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,i,r,o,a,s,c,u="",l=0;for(;l<e.length;)n=e[l++],i=l<e.length?e[l++]:Number.NaN,r=l<e.length?e[l++]:Number.NaN,o=n>>2,a=(3&n)<<4|i>>4,s=(15&i)<<2|r>>6,c=63&r,isNaN(i)?(s=64,c=64):isNaN(r)&&(c=64),u+=t.charAt(o)+t.charAt(a)+t.charAt(s)+t.charAt(c);return u}(n),o=es({spc:r}),a=new XMLHttpRequest;a.addEventListener("readystatechange",()=>{if(4===a.readyState){var e;const t=function(e){const t=window.atob(e),n=t.length,i=new Uint8Array(new ArrayBuffer(n));for(let e=0;e<n;e++)i[e]=t.charCodeAt(e);return i}(JSON.parse(rc(e=a.responseText).call(e)).ckc);i(null,t)}}),a.open("POST",oc),a.send(o)}function uc(e){let t,n;return function(e,t){const n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),200===n.status&&t(n.response)}(e,e=>{window.DOMParser&&(t=new DOMParser,n=t.parseFromString(e,"text/xml"))}),n}function lc(e){const t=String.fromCharCode.apply(null,new Uint16Array(function(e,t){const n=e.replace(/[^A-Za-z0-9\+\/]/g,""),i=n.length,r=t?Math.ceil((3*i+1>>>2)/t)*t:3*i+1>>>2,o=new Uint8Array(r);for(let e,t,s=0,c=0,u=0;u<i;u++)if(t=3&u,s|=((a=n.charCodeAt(u))>64&&a<91?a-65:a>96&&a<123?a-71:a>47&&a<58?a+4:43===a?62:47===a?63:0)<<18-6*t,3===t||i-u==1){for(e=0;e<3&&c<r;e++,c++)o[c]=s>>>(16>>>e&24)&255;s=0}var a;return o}(e,2).buffer)),n=new RegExp(/<LA_URL>(.*)<\/LA_URL>/);return t.match(n)[1]}function dc(e){const{playbackUrl:t,playbackConfig:n}=e||{},{contentType:i=null,keySystem:r=null,licenseUrl:o=null}=n||{},a={src:t,type:i};switch(r){case"playready":a.keySystems={"com.microsoft.playready":o},a.keySystemOptions=[{name:"com.microsoft.playready",options:{serverURL:o}}];break;case"widevine":a.keySystems={"com.widevine.alpha":o},a.keySystemOptions=[{name:"com.widevine.alpha",options:{serverURL:o}}];break;case"fairplay":a.keySystems={"com.apple.fps.1_0":{certificateUri:o,getCertificate:ac,getContentId:sc,getLicense:cc}}}if(Rs&&Bs){const e=function(e){const t=uc(e);return t.getElementsByTagName("mspr:pro")?lc(t.getElementsByTagName("mspr:pro")[0].textContent):t.getElementsByTagName("Location")[0]}(t);a.keySystems={"com.widevine.alpha":o,"com.microsoft.playready":e},a.keySystemOptions=[{name:"com.microsoft.playready",options:{serverURL:e}},{name:"com.widevine.alpha",options:{serverURL:o}}]}return a}var hc=Ri("splice"),pc=Fi("splice",{ACCESSORS:!0,0:0,1:2}),fc=Math.max,yc=Math.min;Be({target:"Array",proto:!0,forced:!hc||!pc},{splice:function(e,t){var n,i,r,o,a,s,c=Ve(this),u=nt(c.length),l=ot(e,u),d=arguments.length;if(0===d?n=i=0:1===d?(n=0,i=u-l):(n=d-2,i=yc(fc(_(t),0),u-l)),u+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=Di(c,i),o=0;o<i;o++)(a=l+o)in c&&_r(r,o,c[a]);if(r.length=i,n<i){for(o=l;o<u-i;o++)s=o+n,(a=o+i)in c?c[s]=c[a]:delete c[s];for(o=u;o>u-i+n;o--)delete c[o-1]}else if(n>i)for(o=u-i;o>l;o--)s=o+n-1,(a=o+i-1)in c?c[s]=c[a]:delete c[s];for(o=0;o<n;o++)c[o+l]=arguments[o+2];return c.length=u-i+n,r}});var mc=zi("Array").splice,vc=Array.prototype,gc=function(e){var t=e.splice;return e===vc||e instanceof Array&&t===vc.splice?mc:t};var Ac="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==Ac&&Ac,bc="URLSearchParams"in Ac,wc="Symbol"in Ac&&"iterator"in Symbol,Tc="FileReader"in Ac&&"Blob"in Ac&&function(){try{return new Blob,!0}catch(e){return!1}}(),Sc="FormData"in Ac,_c="ArrayBuffer"in Ac;if(_c)var Ec=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Pc=ArrayBuffer.isView||function(e){return e&&Ec.indexOf(Object.prototype.toString.call(e))>-1};function Ic(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function Cc(e){return"string"!=typeof e&&(e=String(e)),e}function kc(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return wc&&(t[Symbol.iterator]=function(){return t}),t}function Dc(e){this.map={},e instanceof Dc?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function Mc(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function Oc(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function Lc(e){var t=new FileReader,n=Oc(t);return t.readAsArrayBuffer(e),n}function Uc(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Rc(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:Tc&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Sc&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:bc&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():_c&&Tc&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=Uc(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):_c&&(ArrayBuffer.prototype.isPrototypeOf(e)||Pc(e))?this._bodyArrayBuffer=Uc(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):bc&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Tc&&(this.blob=function(){var e=Mc(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=Mc(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(Lc)}),this.text=function(){var e=Mc(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=Oc(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Sc&&(this.formData=function(){return this.text().then(xc)}),this.json=function(){return this.text().then(JSON.parse)},this}Dc.prototype.append=function(e,t){e=Ic(e),t=Cc(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},Dc.prototype.delete=function(e){delete this.map[Ic(e)]},Dc.prototype.get=function(e){return e=Ic(e),this.has(e)?this.map[e]:null},Dc.prototype.has=function(e){return this.map.hasOwnProperty(Ic(e))},Dc.prototype.set=function(e,t){this.map[Ic(e)]=Cc(t)},Dc.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},Dc.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),kc(e)},Dc.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),kc(e)},Dc.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),kc(e)},wc&&(Dc.prototype[Symbol.iterator]=Dc.prototype.entries);var Nc=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function jc(e,t){if(!(this instanceof jc))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,r=(t=t||{}).body;if(e instanceof jc){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Dc(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Dc(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),Nc.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function xc(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}})),t}function Fc(e,t){if(!(this instanceof Fc))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new Dc(t.headers),this.url=t.url||"",this._initBody(e)}jc.prototype.clone=function(){return new jc(this,{body:this._bodyInit})},Rc.call(jc.prototype),Rc.call(Fc.prototype),Fc.prototype.clone=function(){return new Fc(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Dc(this.headers),url:this.url})},Fc.error=function(){var e=new Fc(null,{status:0,statusText:""});return e.type="error",e};var Bc=[301,302,303,307,308];Fc.redirect=function(e,t){if(-1===Bc.indexOf(t))throw new RangeError("Invalid status code");return new Fc(null,{status:t,headers:{location:e}})};var Vc=Ac.DOMException;try{new Vc}catch(e){(Vc=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),Vc.prototype.constructor=Vc}function Hc(e,t){return new Promise((function(n,i){var r=new jc(e,t);if(r.signal&&r.signal.aborted)return i(new Vc("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var e,t,i={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new Dc,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}})),t)};i.url="responseURL"in o?o.responseURL:i.headers.get("X-Request-URL");var r="response"in o?o.response:o.responseText;setTimeout((function(){n(new Fc(r,i))}),0)},o.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},o.onabort=function(){setTimeout((function(){i(new Vc("Aborted","AbortError"))}),0)},o.open(r.method,function(e){try{return""===e&&Ac.location.href?Ac.location.href:e}catch(t){return e}}(r.url),!0),"include"===r.credentials?o.withCredentials=!0:"omit"===r.credentials&&(o.withCredentials=!1),"responseType"in o&&(Tc?o.responseType="blob":_c&&r.headers.get("Content-Type")&&-1!==r.headers.get("Content-Type").indexOf("application/octet-stream")&&(o.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof Dc?r.headers.forEach((function(e,t){o.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){o.setRequestHeader(e,Cc(t.headers[e]))})),r.signal&&(r.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&r.signal.removeEventListener("abort",a)}),o.send(void 0===r._bodyInit?null:r._bodyInit)}))}Hc.polyfill=!0,Ac.fetch||(Ac.fetch=Hc,Ac.Headers=Dc,Ac.Request=jc,Ac.Response=Fc);var zc=setTimeout;function Gc(e){return Boolean(e&&void 0!==e.length)}function Wc(){}function qc(e){if(!(this instanceof qc))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Zc(e,this)}function Yc(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,qc._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void Xc(t.promise,e)}Kc(t.promise,i)}else(1===e._state?Kc:Xc)(t.promise,e._value)}))):e._deferreds.push(t)}function Kc(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof qc)return e._state=3,e._value=t,void Qc(e);if("function"==typeof n)return void Zc((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,Qc(e)}catch(t){Xc(e,t)}var i,r}function Xc(e,t){e._state=2,e._value=t,Qc(e)}function Qc(e){2===e._state&&0===e._deferreds.length&&qc._immediateFn((function(){e._handled||qc._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)Yc(e,e._deferreds[t]);e._deferreds=null}function $c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function Zc(e,t){var n=!1;try{e((function(e){n||(n=!0,Kc(t,e))}),(function(e){n||(n=!0,Xc(t,e))}))}catch(e){if(n)return;n=!0,Xc(t,e)}}async function Jc({method:e,postData:t,headers:n,url:i,isAuthNeeded:r}){const o={...r?{credentials:"include"}:void 0,method:e,headers:n,body:es(t)};try{const e=await fetch(i,o);if(!e.ok)throw new Error("fetchServices failed with url: "+i);return{response:await e.json(),success:!0,err:null}}catch(e){return{response:null,success:!1,err:e}}}qc.prototype.catch=function(e){return this.then(null,e)},qc.prototype.then=function(e,t){var n=new this.constructor(Wc);return Yc(this,new $c(e,t,n)),n},qc.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},qc.all=function(e){return new qc((function(t,n){if(!Gc(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(e,t)}),n)}i[e]=a,0==--r&&t(i)}catch(e){n(e)}}for(var a=0;a<i.length;a++)o(a,i[a])}))},qc.resolve=function(e){return e&&"object"==typeof e&&e.constructor===qc?e:new qc((function(t){t(e)}))},qc.reject=function(e){return new qc((function(t,n){n(e)}))},qc.race=function(e){return new qc((function(t,n){if(!Gc(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=e.length;i<r;i++)qc.resolve(e[i]).then(t,n)}))},qc._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){zc(e,0)},qc._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const eu=/motion\/(.+?)\./,tu=/.\/ext\/(.+?)\.(m3u8|mpd).*/,nu={secondPerChapter:10,extension:"jpg",width:"150"};async function iu(e,t,n){if(!e)return null;const i=e.match(eu)||e.match(tu);if(!i)return null;let r=null;return r="espn"===n?function(e,t,n){const i=e.pop().split("/");gc(i).call(i,-1,0,"chaptertn");const r=i.join("/").replace("_nolbr",""),o=Math.floor(t/n.secondPerChapter),a={};let s=0;for(;s<=o;)a[""+10*s]={src:`https://media.video-cdn.espn.com/motion/${r}_${s+=1}.${n.extension}`,width:n.width};return a}(i,t,nu):async function(e,t){const n="https://content.uplynk.com/player/assetinfo/ext/{id}.json".replace("{id}",e),i=await Jc({url:n,method:"GET"});if(!i.success)return null;const{thumb_prefix:r,duration:o}=i.response,a=Math.floor(o/t.secondPerChapter),s={};let c=0;for(;c<=a;){let e=("0000000"+c.toString(16)).toLocaleUpperCase();e=Lr(e).call(e,e.length-8),s[""+10*c]={src:`${r}${e}.${t.extension}`,width:t.width},c+=1}return s}(i[1],nu),r}function ru(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,ru)}function ou(e,t,n={}){const i=new w,{device:r,webHref:o,live:a,id:s}=n,{SWID:c,UNID:u}=new cs,{height:l,width:d}=t.currentDimensions(),h=/mobile/i.test(r)||Ks,p=/tablet/i.test(r)||Ys,{cmsid:f="2495342",hl:y=t.language()||"en",iu:m,nielsenAppId:v="P31187EE2-AC6E-46CB-BB54-D07591BED067",npa:g=0,tfcd:A=0,vpa:b=1}=e;let T;Us?T="Edge":Ns?T="Chrome":xs?T="Safari":Ws?T="Firefox":qs&&(T="Opera");let S="desktop",{pp:_="espn-clips-desktop-csai"}=e;zs?(S="ios_"+(p?"tablet":"handset"),_="espn-mweb-clips-ios-csai"):js&&(S="android_"+(p?"tablet":"handset"),_="espn-mweb-clips-android-csai");const{startType:E=""}=t.mediainfo||{};return i.cmsid=f,i.descriptionUrl=o,i.deviceOS=T,i.deviceType=(r||(p?"tablet":h?"mobile":"desktop")).toLowerCase(),i.fcap=function(){const e=ir();let t=JSON.parse(window.localStorage.getItem("fcap"));return(!t||t.ts<e-2592e3)&&(t={id:ru(),ts:e},window.localStorage.setItem("fcap",es(t))),t.id}(),i.hl=y,i.isAutoplay=t.autoplay()||E.match(/continuous/i)?"1":"0",i.isDoNotTrackEnabled=function(){const e=window.doNotTrack||window.navigator.doNotTrack||window.navigator.msDoNotTrack;return!!e&&("1"===e.charAt(0)||"yes"===e)}(),i.isMute=t.muted(),i.iu=m,i.nielsenAppId=v,i.nielsenDeviceGroup="devgrp,"+(p?"TAB":h?"PHN":"DSK"),i.npa=g,i.platform=S,i.pp=_,i.ppid=c,i.swid=c,i.tfcd=A,i.unid=u,i.vdm=a?"live":"vod",i.vid=s,i.videoPlayerSize=`${Math.round(d)}x${Math.round(l)}`,i.vpa=b,i.moatPartnerCode="abcimavideo618769704984",i}function au(e,t){let n=null;if(1===e.authenticationTypes.length)n=e.authenticationTypes[0].toString();else if(e.authenticationTypes.length>1){var i,r;-1!==nr(i=e.authenticationTypes).call(i,"MVPD")&&"ADOBEPASS"===t?n=$r.mvpd:-1!==nr(r=e.authenticationTypes).call(r,"ISP")&&"ADOBEPASS"!==t&&(n=$r.isp)}return n}const su=new RegExp(["espn.go.com","linearhlsls-i.akamaihd.net","linearhlsls2-i.akamaihd.net","espn3hlsint-i.akamaihd.net","espn-int-hls.akamaized.net","espn3hlsls.akamaized.net"].join("|"));var cu={"com.espn.watch.api.AccessDeniedException":"This content is not available for your package or region.","Could not download the video":"An error occurred during video playback, possibly due to network connectivity or being in a backgrounded browser tab. Please try again.",DRM_REQUIRED:"We're sorry, but this browser is no longer supported.  Please upgrade to the latest version of Google Chrome, FireFox, or Microsoft Edge to watch this content.",EMBARGOED:"Video is not yet available.",EXPIRED:"Video has expired.",EXPIRED_CONTENT:"Video has expired.",Fullscreen:"Full Screen",GEOLOCATION_NOT_ALLOWED:"Video is not available in your country.",NOT_FOUND:"This video is unavailable.","Non-Fullscreen":"Exit Full Screen",STREAM_LIMITED:"The maximum number of concurrent streams has been reached on your account. If you have any questions or need assistance please visit es.pn/watchfaq or call 888-549-ESPN.",STREAM_LIMIT_ERROR:"The maximum number of concurrent streams has been reached on your account. If you have any questions or need assistance please visit es.pn/watchfaq or call 888-549-ESPN."},uu={"A network error caused the video download to fail part-way.":"Un error de red ha interrumpido la descarga del vídeo.",Ad:"Anuncio",Autoplay:"Reproducción automática","Back to video":"Volver al video",Background:"Fondo",Black:"Negro",Blue:"Azul","Buy PPV":"Comprar PPV","com.espn.watch.api.AccessDeniedException":"Este contenido no está disponible para su región o para el paquete que tiene contratado.","Caption Settings":"Opciones de subtítulos",Captions:"Subtítulos especiales","Captions Preview":"Vista previa de subtítulos",Casual:"Informal",Chapters:"Capítulos","Check out this video on ESPN":"Echa un vistazo a este video en ESPN Play","Choose Broadcast":"Elige tu transmisión","Choose TV Provider":"Elegir Su Proveedor","Closed Caption":"Subtítulos","Closed Captions":"Subtítulos",Copied:"Copiado","Copy Embed Link":"Obtener código","Copy Link":"Obtener URL",Copy:"Copiar","Could not download the video":"No se ha podido descargar el vídeo.","Current Time":"Tiempo reproducido",Cyan:"Cian",Default:"Default",Depressed:"Hundido",Done:"Finalizado",DRM_REQUIRED:"Lo siento, su navegador ya no es compatible. Por favor descarga la última versión de Google Chrome, FireFox o Microsoft Edge para disfrutar de este contenido.","Drop shadow":"Sombra paralela","Duration Time":"Duración total",EMBARGOED:"El vídeo no está disponible todavía.",EXPIRED:"El video ha expirado.",EXPIRED_CONTENT:"El video ha expirado.","Email Video":"Enviar por Email",Email:"Enviar por correo","Embed Code":"Insertar código","Error Code":"Código De Error","Font Family":"Familia de fuente","Font Size":"Tamaño de fuente",Foreground:"Primer plano",From:"De",Fullscreen:"Maximizar video",GEOLOCATION_NOT_ALLOWED:"El vídeo no está disponible en tu país.","Get ESPN+":"Suscríbete a ESPN+","Get MLB.TV":"Suscríbete a MLB.TV",Green:"Verde","Language Settings":"Ajustes de idioma","Learn More":"Aprende más",LIVE:"En Vivo",Loaded:"Cargado","Logged Into TV Provider":"Conectado a Proveedor",Magenta:"Magenta",Menu:"Menú",Message:"Mensaje","Monospace Sans-Serif":"Sans-Serif monoespaciada","Monospace Serif":"Serif monoespaciada",Mute:"Silenciador",NOT_FOUND:"Este vídeo no está disponible.","No compatible source was found for this video.":"No se ha encontrado ninguna fuente compatible con este vídeo.","No video has been loaded":"No hay ningún vídeo cargado.","Non-Fullscreen":"Tamaño original",None:"Ninguno","Now Playing":"Reproduciendo Ahora",OK:"Aprobar",Opaque:"Opaco",Pause:"Pausa",Play:"Reproducir","Playback Rate":"Velocidad de reproducción",Progress:"Progreso","Proportional Sans-Serif":"Sans-Serifproporcional","Proportional Serif":"Serif proporcional",Purchased:"Comprado",Raised:"Levantado",Red:"Rojo","Remaining Time":"Tiempo restante",Replay:"Reproducir de nuevo","Reset to Defaults":"Regresar a configuración original","Select Broadcast":"Elegir transmisión",STREAM_LIMITED:"El máximo número de transmisiones de vídeo simultáneas ha sido alcanzado en su cuenta.",STREAM_LIMIT_ERROR:"El máximo número de transmisiones de vídeo simultáneas ha sido alcanzado en su cuenta.",Script:"Cursiva","Semi-Opaque":"Semi-opaco","Semi-Transparent":"Semitransparente",Send:"Enviar",Settings:"Configuración",Share:"Compartir","Skip Ad":"Saltar anuncio","Small Caps":"Versalitas","Start at":"Iniciar en",Stop:"Detener","Stream Type":"Tipo de secuencia","Subscribed to ESPN+":"Suscrito a ESPN+",Subtitles:"Subtítulos","Technical details":"Detalles técnicos","Text Edge Style":"Estilo de borde de los caracteres","This content is not available for your package or region.":"Este contenido no está disponible para su región o para el paquete que tiene contratado.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"No se ha podido cargar el vídeo debido a un fallo de red o del servidor o porque el formato es incompatible.","The video connection was lost, please confirm you are connected to the internet":"Se ha perdido la conexión al vídeo. Compruebe si su equipo está conectado a internet.","The video download was cancelled":"Ha interrumpido la reproducción del vídeo.","The video is bad or in a format that cannot be played on your browser":"El vídeo está dañado o tiene un formato no reproducible en su navegador.","The video playback was aborted due to a corruption problem or because the video used features your browser did not support.":"La reproducción de vídeo se ha interrumpido por un problema de corrupción de datos o porque el vídeo precisa funciones que su navegador no ofrece.","The video you're trying to watch is encrypted and we don't know how to decrypt it":"The video you're trying to watch is encrypted and we don't know how to decrypt it","This video is either unavailable or not supported in this browser":"Este vídeo no está disponible o es incompatible con este navegador.","This video is unavailable":"Este vídeo no está disponible.",To:"A",Transparent:"Transparente",Uniform:"Uniforme",Unmute:"Eliminar silenciador",Unmuted:"Eliminar silenciador","Up Next":"A continuación",Watch:"Ver",White:"Blanco",Window:"Ventana",Yellow:"Amarillo","You aborted the video playback":"Ha interrumpido la reproducción del vídeo.","captions off":"Subtítulos especiales desactivados","subtitles off":"Subtítulos desactivados","Playback Speed":"Velocidad de reproducción",Rewind:"Retroceder","Fast Forward":"Adelantar",More:"Más","Seek to live, currently playing live":"Escuchando En vivo","Seek to live, currently behind live":"Progreso a En Vivo"},lu={"A network error caused the media download to fail part-way.":"Um erro na rede fez o vídeo parar parcialmente.",Ad:"Publicidade","An unanticipated problem was encountered, check back soon and try again":"Aconteceu um erro inesperado, tente novamente mais tarde",Autoplay:"Reproduzir automaticamente",Background:"Fundo","Back to video":"Voltar ao vídeo",Black:"Preto",Blue:"Azul","Buy PPV":"Comprar PPV","com.espn.watch.api.AccessDeniedException":"Esse conteúdo não está disponível no seu pacote de assinatura ou região.","Caption Settings":"Opções da legenda",Captions:"Anotações","Captions Preview":"Visualização de legendas",Casual:"Casual",Chapters:"Capítulos","Check out this video on ESPN":"Confira esse vídeo no WatchESPN","Choose Broadcast":"Escolha o Canal","Choose TV Provider":"Escolha o Seu Provedor","Closed Caption":"Legendas","Closed Captions":"Legendas","Copy Embed Link":"Copiar o link de embed","Copy Link":"Copiar o link",Copy:"Copiar","Could not download the video":"Ocorreu um erro durante a reprodução do vídeo, provavelmente devido a problemas na sua conexão ou em uma aba do navegador em segundo plano. Por favor, tente novamente.","Current Time":"Hora atual",Cyan:"Ciano",Default:"Padrão",Depressed:"Diminuido",Done:"Pronto",DRM_REQUIRED:"Desculpe-nos, mas este navegador não é mais suportado. Por favor, atualize para a versão mais recente do Google Chrome, FireFox ou Microsoft Edge para assistir o conteúdo.","Drop shadow":"Sombra","Duration Time":"Tempo de duração",EMBARGOED:"Vídeo ainda não disponível.",EXPIRED:"Vídeo expirou.",EXPIRED_CONTENT:"Vídeo expirou.","Email Video":"Enviar vídeo por email",Email:"Email","Embed Code":"Código de embed","Error Code":"Código de erro","Font Family":"Grupo de fontes","Font Size":"Tamanho da fonte",Foreground:"Primer plano",From:"Dê",Fullscreen:"Tela cheia",GEOLOCATION_NOT_ALLOWED:"Vídeo não está disponível no seu país.","Get ESPN+":"Assine a ESPN+","Get MLB.TV":"Assine a MLB.TV",Green:"Verde","Language Settings":"Configurações de idioma","Learn More":"Saiba mais",LIVE:"AO VIVO",Loaded:"Carregado","Logged Into TV Provider":"Logado ao Seu Provedor",Magenta:"Magenta",Menu:"Menu",Message:"Mensagem","Monospace Sans-Serif":"Monospace Sans-Serif","Monospace Serif":"Monospace Serif",Mute:"Mudo",NOT_FOUND:"Vídeo não disponível.","No compatible source was found for this media.":"Não foi encontrada fonte de vídeo compatível.","No video has been loaded":"Nenhum vídeo foi carregado","Non-Fullscreen":"Tela Normal",None:"Nenhum","Now Playing":"Reproduzindo Agora",OK:"Ok",Opaque:"Opaco",Pause:"Pause",Play:"Play","Playback Rate":"axa de reprodução",Progress:"Progresso","Proportional Sans-Serif":"Proportional Sans-Serif","Proportional Serif":"Proportional Serif",Purchased:"Comprado",Raised:"Aumentado",Red:"Vermelho","Remaining Time":"Tempo restante",Replay:"Tocar novamente","Reset to Defaults":"Restaurar para as configurações padrão","Select Broadcast":"Escolha a transmissão","Skip Ad":"Pular anúncio",STREAM_LIMITED:"O número máximo de conexões simultâneas foi atingido em sua conta.",STREAM_LIMIT_ERROR:"O número máximo de conexões simultâneas foi atingido em sua conta.",Script:"Script","Semi-Opaque":"Meio opaco","Semi-Transparent":"Meio transparente",Send:"Enviar",Settings:"Opções",Share:"Compartilhar","Small Caps":"Minúscula","Start at":"Começar em",Stop:"Parar","Stream Type":"Tipo de streaming","Subscribed to ESPN+":"Assinante da ESPN+",Subtitles:"Legendas","Technical details":"Detalhes técnicos","Text Edge Style":"Estilo da borda do texto","The media could not be loaded, either because the server or network failed or because the format is not supported.":"O vídeo não pode ser carregado, ou porque houve um problema com sua rede ou pelo formato do vídeo não ser suportado.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"A execução foi interrompida por um problema com o vídeo ou por seu navegador não dar suporte ao seu formato.","The video connection was lost, please confirm you are connected to the internet":"A conexão com o vídeo foi perdida. Por favor, confirme que está conectado a internet","The video download was cancelled":"O download do vídeo foi cancelado","The video is bad or in a format that cannot be played on your browser":"O vídeo está em um formato que o seu browser não suporta","The video you are trying to watch is encrypted and we do not know how to decrypt it":"O vídeo que você está tentando assistir é criptografado e nós não sabemos como decodificá-lo","This content is not available for your package or region.":"Esse conteúdo não está disponível no seu pacote de assinatura ou região.","This video is either unavailable or not supported in this browser":"O vídeo não está disponível ou não é suportado pelo seu browser","This video is unavailable":"Vídeo não disponível",To:"Para",Transparent:"Transparente",Uniform:"Uniforme",Unmute:"Ativar o som",Unmuted:"Ativar o som","Up Next":"Próximo",Watch:"Assista",White:"Branco",Window:"Janela",Yellow:"Amarelo","You aborted the media playback":"Você parou a execução do vídeo.","captions off":"Legendas desligadas","subtitles off":"Desligar legendas"},du={"Choose Your Broadcast":"Selecteer je uitzending","Choose Broadcast":"Selecteer je uitzending",Settings:"Instellingen","Log Out of TV Provider":"Log uit bij je TV-aanbieder","Logged Into TV Provider":"Aangemeld bij tv-aanbieder","Closed Caption":"Gesloten bijschrift","Closed Captions":"Gesloten bijschriften","com.espn.watch.api.AccessDeniedException":"Deze content is niet beschikbaar in jouw abonnement of regio.","Could not download the video":"Er is een fout opgetreden tijdens het afspelen van de video, waarschijnlijk door netwerkproblemen of door het afspelen in een browser op de achtergrond. Probeer het opnieuw.",DRM_REQUIRED:"Het spijt ons, maar deze browser wordt niet langer ondersteund. Upgrade naar de laatste versie van Google Chrome, FireFox of Microsoft Edge om deze content te bekijken.",EMBARGOED:"De video is nog niet beschikbaar.",EXPIRED:"De video is verlopen.",EXPIRED_CONTENT:"De video is verlopen.",Fullscreen:"Volledig scherm",GEOLOCATION_NOT_ALLOWED:"De video is niet beschikbaar in jouw land.",NOT_FOUND:"De video is niet beschikbaar.","Non-Fullscreen":"Volledig scherm afsluiten.",STREAM_LIMITED:"Het maximale aantal gelijktijdige streams is bereikt op jouw account. Als je vragen hebt of hulp nodig hebt, ga naar es.pn/watchfag of bel ???",STREAM_LIMIT_ERROR:"Het maximale aantal gelijktijdige streams is bereikt op jouw account. Als je vragen hebt of hulp nodig hebt, ga naar es.pn/watchfag of bel ???","This video is either unavailable or not supported in this browser":"Deze video is niet beschikbaar of wordt niet ondersteund in deze browser.",Foreground:"Voorgrond",White:"Wit",Opaque:"Ondoorzichtig",Transparent:"Transparant",Background:"Achtergrond",Window:"Venster","Font Size":"Lettergrootte","Language Setting":"Taal instelling",Off:"Uit",On:"Aan","Captions Preview":"Ondertiteling voorbeeld","Text Edge Style":"Tekst omlijning",None:"Geen","Font Family":"Lettertype","Reset to Defaults":"Terugzetten naar standaard",Done:"Klaar",Share:"Delen",Copied:"Gekopieerd","Copy Embed Link":"Kopieer de Embed Link","Copy Link":"Kopieer link",Copy:"Kopiëren"};let hu="en",pu={};const fu=function(e){return pu[hu][e]||pu.en[e]||e};fu.add=function(e,t){let n,i;for(n in pu[e]||(pu[e]={}),t)i=t[n],pu[e][n]=i},fu.reset=function(){pu={},hu="en"},fu.setLang=function(e){pu[e]&&(hu=e)},fu.translations=function(){return pu},fu.add("en",cu),fu.add("es",uu),fu.add("pt",lu),fu.add("nl",du);class yu{constructor(e,t,n,i,r){this.player_={},this.actionType_=void 0,this.eventType_=void 0,this.logPlaybackDetails_=!0,this.data_=void 0,this.player_=e,this.actionType_=t,this.eventType_=n,this.logPlaybackDetails_=i,this.data_=r}getLoggingEvent(){const e=this.defaultLoggings_();if(this.logPlaybackDetails_){const t=this.getPlayerInfo(),n=this.player_.error();return n&&(n.code||n.message)?{...e,...t,...n,...this.data_}:{...e,...t,...this.data_}}return{...e,eventType:this.eventType_,actionType:this.actionType_,...this.data_}}defaultLoggings_(){const{location:{href:e}={},navigator:{userAgent:t}={},languages:n}=window||{};return{href:e,userAgent:t,languages:n,swid:(new cs).SWID}}getPlayerInfo(){const e=this.player_,{src:t}=e.currentSource(),{vhs:n,dash:i}=e;if(n)return this.getPlayerInfoFromVHS(t,n);if(i){const{mediaPlayer:e}=i;return this.getPlayerInfoFromDash(t,e)}return null}getPlayerInfoFromVHS(e,t={}){const{playlists:{media_:{resolvedUri:n}={}}={},masterPlaylistController_:{mainSegmentLoader_:{error_:i,pendingSegment_:r}={}}={},stats:{bandwidth:o,buffered:a,currentSource:{src:s},currentTime:c,mediaRequests:u,mediaRequestsAborted:l,mediaRequestsTimedout:d,mediaRequestsErrored:h,mediaTransferDuration:p,mediaBytesTransferred:f,mediaSecondsLoaded:y,videoPlaybackQuality:m}={}}=t;return{playerSource:e,resolvedUri:n,error_:i,pendingSegment_:r,bandwidth:o,buffered:a,currentTime:c,mediaRequests:u,mediaRequestsAborted:l,mediaRequestsTimedout:d,mediaRequestsErrored:h,mediaTransferDuration:p,mediaBytesTransferred:f,mediaSecondsLoaded:y,videoPlaybackQuality:m,currentSource:s,mediaType:"VHS",eventType:this.eventType_,actionType:this.actionType_}}getPlayerInfoFromDash(e,t={}){let n={};if(t.getActiveStream&&"function"==typeof t.getActiveStream){const e=t.getActiveStream();e&&"function"==typeof e.getId&&(n.activeStreamId=e.getId())}if(t.getDashAdapter&&"function"==typeof t.getDashAdapter){const e=t.getDashAdapter();if(e&&"function"==typeof e.getMpd){const t=e.getMpd();if(t&&"object"==typeof t){const{availabilityEndTime:e,availabilityStartTime:i,maxSegmentDuration:r,mediaPresentationDuration:o,minimumUpdatePeriod:a,suggestedPresentationDelay:s,timeShiftBufferDepth:c}=t;n={...n,availabilityEndTime:e,availabilityStartTime:i,maxSegmentDuration:r,mediaPresentationDuration:o,minimumUpdatePeriod:a,suggestedPresentationDelay:s,timeShiftBufferDepth:c}}}}return{...n,playerSource:e,mediaType:"Dash",eventType:this.eventType_,actionType:this.actionType_}}}class mu{constructor(e,t,n,i){this.serviceUrl_=void 0,this.accountId_=void 0,this.insertKey_=void 0,this.enabled_=!1,this.serviceUrl_=e,this.accountId_=t,this.insertKey_=n,this.enabled_=i}logEvent(e={}){if(this.enabled_){const t=this._getServiceUrl(this.serviceUrl_,this.accountId_),n=this._getHeaders(this.insertKey_);return this.sendLogEvent(e,n,t)}return null}_getServiceUrl(e,t){return`${e}${t}/events`}_getHeaders(e){return{"Content-Type":"application/json","X-Insert-Key":e}}async sendLogEvent(e,t,n){return await Jc({url:n,headers:t,postData:e,method:"POST",isAuthNeeded:!1})}}function vu(e,t){e.on("error",n=>{const{mediainfo:{cerebroId:i,id:r}={}}=e;!async function({player:e,actionType:t,message:n,newRelicConfig:i,logPlaybackDetails:r=!0,eventType:o="webPlayerBundlePlayback",data:a}){try{const{serviceUrl:s,accountId:c,insertKey:u,enabled:l}=i,d=new yu(e,t,o,r,a),h=new mu(s,c,u,l),p=d.getLoggingEvent(),f=await h.logEvent(p);if(f&&f.err)throw new Error(`${n}: ${f.err}`)}catch(e){console.error("newRelicLogging: "+e)}}({player:e,newRelicConfig:t,actionType:n.type,message:"send newRelic logging onError",data:{mediainfoId:r,cerebroId:i}})})}class gu extends class{constructor(t,n,i){this.player_=void 0,this.element_=null,this.adobeNielsen_=null,this.adobeMonitor_=null,this.programChangeMonitor_=null,this.playlistId_=null,this.configs_={authButler:{partner:"watchespn",platform:"web"},concurrencyMonitor:{messages:null,serviceUrl:null,platform:"web",applicationId:"3bfbbbdf-be8e-40be-9540-97a73469ada2",programmer:"ESPN"},endcard:!0,loop:!1,seekStep:10,skipInitialFocus:!0,volume:{namespace:"dtci",value:1,muted:!1},disableAdobe:!0,disableComscore:!0,disableChartbeat:!0,disableNielsen:!0},this.isPlaying=!1,this.analytics_=null;let r=t;if("string"==typeof r&&(0===nr(r).call(r,"#")&&(r=Lr(r).call(r,1)),r=document.getElementById(r)),!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid.");this.configs_=this.mergeConfigs_(n);const{configs_:{advertisingInfo:o,authorizationPayload:a}={}}=this;this.createEl_(r),this.coordinator=i||new e,this.advertisingInfo=o||new w,this.authorizationPayload=a||new v($r.none,null,null,null),this.prepareForPlayer_(),this.createPlayer_(),this.configurePlayer_(),this.initContent_()}set player(e){this.player_=e}get player(){return this.player_}set analytics(e){this.analytics_=e}get analytics(){return this.analytics_}get isInAdMode(){const{ads:e}=this.player||{};return e&&"function"==typeof e.isInAdMode&&e.isInAdMode()}get adId(){const{player:e}=this;let t;if(e.ads&&e.ads.ad)t=e.ads.ad.id;else if(e.ima&&"function"==typeof e.ima.getAdsManager){const n=e.ima.getAdsManager().getCurrentAd();t=n&&n.getAdId()}return t||""}get mediaItem(){return this.player&&this.player.mediaItem||null}updateConfiguration(e){this.configs_=this.mergeConfigs_(e);const{configs_:{advertisingInfo:t,authorizationPayload:n}={}}=this;this.advertisingInfo=t||new w,this.authorizationPayload=n||new v($r.none,null,null,null),this.configurePlayer_(),this.initContent_()}updateAnalytics(e){const{chartbeat:t,comscore:n,conviva:i,adobeDCR:r}=e,{analytics:o}=this;return t&&o.chartbeat(t),n&&o.comscore(n),i&&o.conviva(i),r&&o.adobeDCR(r),o}mergeConfigs_(e={}){this.configs_.seekStep=e.isAudio?15:10;const t={...this.configs_,...e};return e.concurrencyMonitor&&(t.concurrencyMonitor={...this.configs_.concurrencyMonitor,...e.concurrencyMonitor}),e.volume&&(t.volume={...this.configs_.volume,...e.volume}),t}createEl_(e){const{configs_:{isAudio:t,brand:n="espn",theme:i,language:r="en",iphoneplaysinline:o}={}}=this,a=t?"audio":"video",s=i?" "+i:"",c=t?`branded audio ${n}-audio${s}`:`video ${n}-video${s}`;this.element_=e.tagName.toLowerCase()===a?e:document.createElement(a),this.element_.controls=!0,this.element_.preload="metadata",this.element_.className="evp-player video-js "+c,o&&zs&&Vs&&this.element_.setAttribute("playsinline",!0),this.element_.setAttribute("lang",r),e.tagName.toLowerCase()!==a&&e.parentNode&&e.parentNode.replaceChild(this.element_,e)}prepareForPlayer_(){const{configs_:{wasUserInitiated:e}={}}=this;this.startType=!1===e?"autostart":"manual",e&&(this.configs_.volume.muted=!1),this.configureAnalytics_()}configureAnalytics_(){const{configs_:{analytics:e,disableAdobe:t,disableNielsen:n}={}}=this,i=!t&&!n;this.analytics_=new ds,e&&(this.analytics_.config=e),i&&this.analytics_.adobeDCR({ESPN_CUSTOM_METADATA:{startType:this.startType}})}createPlayer_(){try{if("function"!=typeof this.tech)throw new Error("BasePlayerAdapter: `tech()` MUST be a valid constructor");this.player=this.tech(this.element_)}catch(e){console.error(e)}}tech(){return null}configurePlayer_(){const{configs_:{autoplay:e}={}}=this;null!=e&&this.autoplay(e),document.hidden&&this.autoplay(!1)}initContent_(){const{error:e,disableConviva:t,adOnly:n}=this.configs_;if(e){const{player:n,analytics:i}=this;return n.conviva&&!t&&n.conviva(i.conviva()),this.error(e)}return n?this.adOnly():this.getMediaItemForPlayback_()}async adOnly(){try{const{player:e}=this;this.autoplay(!0),e.preload&&e.preload("metadata"),this.startType="autostart",this.analytics.adobeDCR({ESPN_CUSTOM_METADATA:{startType:this.startType}});const t=await this.initAdProvider_({});t&&(this.advertisingInfo=ou(this.advertisingInfo,e,{}),t.initAds(this.advertisingInfo),this.src({src:"data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAA79tZGF0AAAC9AYF///w3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9MTIgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTEga2V5aW50PTI0MCBrZXlpbnRfbWluPTI0IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9MTAgcmM9Y3JmIG1idHJlZT0xIGNyZj01MS4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT0yMDAwMCB2YnZfYnVmc2l6ZT0yNTAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADFliIQAbwTYb+YMExstjI/2DFAAAAMAAA94QCcYYsAAASkAtD1oHHXQk/QgAAADAHxBAAAACUGaJBiL/wAA/wAAAAhBnkJCfwAB6QAAAAgBnmFF/wAB8wAAAAgBnmNF/wAB8wAAAApBmmg0TET/AAEPAAAACkGehkURLP8AAekAAAAIAZ6lRf8AAfMAAAAIAZ6nRf8AAfMAAAAJQZqrNExfAAFTAAAACEGeykJfAAHpAAAACAGe6UX/AAHzAAADym1vb3YAAABsbXZoZAAAAADTQ/Pq00Pz6gAAA+gAAAHLAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAL1dHJhawAAAFx0a2hkAAAAD9ND8+rTQ/PqAAAAAQAAAAAAAAHLAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAGsAAAA8AAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAABywAAHVQAAQAAAAACbW1kaWEAAAAgbWRoZAAAAADTQ/Pq00Pz6gABX5AAAKFMVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAhhtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAHYc3RibAAAAJhzdHNkAAAAAAAAAAEAAACIYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAGsAPAASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADJhdmNDAU1AKP/hABpnTUAo7KDY/3zUBAQFAAADAAEAAr8gDxgxlgEABWjvgZcgAAAAQHN0dHMAAAAAAAAABgAAAAUAAA6qAAAAAQAADqkAAAADAAAOqgAAAAEAAA6pAAAAAQAADqoAAAABAAAAAAAAABRzdHNzAAAAAAAAAAEAAAABAAAAcGN0dHMAAAAAAAAADAAAAAEAAB1UAAAAAQAASVEAAAABAAAdVAAAAAEAAAAAAAAAAQAADqoAAAABAABJUAAAAAEAAB1UAAAAAQAAAAAAAAABAAAOqgAAAAEAADqnAAAAAQAAHVQAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAADAAAAAEAAABEc3RzegAAAAAAAAAAAAAADAAAAy0AAAANAAAADAAAAAwAAAAMAAAADgAAAA4AAAAMAAAADAAAAA0AAAAMAAAADAAAABRzdGNvAAAAAAAAAAEAAAAwAAAAYXVkdGEAAABZbWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAsaWxzdAAAACSpdG9vAAAAHGRhdGEAAAABAAAAAExhdmY1NC42LjEwMA==",type:"video/mp4"}))}catch(e){console.error("init adOnly failed: "+e)}}async getMediaItemForPlayback_(){const{identifier:e,mediaItem:t}=this.configs_;try{let n=t;if(n||(n=await va(e)),n)return this.coordinator.coordinate("dtci.loaded",n),"audio"===n.type&&"longform"===n.entityType&&(this.player_.controlBar.seekToLive.el_.removeAttribute("title"),this.player_.controlBar.seekToLive.show()),"shortform"===n.entityType?this.clipLoadedCallback(n):this.initPlaybackSession(n)}catch(e){console.error("getMediaItemForPlayback failed: "+e)}return null}async clipLoadedCallback(e){try{const{player:t}=this,{duration:n,images:[{url:i}],source:{url:r},type:o,brand:a}=e;"function"!=typeof t.conviva||this.configs_.disableConviva||t.conviva(this.analytics.conviva());const s=await this.initAdProvider_(e);if(s){const{configs_:c}=this;"function"==typeof this.mediainfo&&this.mediainfo(e),i&&!this.autoplay()?this.poster(i):this.poster("data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs="),c.loop&&"function"==typeof this.loop?this.loop():c.endcard&&"function"==typeof this.endcard&&this.endcard(e,c.endcard),"function"==typeof this.social&&new wa(t.mediainfo,this.social,c.social),this.advertisingInfo=ou(this.advertisingInfo,t,e),s.initAds(this.advertisingInfo);const u=this.getAuthenticationManager(e),l=await u.initPlaybackSession(e,this.advertisingInfo);if(l?this.src(l.playbackUrl):t.error("clipLoadedCallback unable to obtain playbackSession for clip"),"function"==typeof this.thumbnails&&!0!==c.disableTimelinePreview)if("audio"===o&&"function"==typeof t.timeDisplay)t.timeDisplay();else{const e="espn"===a?r:l.playbackUrl,t=await iu(e,n,a);t&&this.thumbnails(t)}this.initAnalytics()}}catch(e){console.error("clipLoadedCallback failed: "+e)}}async initPlaybackSession(e){const{player:t}=this;try{const n=ou(this.advertisingInfo,t,e),i=this.getAuthenticationManager(e),r=await i.initPlaybackSession(e,n);r&&(i.concurrencyMonitorBuilder&&(this.adobeMonitor_=function(e,t,n){let i;return e.concurrencyMonitorSessionId&&(i=t.withSession(e).build(),i&&i.startWithSession(e.concurrencyMonitorSessionId)),i?(i.onError=()=>{const{subject:e}=i;n.coordinate("dtci.concurrencyMonitor.limitReached",{subject:e})},i):null}(r,i.concurrencyMonitorBuilder,this.coordinator)),this.initProgramChangeMonitor(e),this.watchLoadedCallback(e,r),"audio"===e.type&&"function"==typeof t.timeDisplay&&t.timeDisplay())}catch(e){const{player:t}=this;t&&"function"==typeof t.error&&t.error("mediaItem initPlaybackSession failed: "+e),this.cleanUp(),console.error("initPlaybackSession error: "+e)}}getAuthenticationManager(e){const{api:{shieldApiKey:t}={},authButler:{partner:n="watchespn",platform:i="web"}={},concurrencyMonitor:r,enableDRM:o,entitlement:a}=this.configs_||{},s=new Qo(t);s.drmSupport=o?function(){let e;return Js&&!js&&(e="HLS"),js&&(e=null),Qs?Us?e="DASH_PLAYREADY":Xs?e=null:Ws||Ns&&!zs?e="DASH_WIDEVINE":xs&&(e="HLS_FAIRPLAY"):console.warn("DTCIVideoPlayer: DRM was requested by configuration, but this browser does not support EME."),e}():"HLS";const c=new Wo(n,i),{authenticationType:u,customData:{tokenType:l}={}}=this.authorizationPayload||{};u||(this.authorizationPayload.authenticationType=au(e,l));const d=new Jo;d.authorizationPayload=this.authorizationPayload,d.mediaItem=e;const h=[$r.mvpd,$r.isp,$r.open,$r.none],p=new $o(s),f=new qo(c),y=new So,{entitlementBaseUrl:m,appVersion:v,appName:g,device:A}=a||ta,b=new ea(m,v,g,A),w=new na(b),T=new Zo;return T.setAuthenticator(d,h),T.setAuthorizer(d,h),T.setPlaybackSessionFactory(p,Zr.shield),T.setPlaybackSessionFactory(f,Zr.startSession),T.setPlaybackSessionFactory(y,Zr.none),T.setPlaybackSessionFactory(w,Zr.entitlement),T.concurrencyMonitorBuilder=function(e){const{messages:t,serviceUrl:n,platform:i="web",applicationId:r="3bfbbbdf-be8e-40be-9540-97a73469ada2",programmer:o="ESPN"}=e,a=new Go(o,r,{[Do]:r,[Mo]:i,[Ro]:"",[jo]:"false",[xo]:o});return n&&a.withServiceUrl(n),t&&a.withMessages(t),a}(r),T}initProgramChangeMonitor(e){const t=this.getMediaItemDataSource(e),n=new ia(e,t);n.onProgramChange=e=>{this.adobeMonitor_&&this.adobeMonitor_.stop(),this.programChangeMonitor_&&this.programChangeMonitor_.stop(),this.initPlaybackSession(e),this.coordinator.coordinate("dtci.programChange",e)},this.programChangeMonitor_=n,this.programChangeMonitor_.start()}getMediaItemDataSource(e){switch(e.apiSource){case Xr.graphQL:return new fo;case Xr.pluto:return new mo;case Xr.cfa:return new fo}return null}async watchLoadedCallback(e,t){const{player:n}=this,{images:[{url:i}],seekInSeconds:r}=e;"function"!=typeof n.conviva||this.configs_.disableConviva||n.conviva(this.analytics.conviva({tags:{reloadCause:"null"}}));const o=await this.initAdProvider_(e);if(o){const a=dc(t);"function"==typeof this.mediainfo&&this.mediainfo(e),this.poster(i),"function"==typeof this.social&&new wa(n.mediainfo,this.social,this.configs_.social),this.advertisingInfo=ou(this.advertisingInfo,this.player,e),o.initAds(this.advertisingInfo),this.src(a),r&&n.currentTime(r),this.initAnalytics(),"function"==typeof n.adPassThrough&&n.adPassThrough()}}cleanUp(){this.adobeMonitor_&&(this.adobeMonitor_.stop(),this.adobeMonitor_=null),this.programChangeMonitor_&&(this.programChangeMonitor_.stop(),this.programChangeMonitor_=null)}mediainfo(e){const{player:t,configs_:{affiliate:n}={}}=this;if(e){const{description:i,duration:r,id:o,images:[{url:a}],isSyndicatable:s,network:c,references:{cerebroId:u,eventId:l,simulcastAiringId:d}={},source:{commercialReplacement:h,hasEspnId3Heartbeats:p,hasNielsenWatermarks:f,hasPassThroughAds:y}={},streamType:m,title:v,tracking:{comscore:{c6:g,ns_st_ct:A,ns_st_pu:b}={},heartbeats:{CMSID:w,League:T,PublishDate:S,PublishTime:_,ShowCode:E="Not Applicable",Sport:P,VideoTypeDetail:I}={},nielsen:{program:C,crossId1:k,crossId2:D}={}}={},webHref:M}=e,O={affiliate:n,cerebroId:u,commercialReplacement:h,comscoreC6:g,comscoreContentType:A,custom_fields:{},description:i,duration:r,eventId:l,hasEspnId3Heartbeats:p,hasNielsenWatermarks:f,hasPassThroughAds:y,headline:v,id:o,leagueName:T,live:"live"===m,name:w||"",program:C,nielsenCrossId1:k,nielsenCrossId2:D,originalPublishDate:S&&_?`${S}T${_}`:null,pageTitle:document.title||v,posterHref:a,publisher:b,showcode:E,simulcastAiringId:d,sourceId:c&&c.id,sourceType:c&&c.type,sportName:P,startType:this.startType,status:m,syndicatable:s,webHref:M};I&&(O.custom_fields.mediaType=I),t.mediainfo=O,t.mediaItem=this.getTrackMediaItem_(e,O)}return t.mediainfo}getTrackMediaItem_(e,t={}){const{name:n,headline:i,status:r,live:o,program:a,publisher:s,showcode:c,simulcastAiringId:u,leagueName:l,sportName:d,startType:h,originalPublishDate:p,custom_fields:f}=t;return{...e,name:n,headline:i,status:r,live:o,program:a,publisher:s,showcode:c,simulcastAiringId:u,leagueName:l,sportName:d,startType:h,originalPublishDate:p,mediaType:f,adIdSource:"GAM",playlistId:this.playlistId_}}async initAdProvider_(e){try{const{player:t,configs_:n,coordinator:i}=this;return await new Ts(t,e,n.adProvider,i)}catch(e){return console.error("initAdProvider failed: "+e),null}}src(e){const{player:t}=this;let n=e;!1===mr(n)&&(n=[n]);const i=n[0],r=su.test(i);this.updateCrossOrigin(r),t&&t.src&&t.src(n)}updateCrossOrigin(e){Ns||(this.element_.crossOrigin=zs&&"11"===Gs&&e?"use-credentials":void 0)}async initAnalytics(){try{const{player:e,configs_:t}=this;await this.coordinator.coordinate("dtci.updateAnalytics"),e.comscore&&!t.disableComscore&&e.comscore(this.analytics.comscore()),e.chartbeat&&!t.disableChartbeat&&e.chartbeat(this.analytics.chartbeat()),t.disableAdobe||t.disableNielsen||(this.adobeNielsen_?this.adobeNielsen_.loadNewOptions(this.analytics.adobeDCR()):this.adobeNielsen_=new Is(e,this.analytics.adobeDCR(),this.coordinator))}catch(e){console.error("initAnalytics: "+e)}}autoplay(e){const{player:t}=this;return t&&t.autoplay?t.autoplay(e):this}play(){const{player:e}=this;return e?e.play():Ii.reject()}pause(){const{player:e}=this;return e&&e.pause(),this}muted(e){const{player:t}=this;return t?t.muted(e):null}currentTime(e){const{player:t}=this;if(t){if(void 0===e)return t.currentTime();t.currentTime(e)}return this}currentType(){const{player:e}=this;return e?e.currentType():null}playbackRate(){const{player:e}=this;return e?e.playbackRate():null}duration(){const{player:e}=this;return e?e.duration():null}language(){const{player:e}=this;return e?e.language():null}requestFullscreen(){const{player:e}=this;return e&&e.requestFullscreen(),this}exitFullscreen(){const{player:e}=this;return e&&e.exitFullscreen(),this}captions(e){const{player:t}=this;return t?"function"!=typeof t.captionController?(console.warn("DTCIVideoPlayer: This player tech does not implement this method."),this):("boolean"==typeof e&&e!==t.captionController().tracksEnabled?t.captionController().toggleTracks():console.log("DTCIVideoPlayer: Captions already "+(e?"on":"off")),t.captionController().tracksEnabled):this}poster(e){const{player:t}=this;t&&t.poster&&t.poster(e)}listen(e,t){const{player:n}=this,i=Sr(t).call(t,this);return n.on(e,i),function(){try{n.off(e,i)}catch(e){console.error("Player unlisten error: "+e)}}}dispose(){this.adobeNielsen_=null,this.cleanUp(),this.configs_.disposeBundleCSS&&this.removePlayerCSSFromDom_(),this.player.dispose()}removePlayerCSSFromDom_(){const e=document.getElementById("web_player_css");e&&document.head.removeChild(e)}getNextContent(e){return async()=>{const t=await this.coordinator.coordinate("dtci.getNextContent",e);if(!t)return null;if("string"==typeof t){const e=await va(t);if(e)return this.playlistId_=e.id,this.coordinator.coordinate("load",e),e}return this.playlistId_=t.id,Ii.resolve(t)}}}{constructor(e,t={},n){var i,r;super(e,t,n),this.newRelic_={},this.isNRtrackingEnabled_=!1,this.lastErrorTime_=null,this.social=Sr(i=this.social).call(i,this),this.debouncedSetSizeClass=function(e,t=0){let n;return(...i)=>{clearTimeout(n),n=sr(()=>e.apply(this,...i),t)}}(Sr(r=this.setSizeClass).call(r,this),250)}get tech(){return window.videojs}get playerName(){return"DTCI bundle 3.2.38, VideoJS "+this.tech.VERSION}get platformVersion(){return"3.2.38"}prepareForPlayer_(){super.prepareForPlayer_();const e=this.configs_&&this.configs_.adProvider;if(e){const t=e.options||{};this.configs_.adProvider={options:t,provider:e.provider||"GoogleForVideoJS"}}this.setUpVideoJs_()}createPlayer_(){super.createPlayer_(),this.initPlugins_(),this.initEventHandlers_()}async configurePlayer_(){const e=this.configs_;if("userPreference"===e.autoplay){const t=new cs;e.autoplay=await t.getAutoStart(),this.updateAutoplayUI(e.autoplay)}else{const t="on"===e.autoplay||!0===e.autoplay;e.autoplay=!!t}super.configurePlayer_()}updateAutoplayUI(e){const{player:t,configs_:{isAudio:n}}=this;n&&"function"==typeof t.brandedSettingsMenu?t.brandedSettingsMenu().autoplayMenuItem.selected(e):"function"==typeof t.settingsMenu&&t.settingsMenu().autoplayMenuItem.selected(e)}setUpVideoJs_(){const e=fu.translations();for(const t in e)videojs.addLanguage(t,e[t]);videojs.hook("beforesetup",(e,t)=>(t.errorDisplay={pauseOnOpen:!0},this.configs_.chromeless&&(e.controls=!1,t.controls=!1),t))}initPlugins_(){const{configs_:{auth:e,disableAdSkip:t,disableFastForwardAndRewind:n,feedsMenu:i,logo:r,settingsMenu:o,seekStep:a,skipInitialFocus:s,volume:c,isAudio:u,playbackRates:l=[.5,1,1.5,2]}={}}=this,{player:d}=this;if(this.initNewRelicOnTrackingEnabled_(),"function"==typeof d.id3&&d.id3(),videojs.browser.TOUCH_ENABLED&&"function"==typeof d.contextmenuUI&&d.contextmenuUI({content:[]}),videojs.getComponent("logoLink")&&d.addChild("logoLink",r,4),"function"==typeof d.captionController&&d.captionController(),"function"!=typeof d.settingsMenu||u){if("function"==typeof d.brandedSettingsMenu){let e;mr(l)&&(e=yr(l).call(l,(e,t)=>t-e));const t={...o,playbackRates:e};d.brandedSettingsMenu(t)}}else d.settingsMenu(o);i&&"function"==typeof d.streamPicker&&(i.auth=e,d.streamPicker(i)),videojs.getComponent("captionSettings")&&d.addChild("captionSettings"),"function"==typeof d.adUI&&d.adUI({disableAdSkip:t}),"function"==typeof d.audioContentContainer&&d.isAudio_&&d.audioContentContainer(),d.controlBar.seekToLive.hide(),videojs.getComponent("fastForward")&&!n&&(d.controlBar.addChild("fastForward",{seekStep:a},2),d.controlBar.addChild("rewind",{seekStep:a},2)),"function"==typeof d.volumeMenuButton&&d.volumeMenuButton(c),videojs.getPlugin("hotkeys")&&d.hotkeys({seekStep:a,enableVolumeScroll:!1,enableInactiveFocus:!1,skipInitialFocus:s})}initEventHandlers_(){const{configs_:{loop:e}={},player:t}=this;t.on("error",()=>this.handlePlayerErrorEvent_()),t.on("touchstart",()=>{t.paused()&&t.usingNativeControls()&&t.play()}),t.on("ads-pod-started",()=>{t.addClass("vjs-ad-playing"),this.coordinator.coordinate("dtci.ads.podStarted",{type:"preroll"})}),t.on("ads-pod-ended",()=>{this.coordinator.coordinate("dtci.ads.podEnded",{type:"preroll"}),t.paused()&&t.play(),t.removeClass("vjs-ad-playing")}),t.on("adend",()=>{t.removeClass("vjs-ad-loading")}),t.on("contentplayback",()=>{t.one("mouseover",()=>t.el().classList.remove("not-hover"))}),t.on(["play","ads-play","ads-ad-started"],()=>{this.isPlaying=!0}),t.on(["pause","ads-pause"],()=>{this.isPlaying=!1});const n=()=>this.coordinator.coordinate("dtci.playing");t.on("play",()=>{this.coordinator.coordinate("dtci.play"),t.one("playing",n)}),t.on("pause",()=>{this.coordinator.coordinate("dtci.pause"),t.off("playing",n)}),t.on("dtci.autoplayToggled",(e,t)=>{(new cs).setAutoStart(t),this.coordinator.coordinate("dtci.autoplayToggled",t)}),t.on("ended",()=>{t.ads.state&&"content-playback"!==t.ads.state||(this.coordinator.coordinate("dtci.contentEnded"),e&&t.play())}),t.on("fullscreenchange",()=>{this.coordinator.coordinate(t.isFullscreen()?"dtci.fullscreen.entered":"dtci.fullscreen.exited"),zs&&!t.isFullscreen()&&(t.tech().el().controls=!1)}),t.on("loadstart",()=>this.handlePlayerLoadstartEvent_()),this.coordinator.addEventListener("dtci.concurrencyMonitor.limitReached",()=>this.error("STREAM_LIMITED")),t.on(["dtci.captionSettings.closed","dtci.captionSettings.opened","dtci.socialOverlay.closed","dtci.socialOverlay.opened"],e=>{this.coordinator.coordinate(e.type)}),t.on("ads-ad-started",()=>{const e=this.adId;t.addClass("vjs-ad-playing"),this.coordinator.coordinate("dtci.ads.adStarted",{type:"preroll",id:e})}),t.on("ads-ad-ended",()=>{const e=this.adId;this.coordinator.coordinate("dtci.ads.adEnded",{type:"preroll",id:e}),t.removeClass("vjs-ad-playing"),sr((function(){t&&t.paused()&&t.play()}),500)}),t.on("ads-play",()=>this.coordinator.coordinate("dtci.ads.play")),t.on("ads-pause",()=>this.coordinator.coordinate("dtci.ads.pause")),t.on("ads-ad-skipped",()=>(t.paused()&&t.play(),this.coordinator.coordinate("dtci.ads.adSkipped"))),t.on("dispose",()=>this.coordinator.coordinate("dtci.dispose")),t.on("seeking",()=>this.coordinator.coordinate("dtci.seeking")),t.on("seeked",()=>this.coordinator.coordinate("dtci.seeked")),t.on("timeupdate",()=>{const{player:e}=this,t=e.currentTime();this.coordinator.coordinate("dtci.timeupdate",{currentTime:t})}),this.configs_.chromeless&&(t.addClass("espn-chromeless"),t.on("controlsenabled",()=>t.controls(!1))),t.on("ads-allpods-completed",()=>{t.paused()&&t.play()}),this.handleSpaceBarKeydownEvent_(),t.on("volumechange",()=>{const e=t.volume();let n;n=t.muted()?{value:e,muted:!0}:{value:e,muted:!1},this.coordinator.coordinate("dtci.volumeChanged",n)}),t.ready(()=>{this.setSizeClass(),window.addEventListener("resize",this.debouncedSetSizeClass),this.coordinator.coordinate("dtci.embedded")})}handlePlayerErrorEvent_(){const{player:e}=this,t=e.error();var n;t&&(e.ads&&"function"==typeof e.ads.isAdPlaying&&e.ads.isAdPlaying()&&(e.pause(),e.ima3&&e.ima3.adPlayer&&e.ima3.adPlayer.pause(),e.ima&&"function"==typeof e.ima.pauseAd&&e.ima.pauseAd()),-2===t.code||1001===t.code?(this.lastErrorTime_&&ir()-this.lastErrorTime_<3e4&&(this.lastErrorTime_=0,e.reset(),e.error(t),this.coordinator.coordinate("dtci.error",t)),0!==this.lastErrorTime_&&(this.lastErrorTime_=ir())):"DRM_REQUIRED"===t.message||nr(n=[1002,3016,4012,6001,6004,6007,6008]).call(n,t.code)>-1?this.coordinator.coordinate("dtci.drm.error",t):this.coordinator.coordinate("dtci.error",t))}handlePlayerLoadstartEvent_(){const{player:e}=this,t=e.tech({IWillNotUseThisInPlugins:!0}).vhs;t&&(videojs.Vhs.Playlist.UNSAFE_LIVE_SEGMENTS=4,t.xhr.beforeRequest=e=>{new RegExp("generateKey").test(e.uri)&&(e.withCredentials=!0)});const n=e&&e.currentWidth()||-1;js&&n<=640&&(e.muted(!1),e.volume(1),e.controlBar.volumePanel.volumeControl.hide())}handleSpaceBarKeydownEvent_(){document.addEventListener("keydown",e=>{const{keyCode:t,target:n}=e||{},{player:i}=this,{configs_:{disableSpacebarPlayToggle:r}={}}=this,o=i&&i.el(),a=n===document.body||n===o;!r&&e&&a&&32===t&&(e.preventDefault(),this.isPlaying?this.pause():this.play())})}initNewRelicOnTrackingEnabled_(){const{player:e}=this,{analytics:{newRelic:t}={},drmTesting:n}=this.configs_||{};this.isNRtrackingEnabled_=t&&t.enabled&&!n,this.isNRtrackingEnabled_&&(this.newRelic_=t,vu(e,t))}autoplay(e){let t;return null!=e&&(t=!!e&&"any"),this.player.autoplay(t)}play(){try{const{player:e}=this;if(e){const{adPlayer:t}=e.ima3||{};return t&&0!==t.duration()?t.play():e.ima&&"function"==typeof e.ima.resumeAd&&this.isInAdMode?(e.ima.resumeAd(),Ii.resolve()):e.play()}throw new Error("player is null.")}catch(e){return this.error("promise play failed "+e),Ii.reject()}}pause(){const{player:e}=this;if(e){const{adPlayer:t}=e.ima3||{};t&&0!==t.duration()?t.pause():e.ima&&"function"==typeof e.ima.pauseAd&&this.isInAdMode?e.ima.pauseAd():e.pause()}return this}muted(e){const{player:t}=this;if(t){if(void 0===e)return t.muted();const n=t.muted(e),{adPlayer:i}=this.player.ima3||{};return i&&"function"==typeof i.muted&&i.muted(e),n}return this}error(e,t){const{player:n}=this,i=this.buildErrObject_(e);window.newrelic&&"function"==typeof window.newrelic.noticeError&&window.newrelic.noticeError(new Error(i.type||i.headline||i.message)),n.ready(()=>{n.error(i),this.showCustomErrorContent_(t)})}showCustomErrorContent_(e){if(!e)return;const{player:t}=this,n=t.getChild("errorDisplay");let i;e.nodeName?i=e:(i=document.createElement("div"),i.innerHTML=e),i.className="vjs-errors-dialog",i.id="vjs-errors-dialog",n.fillWith(i),(t.width()<=600||t.height()<=250)&&n.addClass("vjs-xs")}buildErrObject_(e){let t;return"object"==typeof e?(t={message:e.message,headline:e.headline||e.message},(e.code||e.status)&&(t.code=e.code||e.status),(e.type||e.abbreviation)&&(t.type=e.type||e.abbreviation),e.exception&&(t.message=e.exception,t.headline=e.exception)):t={headline:e,message:e},t}thumbnails(e){const{player:t}=this;"function"==typeof t.thumbnails&&(t.controlBar&&t.controlBar.progressControl.$(".vjs-thumbnail-holder")?t.thumbnails().updatePreviews(e):t.thumbnails(e),t.thumbnailTime())}social(e){const{player:t}=this;return(e&&"function"==typeof t.social||this.configs_.isAudio)&&(e&&"function"==typeof t.brandedSocial||!this.configs_.isAudio)?this.configs_.isAudio?t.brandedSocial(e):t.social(e):null}endcard(e,t={}){const n=this.getNextContent(e),{configs_:{disableAdobe:i,disableNielsen:r}={}}=this,{timeout:o}=t,a=!i&&!r;this.player.endcard&&"function"==typeof this.player.endcard&&this.player.endcard().updateOptions({getNextContent:n,timeout:o,timeoutHandler:(e,t)=>{this.startType=t?"manual:endcard_continuous":"endcard_continuous",a&&(this.analytics.adobeDCR({ESPN_CUSTOM_METADATA:{startType:this.startType}}),this.analytics.conviva({tags:{startType:this.startType}})),this.clipLoadedCallback(e)}})}watchLoadedCallback(e,t){const{player:n}=this;super.watchLoadedCallback(e,t),e&&e.isLive&&n.on("play",()=>{n.seekable().length>0&&n.mediainfo.live&&n.currentTime(n.seekable().end(0))})}setSizeClass(){const{player:e}=this,t=e&&e.currentWidth()||-1;t>=900?e.addClass("desktop-view"):e.removeClass("desktop-view"),t>=660&&t<900?e.addClass("tablet-view"):e.removeClass("tablet-view"),t<660?e.addClass("mobile-view"):e.removeClass("mobile-view")}dispose(){const{player:e}=this;if(window.removeEventListener("resize",this.debouncedSetSizeClass),e)try{e.dispose()}catch(e){console.error(e)}super.dispose.apply(this)}static loadTech(e={}){if(window.videojs&&(gu.techLoadedPromise=Ii.resolve()),gu.techLoadedPromise)return gu.techLoadedPromise;const{playerBaseUrl:t="https://assets.espn.com/players/web-player-bundle/3.2.38/",unminified:n=!1}=e,i=`${t}dtci.video${n?"":".min"}.js`;return gu.techLoadedPromise=Yi.url(i),gu.techLoadedPromise}}gu.techLoadedPromise=null;class Au extends gu{constructor(e,t={},n){super(e,t,n);const{player:i}=this;i.bcinfo=i.bcinfo||{},i.bcinfo.applicationId="espn-web-player-bundle@v3.2.38",this.mergeAdsConfig_()}get tech(){return window.bc}get playerName(){const e=this.bcAnalyticsSettings_();return e&&e.playerName}get platformVersion(){const e=this.bcAnalyticsSettings_();return e&&e.platformVersion}bcAnalyticsSettings_(){return this.player.bcAnalytics&&this.player.bcAnalytics.settings}mergeAdsConfig_(){const e=this.configs_&&this.configs_.adProvider;if(e){const t=e.options||{};this.configs_.adProvider={options:t,provider:e.provider||"Google"}}}static loadTech(e={}){if(window.bc&&(Au.techLoadedPromise=Ii.resolve()),Au.techLoadedPromise)return Au.techLoadedPromise;const t=Au.getPlayerId(e)||"aqgsinRY0_default",{accountId:n="3948005062001",unminified:i=!1}=e,r=`https://players.brightcove.net/${n}/${t}/index${i?"":".min"}.js`;return Au.techLoadedPromise=Yi.url(r),Au.techLoadedPromise}static getPlayerId(e){const{type:t,hasDRM:n,playerId:i}=e;if(!i){switch(!0){case"video"===t&&n:return"aqgsinRY0_default";case"video"===t&&!n:return"Yo9Nxoqv9_default";case"audio"===t&&n:return"8mRX4ixi7Y_default";case"audio"===t&&!n:return"i8dWsOdVt_default";default:return null}}return i}}Au.techLoadedPromise=null;class bu{get configuration(){return this.configuration_}constructor(e){this.configuration_=e}async getBootstrapConfig(){const e=this.getBootstrapConfigUrl(this.configuration),t=await Jc({url:e,method:"GET"});return t&&t.success?t.response:null}getBootstrapConfigUrl(e){return this.isApiForQA_(e)?"https://api.config.watchabc.go.com/appsconfig/qa/js-mmp-espn/001/1.0.0/config.json":"https://api.config.watchabc.go.com/appsconfig/prod/js-mmp-espn/001/1.0.0/config.json"}isApiForQA_(e){const{api:{apienv:t=""}={}}=e||{};if("qa"===t.toLowerCase())return!0;const n=window&&window.location.href&&window.location.href;return n&&null!==n.match(/(?=.*apienv=qa)/i)}mergeNewRelicConfig(e){const t=this.getNewRelicConfig(e);return this.configuration.analytics?this.configuration.analytics={...this.configuration.analytics,newRelic:{...t,...this.configuration.analytics.newRelic}}:this.configuration.analytics={newRelic:t},this.configuration}getNewRelicConfig(e){const{features:{analytics:{newRelic:t}={}}={}}=e||{};return t}}function wu(){try{const{location:{hostname:e}={}}=window;let t="https://assets.espn.com/players/web-player-bundle/3.2.38/";"local.espn.com"===e&&(t="/");if(!document.querySelector("link[href*=espn-web-player-bundle]")){const e=document.createElement("link");e.id="web_player_css",e.rel="stylesheet",e.href=t+"espn-web-player-bundle.css",document.head.appendChild(e)}}catch(e){console.error("injectPlayerBundleCssIntoDom error: "+e)}}class Tu{constructor(t,n={}){if(this.Adapter_=null,this.element_="[object String]"===Object.prototype.toString.call(t)?document.getElementById(t):t,!this.element_)throw new Error("element MUST be an HTML element or a valid selector");switch(this.element_.parentNode&&(this.container_=this.element_.parentNode,this.containerClone_=this.container_.cloneNode(!0)),n.tech){case"videojs":this.Adapter_=gu;break;default:this.Adapter_=Au}Tu.techLoadedPromise=this.Adapter_.loadTech(n),this.coordinator=new e,wu()}get bundle(){return this.bundle_}set bundle(e){return this.bundle_=e,this.bundle_}get isPlaying(){return this.bundle&&this.bundle.isPlaying}get adId(){return this.bundle&&this.bundle.adId}get mediaItem(){return this.bundle&&this.bundle.mediaItem}get playerName(){return this.bundle&&this.bundle.playerName}get platformVersion(){return this.bundle&&this.bundle.platformVersion}async load(e){const{advertisingInfo:t,authorizationPayload:n,configuration:i,identifier:r,mediaItem:o}=e;return i.advertisingInfo=t,i.authorizationPayload=n instanceof v?n:function(e,t){const{accountId:n,authenticationType:i,customData:{resource:r,token:o,tokenType:a}={},provider:s}=e||{},c={resource:r,token:o,tokenType:a},u=new f(s,s,null,null);let l=i;return t&&t.authenticationTypes&&(l=au(t,a)),new v(l,u,n,c)}(n,o),i.identifier=r,i.mediaItem=o,o&&(i.isAudio="audio"===o.type,i.brand||(i.brand=o.brand)),this.initBundleOrUpdateConfigs_(i)}async initBundleOrUpdateConfigs_(e){if(!Tu.loadedPromise||Tu.loadedPromise&&!this.bundle){if(await Tu.techLoadedPromise||!this.bundle){const t=new bu(e),n=await t.getBootstrapConfig();let i=e;return n&&(i=t.mergeNewRelicConfig(n)),this.bundle=new this.Adapter_(this.element_,i,this.coordinator),Tu.loadedPromise=!0,this.bundle}}else this.bundle&&(this.bundle.updateConfiguration(e),this.updateAnalytics({...e.analytics}));return this}updateAnalytics(e){const{bundle:t}=this;return t&&t.updateAnalytics(e)}addEventListener(e,t){return this.coordinator.addEventListener(e,t),this}addEventInterceptor(e,t){return this.coordinator.addEventInterceptor(e,t),this}removeEventListener(e,t){return this.coordinator.removeEventListener(e,t),this}removeEventInterceptor(e){return this.coordinator.removeEventInterceptor(e),this}play(){const{bundle:e}=this;return e&&e.play()}pause(){const{bundle:e}=this;return e&&e.pause()}muted(e){const{bundle:t}=this;return t&&t.muted(e)}currentTime(e){const{bundle:t}=this;return t&&t.currentTime(e)}autoplay(){const{bundle:e}=this;return e&&e.autoplay()}currentType(){const{bundle:e}=this;return e&&e.currentType()}playbackRate(){const{bundle:e}=this;return e&&e.playbackRate()}duration(){const{bundle:e}=this;return e&&e.duration()}language(){const{bundle:e}=this;return e&&e.language()}requestFullscreen(){const{bundle:e}=this;return e&&e.requestFullscreen()}exitFullscreen(){const{bundle:e}=this;return e&&e.exitFullscreen()}captions(e){const{bundle:t}=this;return t&&t.captions(e)}unembed(e=!1){const{bundle:t,container_:n,containerClone_:i}=this;t&&(t.dispose(),this.bundle=null,n&&n.parentNode&&(e?n.parentNode.removeChild(n):n.parentNode.replaceChild(i,n)))}remove(){this.unembed(!0)}error(e,t){const{bundle:n}=this;return n&&n.error(e,t),this}}return Tu.techLoadedPromise=null,Tu.loadedPromise=null,Tu.VERSION="3.2.38",wu(),Tu}));
